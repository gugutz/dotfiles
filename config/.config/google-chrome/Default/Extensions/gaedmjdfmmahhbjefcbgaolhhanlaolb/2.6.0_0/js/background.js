!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n,i;n=[r(216),r(5),r(53),r(158)],i=function(e,t,r,n){return chrome.app.runtime.onLaunched.addListener(t.create),chrome.runtime.onInstalled.addListener(r.update),e.initializeListeners(),n.get()}.apply(t,n),!(void 0!==i&&(e.exports=i))},,,,function(e,t,r){var n,i;n=[],i=function(){var e;return e=function(){function e(e){this.message=e}return e.prototype.toString=function(){return this.constructor.name+": "+this.message},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){var e;return e=function(){function e(){}var t;return e.REGISTRATION_SECTION_SIZE={width:900,height:600},e.TOKENS_SECTION_SIZE={width:350,height:590},e.SETTINGS_SECTION_SIZE={width:550,height:510},e.REGISTRATION_TYPE="registration",e.TOKENS_TYPE="tokens",e.SETTINGS_TYPE="settings",t=0,e.closeWindow=function(){return e.getCurrentWindow().close()},e.minimizeWindow=function(){return e.getCurrentWindow().minimize()},e.setSize=function(t){var r;return r=e.getCurrentWindow(),null!=t.x&&null!=t.y?r.resizeTo(t.x,t.y):null!=t.width&&null!=t.height?(r.outerBounds.minHeight=t.height,r.outerBounds.minWidth=t.width,r.resizeTo(t.width,t.height)):void 0},e.getCurrentWindow=function(){return chrome.app.window.current()},e.getFirstWindow=function(){return this.areThereWindowsCreated()?chrome.app.window.getAll()[0]:null},e.areThereWindowsCreated=function(){return t>0},e.getCurrentWindowSize=function(){return e.getCurrentWindow().getBounds()},e.getCurrentWindowType=function(){var t,r;switch(t=e.getCurrentWindowSize().width,r="",t){case e.REGISTRATION_SECTION_SIZE.width:r=e.REGISTRATION_TYPE;break;case e.TOKENS_SECTION_SIZE.width:r=e.TOKENS_TYPE;break;case e.SETTINGS_SECTION_SIZE.width:r=e.SETTINGS_TYPE;break;default:r=null}return r},e.focus=function(){return e.getCurrentWindow().focus()},e.focusFirstWindow=function(){if(e.getFirstWindow())return e.getFirstWindow().focus()},e.create=function(){return t++,chrome.app.window.create("main.html",{singleton:!0,outerBounds:{minWidth:320,minHeight:590,maxWidth:700,maxHeight:700,width:320,height:590},resizable:!1,frame:"none"},function(e){return e.onClosed.addListener(function(){return t--})})},e.open=function(){return e.areThereWindowsCreated()?e.focusFirstWindow():e.create()},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7)],i=function(e){var t;return t=function(){function t(){}var r,n;return n=null,r=function(){function t(){this.current=null,this.currentRoute=null,this.mappings={}}return t.prototype.register=function(e,t){if(null==this.mappings[e])return this.mappings[e]=t},t.prototype.goTo=function(t,r){return null==r&&(r={}),null!=this.current&&this.current.destroy(),this.mappings[t].beforeShow(r),this.current=this.mappings[t],this.currentRoute=t,e.emit("goto",this.mappings[t])},t.prototype.getController=function(e){return this.mappings[e]||null},t.prototype.getCurrentRoute=function(){return this.currentRoute},t}(),t.get=function(){return null!=n?n:n=new r},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8),r(10)],i=function(e,t){var r;return r=function(){function r(){}var n;return n=function(){function r(){return null!=i?i:(i=this,this.observers={},void(this.called={}))}var n,i;return n=0,i=null,r.prototype.on=function(t,r){return"function"!=typeof r?void e.w("Callback must be a function"):(n++,this.observers[t]=this.observers[t]||[],this.observers[t].push({subscriber:r,index:n}),this.called[t]&&r(),n)},r.prototype.emit=function(e,t){var r,n,i,o,a;if(null==t&&(t={}),this.called[e]=!0,this.observers[e]){for(o=this.observers[e],a=[],r=0,n=o.length;r<n;r++)i=o[r],a.push(i.subscriber(t));return a}},r.prototype.off=function(e){return delete this.observers[e],delete this.called[e]},r.prototype.unsubscribe=function(e,r){var n;if(null==r)throw new Error("Index must be defined");if(null==e)throw new Error("eventName must be defined");return n=t.findIndex(this.observers[e],{index:r}),n!==-1&&(this.observers[e].splice(n,1),!0)},r.prototype.cleanUpBeforeClose=function(){return i=null},r}(),r.get=function(){return new n},r.on=function(){var e;return e=r.get(),e.on.bind(e)}(),r.off=function(){var e;return e=r.get(),e.off.bind(e)}(),r.unsubscribe=function(){var e;return e=r.get(),e.unsubscribe.bind(e)}(),r.emit=function(){var e;return e=r.get(),e.emit.bind(e)}(),r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(9)],i=function(e){var t;return t=function(){function t(){}return t.DEBUG_MODE=e.DEBUG,t.DEBUG="debug",t.WARNING="warning",t.ERROR="error",t.listeners=[],t.bm=function(e,t){var r,n;return null==t&&(t={}),this._lastDate&&!t.start?(n=new Date,r=(n-this._lastDate)/1e3,this.d(e+" "+r+" seconds","BENCHMARK")):this.d(e,"BENCHMARK"),this._lastDate=new Date},t.d=function(e,r){if(this.DEBUG_MODE)return t.log(t.DEBUG,r,e)},t.w=function(e,r){return t.log(t.WARNING,r,e)},t.e=function(e,r){return t.log(t.ERROR,r,e)},t.log=function(e,r,n){return r||(r=""),"object"==typeof n&&(n=JSON.stringify(n)),e===t.DEBUG?console.debug(r+" "+n):e===t.WARNING?console.warn("["+t.WARNING+"] "+r+" => "+n):e===t.ERROR?(n="["+t.ERROR+"] "+r+" => "+n,t.notifyListeners({message:n}),console.error(n)):void 0},t.addListener=function(e){var r,n,i,o;for(o=t.listeners,r=0,i=o.length;r<i;r++)if(n=o[r],n===e)return;t.listeners.push(e)},t.notifyListeners=function(e){var r,n,i,o;for(null==e&&(e={}),o=t.listeners,r=0,n=o.length;r<n;r++)(i=o[r])(e)},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){var e;return e=function(){function e(){}return e.init=function(){return e.setNetworkInterfaces()},e.DEBUG="undefined"==typeof window||null===window||null==window.chrome||null==chrome.runtime||null==chrome.runtime.getManifest||chrome.runtime.getManifest().dflag,e.NETWORKINTERFACES=null,e.getServerUrl=function(){return e.DEBUG?(console.debug("Running with staging url"),"https://staging-2.authy.com"):"https://api.authy.com"},e.API_KEY="37b312a3d682b823c439522e1fd31c82",e.SERVER_URL=e.getServerUrl(),e.USER_AGENT="AuthyChrome v1.0",e.getName=function(){return"undefined"!=typeof window&&null!==window&&null!=window.chrome&&null!=chrome.runtime&&null!=chrome.runtime.getManifest&&null!=chrome.runtime.getManifest().app_name?chrome.runtime.getManifest().app_name:(console.error("unable to fetch app_name from manifest"),"authy")},e.getFlavor=function(){var t;return t=e.getName(),null!=t?t:"authy"},e.getAppVersion=function(){return"undefined"!=typeof window&&null!==window&&null!=window.chrome&&null!=chrome.runtime&&null!=chrome.runtime.getManifest&&null!=chrome.runtime.getManifest().version?chrome.runtime.getManifest().version:(console.error("unable to fetch version from manifest"),"none")},e.setNetworkInterfaces=function(){var t,r;if("undefined"!=typeof chrome&&null!==chrome&&null!=(t=chrome.system)&&null!=(r=t.network)?r.getNetworkInterfaces:void 0)return chrome.system.network.getNetworkInterfaces(function(t){if(t)return e.NETWORKINTERFACES=t})},e.getNetworkInterfaces=function(){return e.NETWORKINTERFACES},e.getNetworkInterfacesEncoded=function(){var t;if(!(!e.NETWORKINTERFACES instanceof Array))return t=JSON.stringify(e.NETWORKINTERFACES)},e.getPrivateIPS=function(){var t,r,n,i,o;if(!e.NETWORKINTERFACES)return"";for(r=[],o=e.NETWORKINTERFACES,t=0,n=o.length;t<n;t++)i=o[t],i.address&&r.push(i.address);return r.join(",")},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;(function(){function r(e){function t(t,r,n,i,o,a){for(;o>=0&&o<a;o+=e){var s=i?i[o]:o;n=r(n,t[s],s,t)}return n}return function(r,n,i,o){n=A(n,o,4);var a=!N(r)&&T.keys(r),s=(a||r).length,u=e>0?0:s-1;return arguments.length<3&&(i=r[a?a[u]:u],u+=e),t(r,n,i,a,u,s)}}function o(e){return function(t,r,n){r=b(r,n);for(var i=k(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}function a(e,t,r){return function(n,i,o){var a=0,s=k(n);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=t(h.call(n,a,s),T.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(n[o]===i)return o;return-1}}function s(e,t){var r=P.length,n=e.constructor,i=T.isFunction(n)&&n.prototype||p,o="constructor";for(T.has(e,o)&&!T.contains(t,o)&&t.push(o);r--;)o=P[r],o in e&&e[o]!==i[o]&&!T.contains(t,o)&&t.push(o)}var u=this,c=u._,l=Array.prototype,p=Object.prototype,f=Function.prototype,d=l.push,h=l.slice,y=p.toString,g=p.hasOwnProperty,v=Array.isArray,m=Object.keys,C=f.bind,E=Object.create,S=function(){},T=function(e){return e instanceof T?e:this instanceof T?void(this._wrapped=e):new T(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=T),t._=T,T.VERSION="1.8.3";var A=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)}}return function(){return e.apply(t,arguments)}},b=function(e,t,r){return null==e?T.identity:T.isFunction(e)?A(e,t,r):T.isObject(e)?T.matcher(e):T.property(e)};T.iteratee=function(e,t){return b(e,t,1/0)};var I=function(e,t){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var c=a[u];t&&void 0!==r[c]||(r[c]=o[c])}return r}},w=function(e){if(!T.isObject(e))return{};if(E)return E(e);S.prototype=e;var t=new S;return S.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},B=Math.pow(2,53)-1,k=_("length"),N=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=B};T.each=T.forEach=function(e,t,r){t=A(t,r);var n,i;if(N(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=T.keys(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e},T.map=T.collect=function(e,t,r){t=b(t,r);for(var n=!N(e)&&T.keys(e),i=(n||e).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=t(e[s],s,e)}return o},T.reduce=T.foldl=T.inject=r(1),T.reduceRight=T.foldr=r(-1),T.find=T.detect=function(e,t,r){var n;if(n=N(e)?T.findIndex(e,t,r):T.findKey(e,t,r),void 0!==n&&n!==-1)return e[n]},T.filter=T.select=function(e,t,r){var n=[];return t=b(t,r),T.each(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n},T.reject=function(e,t,r){return T.filter(e,T.negate(b(t)),r)},T.every=T.all=function(e,t,r){t=b(t,r);for(var n=!N(e)&&T.keys(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0},T.some=T.any=function(e,t,r){t=b(t,r);for(var n=!N(e)&&T.keys(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1},T.contains=T.includes=T.include=function(e,t,r,n){return N(e)||(e=T.values(e)),("number"!=typeof r||n)&&(r=0),T.indexOf(e,t,r)>=0},T.invoke=function(e,t){var r=h.call(arguments,2),n=T.isFunction(t);return T.map(e,function(e){var i=n?t:e[t];return null==i?i:i.apply(e,r)})},T.pluck=function(e,t){return T.map(e,T.property(t))},T.where=function(e,t){return T.filter(e,T.matcher(t))},T.findWhere=function(e,t){return T.find(e,T.matcher(t))},T.max=function(e,t,r){var n,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=N(e)?e:T.values(e);for(var s=0,u=e.length;s<u;s++)n=e[s],n>o&&(o=n)}else t=b(t,r),T.each(e,function(e,r,n){i=t(e,r,n),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},T.min=function(e,t,r){var n,i,o=1/0,a=1/0;if(null==t&&null!=e){e=N(e)?e:T.values(e);for(var s=0,u=e.length;s<u;s++)n=e[s],n<o&&(o=n)}else t=b(t,r),T.each(e,function(e,r,n){i=t(e,r,n),(i<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},T.shuffle=function(e){for(var t,r=N(e)?e:T.values(e),n=r.length,i=Array(n),o=0;o<n;o++)t=T.random(0,o),t!==o&&(i[o]=i[t]),i[t]=r[o];return i},T.sample=function(e,t,r){return null==t||r?(N(e)||(e=T.values(e)),e[T.random(e.length-1)]):T.shuffle(e).slice(0,Math.max(0,t))},T.sortBy=function(e,t,r){return t=b(t,r),T.pluck(T.map(e,function(e,r,n){return{value:e,index:r,criteria:t(e,r,n)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index}),"value")};var R=function(e){return function(t,r,n){var i={};return r=b(r,n),T.each(t,function(n,o){var a=r(n,o,t);e(i,n,a)}),i}};T.groupBy=R(function(e,t,r){T.has(e,r)?e[r].push(t):e[r]=[t]}),T.indexBy=R(function(e,t,r){e[r]=t}),T.countBy=R(function(e,t,r){T.has(e,r)?e[r]++:e[r]=1}),T.toArray=function(e){return e?T.isArray(e)?h.call(e):N(e)?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:N(e)?e.length:T.keys(e).length},T.partition=function(e,t,r){t=b(t,r);var n=[],i=[];return T.each(e,function(e,r,o){(t(e,r,o)?n:i).push(e)}),[n,i]},T.first=T.head=T.take=function(e,t,r){if(null!=e)return null==t||r?e[0]:T.initial(e,e.length-t)},T.initial=function(e,t,r){return h.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},T.last=function(e,t,r){if(null!=e)return null==t||r?e[e.length-1]:T.rest(e,Math.max(0,e.length-t))},T.rest=T.tail=T.drop=function(e,t,r){return h.call(e,null==t||r?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var D=function(e,t,r,n){for(var i=[],o=0,a=n||0,s=k(e);a<s;a++){var u=e[a];if(N(u)&&(T.isArray(u)||T.isArguments(u))){t||(u=D(u,t,r));var c=0,l=u.length;for(i.length+=l;c<l;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};T.flatten=function(e,t){return D(e,t,!1)},T.without=function(e){return T.difference(e,h.call(arguments,1))},T.uniq=T.unique=function(e,t,r,n){T.isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],a=0,s=k(e);a<s;a++){var u=e[a],c=r?r(u,a,e):u;t?(a&&o===c||i.push(u),o=c):r?T.contains(o,c)||(o.push(c),i.push(u)):T.contains(i,u)||i.push(u)}return i},T.union=function(){return T.uniq(D(arguments,!0,!0))},T.intersection=function(e){for(var t=[],r=arguments.length,n=0,i=k(e);n<i;n++){var o=e[n];if(!T.contains(t,o)){for(var a=1;a<r&&T.contains(arguments[a],o);a++);a===r&&t.push(o)}}return t},T.difference=function(e){var t=D(arguments,!0,!0,1);return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){return T.unzip(arguments)},T.unzip=function(e){for(var t=e&&T.max(e,k).length||0,r=Array(t),n=0;n<t;n++)r[n]=T.pluck(e,n);return r},T.object=function(e,t){for(var r={},n=0,i=k(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},T.findIndex=o(1),T.findLastIndex=o(-1),T.sortedIndex=function(e,t,r,n){r=b(r,n,1);for(var i=r(t),o=0,a=k(e);o<a;){var s=Math.floor((o+a)/2);r(e[s])<i?o=s+1:a=s}return o},T.indexOf=a(1,T.findIndex,T.sortedIndex),T.lastIndexOf=a(-1,T.findLastIndex),T.range=function(e,t,r){null==t&&(t=e||0,e=0),r=r||1;for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i};var x=function(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=w(e.prototype),a=e.apply(o,i);return T.isObject(a)?a:o};T.bind=function(e,t){if(C&&e.bind===C)return C.apply(e,h.call(arguments,1));if(!T.isFunction(e))throw new TypeError("Bind must be called on a function");var r=h.call(arguments,2),n=function(){return x(e,n,t,this,r.concat(h.call(arguments)))};return n},T.partial=function(e){var t=h.call(arguments,1),r=function(){for(var n=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===T?arguments[n++]:t[a];for(;n<arguments.length;)o.push(arguments[n++]);return x(e,r,this,this,o)};return r},T.bindAll=function(e){var t,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=T.bind(e[r],e);return e},T.memoize=function(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return T.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r},T.delay=function(e,t){var r=h.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},T.defer=T.partial(T.delay,T,1),T.throttle=function(e,t,r){var n,i,o,a=null,s=0;r||(r={});var u=function(){s=r.leading===!1?0:T.now(),a=null,o=e.apply(n,i),a||(n=i=null)};return function(){var c=T.now();s||r.leading!==!1||(s=c);var l=t-(c-s);return n=this,i=arguments,l<=0||l>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(n,i),a||(n=i=null)):a||r.trailing===!1||(a=setTimeout(u,l)),o}},T.debounce=function(e,t,r){var n,i,o,a,s,u=function(){var c=T.now()-a;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(s=e.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,a=T.now();var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s}},T.wrap=function(e,t){return T.partial(t,e)},T.negate=function(e){return function(){return!e.apply(this,arguments)}},T.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},T.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},T.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},T.once=T.partial(T.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];T.keys=function(e){if(!T.isObject(e))return[];if(m)return m(e);var t=[];for(var r in e)T.has(e,r)&&t.push(r);return L&&s(e,t),t},T.allKeys=function(e){if(!T.isObject(e))return[];var t=[];for(var r in e)t.push(r);return L&&s(e,t),t},T.values=function(e){for(var t=T.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n},T.mapObject=function(e,t,r){t=b(t,r);for(var n,i=T.keys(e),o=i.length,a={},s=0;s<o;s++)n=i[s],a[n]=t(e[n],n,e);return a},T.pairs=function(e){for(var t=T.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n},T.invert=function(e){for(var t={},r=T.keys(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t},T.functions=T.methods=function(e){var t=[];for(var r in e)T.isFunction(e[r])&&t.push(r);return t.sort()},T.extend=I(T.allKeys),T.extendOwn=T.assign=I(T.keys),T.findKey=function(e,t,r){t=b(t,r);for(var n,i=T.keys(e),o=0,a=i.length;o<a;o++)if(n=i[o],t(e[n],n,e))return n},T.pick=function(e,t,r){var n,i,o={},a=e;if(null==a)return o;T.isFunction(t)?(i=T.allKeys(a),n=A(t,r)):(i=D(arguments,!1,!1,1),n=function(e,t,r){return t in r},a=Object(a));for(var s=0,u=i.length;s<u;s++){var c=i[s],l=a[c];n(l,c,a)&&(o[c]=l)}return o},T.omit=function(e,t,r){if(T.isFunction(t))t=T.negate(t);else{var n=T.map(D(arguments,!1,!1,1),String);t=function(e,t){return!T.contains(n,t)}}return T.pick(e,t,r)},T.defaults=I(T.allKeys,!0),T.create=function(e,t){var r=w(e);return t&&T.extendOwn(r,t),r},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e},T.isMatch=function(e,t){var r=T.keys(t),n=r.length;if(null==e)return!n;for(var i=Object(e),o=0;o<n;o++){var a=r[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var U=function(e,t,r,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=y.call(e);if(i!==y.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!U(e[u],t[u],r,n))return!1}else{var c,l=T.keys(e);if(u=l.length,T.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!T.has(t,c)||!U(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0};T.isEqual=function(e,t){return U(e,t)},T.isEmpty=function(e){return null==e||(N(e)&&(T.isArray(e)||T.isString(e)||T.isArguments(e))?0===e.length:0===T.keys(e).length)},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=v||function(e){return"[object Array]"===y.call(e)},T.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},T.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){T["is"+e]=function(t){return y.call(t)==="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return T.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(T.isFunction=function(e){return"function"==typeof e||!1}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!==+e},T.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===y.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return null!=e&&g.call(e,t)},T.noConflict=function(){return u._=c,this},T.identity=function(e){return e},T.constant=function(e){return function(){return e}},T.noop=function(){},T.property=_,T.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},T.matcher=T.matches=function(e){return e=T.extendOwn({},e),function(t){return T.isMatch(t,e)}},T.times=function(e,t,r){var n=Array(Math.max(0,e));t=A(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},T.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=T.invert(O),j=function(e){var t=function(t){return e[t]},r="(?:"+T.keys(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};T.escape=j(O),T.unescape=j(M),T.result=function(e,t,r){var n=null==e?void 0:e[t];return void 0===n&&(n=r),T.isFunction(n)?n.call(e):n};var V=0;T.uniqueId=function(e){var t=++V+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+K[e]};T.template=function(e,t,r){!t&&r&&(t=r),t=T.defaults({},t,T.templateSettings);var n=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(t,r,n,a,s){return o+=e.slice(i,s).replace(H,q),i=s+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,T)},u=t.variable||"obj";return s.source="function("+u+"){\n"+o+"}",s},T.chain=function(e){var t=T(e);return t._chain=!0,t};var G=function(e,t){return e._chain?T(t).chain():t};T.mixin=function(e){T.each(T.functions(e),function(t){var r=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),G(this,r.apply(T,e))}})},T.mixin(T),T.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];T.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],G(this,r)}}),T.each(["concat","join","slice"],function(e){var t=l[e];T.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),T.prototype.value=function(){return this._wrapped},T.prototype.valueOf=T.prototype.toJSON=T.prototype.value,T.prototype.toString=function(){return""+this._wrapped},n=[],i=function(){return T}.apply(t,n),!(void 0!==i&&(e.exports=i))}).call(this)},function(e,t,r){var n,i;n=[r(83),r(96),r(91),r(92),r(93),r(94),r(95),r(12),r(97),r(98),r(99),r(100),r(8)],i=function(e,t,r,n,i,o,a,s,u,c,l,p,f){var d;return d=function(){function d(){}return d.event=function(h,y){var g,v;return null==y&&(y=""),g=function(){switch(!1){case!e(h,"account"):return t;case!e(h,"app_crash"):return r;case!e(h,"app_error"):return r;case!e(h,"app"):return n;case!e(h,"authenticator_backups"):return i;case!e(h,"installation_app"):return o;case!e(h,"master_token"):return a;case!e(h,"multi-device"):return s;case!e(h,"onetouch"):return u;case!e(h,"push_notification"):return c;case!e(h,"registration"):return l;case!e(h,"user_account"):return p;default:return f.e("Event Category doesn't exist")}}(),v=new g(h,y),d.send(v),v},d.send=function(e){return e.send()},d}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13)],i=function(e){var t;return t=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams()}return o(t,e),t.prototype.events={"multi-device_enable":{message:"Users that enable/disable multi-device",name:"multi_device_enabled"},"multi-device_disable":{message:"Users that enable/disable multi-device",name:"multi_device_disabled"},"multi-device_change_device_name":{message:"Users changes a device name",name:"multi_device_device_name_changed"},"multi-device_delete_device":{message:"Users deletes a device",name:"multi_device_device_deleted"},"multi-device_add_device":{message:"Users that approve/deny a device requests",name:"multi_device_new_device_request_shown"}},t.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},t.prototype.validate=function(){if(t.__super__.validate.call(this),!this.getUserId())throw new Error("User id should be set")},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=[r(15),r(62),r(17),r(9),r(30),r(54),r(14),r(63),r(65),r(38),r(90),r(10)],i=function(e,t,r,n,i,a,s,u,c,l,p,f){var d;return d=function(){function n(r,n){var l,d,h;null==n&&(n={}),this.setUserInfoCommonParams=o(this.setUserInfoCommonParams,this),this.setAppCommonParams=o(this.setAppCommonParams,this),this.deviceInfoHelper=u.get(),this.userInfoHelper=c.get(),this.name=r,this.event=this.events[this.name],l=this.event?this.event.level:null,this.model={event:r,product:n.product||e.analytics.product,level:n.level||l||t.level.INFO,time:n.time||s.ISO8601String(),objects:{user:{},device:{},app:{}},request:{},extra:{}},f.extendOwn(i,n),i.countryCode&&this.setCountryCode(i.countryCode),n.registrationProvider&&this.setRegistrationProvider(n.registrationProvider),(null!=(d=this.event)?d.name:void 0)&&this.setEventName(this.event.name),p.get()&&this.setLang(p.get()),(null!=(h=this.event)?h.message:void 0)&&this.setMessage(this.event.message),this.deviceInfoHelper.DEVICENAME&&this.setDeviceType(this.deviceInfoHelper.DEVICENAME),this.deviceInfoHelper.getUserAgent()&&this.setUserAgent(this.deviceInfoHelper.getUserAgent()),this.deviceInfoHelper.getFlavor()&&this.setDeviceApp(this.deviceInfoHelper.getFlavor()),a.get().getSessionUUID()&&this.setSessionUUID(a.get().getSessionUUID())}var i;return i={},n.prototype.events={default_event_name:{}},n.prototype.getEventName=function(e){return this.model.event},n.prototype.setEventName=function(e){return this.model.event=String(e)},n.prototype.setMessage=function(e){return this.model.message=String(e)},n.prototype.getMessage=function(e){return this.model.message},n.prototype.setUserId=function(e){return this.model.objects.user.s_authy_id=String(e)},n.prototype.getUserId=function(e){return this.model.objects.user.s_authy_id},n.prototype.setCountryCode=function(e){return this.model.objects.user.s_country_code=String(e)},n.prototype.getCountryCode=function(e){return this.model.objects.user.s_country_code},n.prototype.setNumberOfAccounts=function(e){return this.model.objects.user.i_number_of_accounts=Number(e)},n.prototype.getNumberOfAccounts=function(e){return this.model.objects.user.i_number_of_accounts},n.prototype.setNumberOfAuthyAccounts=function(e){return this.model.objects.user.i_number_of_authy_accounts=Number(e)},n.prototype.getNumberOfAuthyAccounts=function(e){return this.model.objects.user.i_number_of_authy_accounts},n.prototype.setNumberOfDevices=function(e){return this.model.objects.user.i_number_of_devices=Number(e)},n.prototype.getNumberOfDevices=function(e){return this.model.objects.user.i_number_of_devices},n.prototype.setLang=function(e){return this.model.objects.user.s_locale=String(e)},n.prototype.getLang=function(e){return this.model.objects.user.s_locale},n.prototype.setDeviceID=function(e){return this.model.objects.device.s_id=String(e)},n.prototype.getDeviceID=function(e){return this.model.objects.device.s_id},n.prototype.setDeviceType=function(e){return this.model.objects.device.s_device_type=String(e)},n.prototype.getDeviceType=function(e){return this.model.objects.device.s_device_type},n.prototype.setOperatingSystem=function(e){return this.model.objects.device.s_operating_system=String(e)},n.prototype.getOperatingSystem=function(e){return this.model.objects.device.s_operating_system},n.prototype.setUserAgent=function(e){return this.model.objects.device.s_user_agent=String(e)},n.prototype.getUserAgent=function(e){return this.model.objects.device.s_user_agent},n.prototype.setDeviceApp=function(e){return this.model.objects.device.s_device_app=String(e)},n.prototype.getDeviceApp=function(e){return this.model.objects.device.s_device_app},n.prototype.setProcessorArchitecture=function(e){return this.model.objects.device.s_processor_architecture=String(e)},n.prototype.getProcessorArchitecture=function(e){return this.model.objects.device.s_processor_architecture},n.prototype.setManufacturer=function(e){return this.model.objects.device.s_device_manufacturer=String(e)},n.prototype.getManufacturer=function(e){return this.model.objects.device.s_device_manufacturer},n.prototype.setModelName=function(e){return this.model.objects.device.s_model_name=String(e)},n.prototype.getModelName=function(e){return this.model.objects.device.s_model_name},n.prototype.setOSVersion=function(e){return this.model.objects.device.s_os_version=String(e)},n.prototype.getOSVersion=function(e){return this.model.objects.device.s_os_version},n.prototype.setDeviceUDID=function(e){return this.model.objects.device.s_device_udid=String(e)},n.prototype.getDeviceUDID=function(e){return this.model.objects.device.s_device_udid},n.prototype.setMultiDevice=function(e){return this.model.objects.device.b_multidevice=Boolean(e)},n.prototype.getMultiDevice=function(e){return this.model.objects.device.b_multidevice},n.prototype.setNumberOfVisibleAccounts=function(e){return this.model.objects.device.i_number_of_visible_accounts=Number(e)},n.prototype.getNumberOfVisibleAccounts=function(e){return this.model.objects.device.i_number_of_visible_accounts},n.prototype.setNumberOfAuthenticatorAccounts=function(e){return this.model.objects.device.i_number_of_authenticator_accounts=Number(e)},n.prototype.getNumberOfAuthenticatorAccounts=function(e){return this.model.objects.device.i_number_of_authenticator_accounts},n.prototype.setSessionTimeInSeconds=function(e){return this.model.objects.device.i_session_time_in_seconds=Number(e)},n.prototype.getSessionTimeInSeconds=function(e){return this.model.objects.device.i_session_time_in_seconds},n.prototype.setAuthenticatorBackupsEnableMode=function(e){return this.model.objects.device.s_backup_enable_mode=String(e)},n.prototype.getAuthenticatorBackupsEnableMode=function(e){return this.model.objects.device.s_backup_enable_mode},n.prototype.setBackupsEnabled=function(e){return this.model.objects.device.b_backups_enabled=Boolean(e)},n.prototype.getBackupsEnabled=function(e){return this.model.objects.device.b_backups_enabled},n.prototype.setNewDeviceRequestStatus=function(e){return this.model.objects.device.s_new_device_request_status=String(e)},n.prototype.getNewDeviceRequestStatus=function(e){return this.model.objects.device.s_new_device_request_status;
},n.prototype.setTouchIDAvailable=function(e){return this.model.objects.device.b_touch_id_available=Boolean(e)},n.prototype.getTouchIDAvailable=function(e){return this.model.objects.device.b_touch_id_available},n.prototype.setPushNotificationType=function(e){return this.model.objects.device.s_push_notification_type=String(e)},n.prototype.getPushNotificationType=function(e){return this.model.objects.device.s_push_notification_type},n.prototype.setPushNotificationTwiMessageId=function(e){return this.model.objects.device.s_push_notification_twi_message_id=String(e)},n.prototype.getPushNotificationTwiMessageId=function(e){return this.model.objects.device.s_push_notification_twi_message_id},n.prototype.setRegistrationProvider=function(e){return this.model.objects.device.s_registration_provider=String(e)},n.prototype.getRegistrationProvider=function(e){return this.model.objects.device.s_registration_provider},n.prototype.setCrashMessage=function(e){return this.model.objects.device.s_crash_message=String(e)},n.prototype.getCrashMessage=function(e){return this.model.objects.device.s_crash_message},n.prototype.setBuildVersion=function(e){return this.model.objects.device.s_build_version=String(e)},n.prototype.getBuildVersion=function(e){return this.model.objects.device.s_build_version},n.prototype.setAppVersion=function(e){return this.model.objects.device.s_app_version=String(e)},n.prototype.getAppVersion=function(e){return this.model.objects.device.s_app_version},n.prototype.setAnonymousUserId=function(e){return this.model.objects.device.s_anonymous_id=String(e)},n.prototype.getAnonymousUserId=function(e){return this.model.objects.device.s_anonymous_id},n.prototype.setErrorMessage=function(e){return this.model.objects.device.s_error_message=String(e)},n.prototype.getErrorMessage=function(e){return this.model.objects.device.s_error_message},n.prototype.setStackTrace=function(e){return this.model.objects.device.s_stack_trace=String(e)},n.prototype.getStackTrace=function(e){return this.model.objects.device.s_stack_trace},n.prototype.setAppName=function(e){return this.model.objects.app.s_name=String(e)},n.prototype.getAppName=function(e){return this.model.objects.app.s_name},n.prototype.setAppID=function(e){return this.model.objects.app.s_id=String(e)},n.prototype.getAppID=function(e){return this.model.objects.app.s_id},n.prototype.setTokenID=function(e){return this.model.objects.app.s_token_id=String(e)},n.prototype.getTokenID=function(e){return this.model.objects.app.s_token_id},n.prototype.setLogoType=function(e){return this.model.objects.app.s_logo_type=String(e)},n.prototype.getLogoType=function(e){return this.model.objects.app.s_logo_type},n.prototype.setAccountProvider=function(e){return this.model.objects.app.s_account_provider=String(e)},n.prototype.getAccountProvider=function(e){return this.model.objects.app.s_account_provider},n.prototype.setAccountType=function(e){return this.model.objects.app.s_account_type=String(e)},n.prototype.getAccountType=function(e){return this.model.objects.app.s_account_type},n.prototype.setAccountRow=function(e){return this.model.objects.app.s_account_row=String(e)},n.prototype.getAccountRow=function(e){return this.model.objects.app.s_account_row},n.prototype.setAccountColumn=function(e){return this.model.objects.app.s_account_column=String(e)},n.prototype.getAccountColumn=function(e){return this.model.objects.app.s_account_column},n.prototype.setViewMode=function(e){return this.model.objects.app.s_view_mode=String(e)},n.prototype.getViewMode=function(e){return this.model.objects.app.s_view_mode},n.prototype.setPreviousLogo=function(e){return this.model.objects.app.s_previous_logo=String(e)},n.prototype.getPreviousLogo=function(e){return this.model.objects.app.s_previous_logo},n.prototype.setSessionUUID=function(e){return this.model.request.id=String(e)},n.prototype.getSessionUUID=function(e){return this.model.request.id},n.prototype.validate=function(){if(!this.event)throw new Error("Event not valid")},n.prototype.beforeSend=function(e){return null==e&&(e=function(){}),e()},n.prototype.genAnonymousUserId=function(e){var t,r;return t=a.get(),r=function(r){return function(){return r.setAnonymousUserId(t.getID()),e()}}(this),t.isLoadedToMemory()?r():t.addListener(r)},n.prototype.send=function(){var e;return e=function(e){return function(){return r.send(e.model)}}(this),this.genAnonymousUserId(function(t){return function(){return t.beforeSend(function(){return t.validate(),e()})}}(this))},n.prototype.setAccountInfoCommonParams=function(e){if(e.getName()&&!e.isAuthenticatorAccount()&&this.setAppName(e.getName()),e.getAppId()&&this.setAppID(e.getAppId()),e.getTokenId()&&this.setTokenID(e.getTokenId()),e.getLogoType()&&this.setLogoType(e.getLogoType()),e.accountType&&this.setAccountProvider(e.accountType),e.getAccountType())return this.setAccountType(e.getAccountType())},n.prototype.setAppCommonParams=function(e){return this.setOSVersion(this.deviceInfoHelper.getOSVersion()),this.setProcessorArchitecture(this.deviceInfoHelper.platformInfo.arch),this.setOperatingSystem(this.deviceInfoHelper.getOS()),this.setAppVersion(this.deviceInfoHelper.getAppVersion()),this.setDeviceApp(this.deviceInfoHelper.getFlavor()),this.setModelName(this.deviceInfoHelper.getModelName()),this.setManufacturer(this.deviceInfoHelper.getManufacturer()),this.setDeviceUDID(this.deviceInfoHelper.getDeviceUDID())},n.prototype.setUserInfoCommonParams=function(e){return null==e&&(e=function(){}),this.userInfoHelper.getInfo(function(t){return function(r){return r.user.isLoadedToMemory()?(null!=r.user&&t.setUserId(r.user.getUserId()),null!=r.user&&t.setCountryCode(r.user.getCountryCode()),null!=r.deviceUDID&&t.setDeviceUDID(r.deviceUDID),null!=r.user&&t.setMultiDevice(r.user.isMultiDeviceEnabled()),null!=r.masterToken&&t.setDeviceID(r.masterToken.deviceId),null!=r.devices&&t.setNumberOfDevices(r.devices.size()),null!=r.apps&&t.setNumberOfAccounts(r.apps.size()),null!=r.apps&&t.setNumberOfVisibleAccounts(r.apps.sizeVisibleAccounts()),null!=r.apps&&t.setNumberOfAuthyAccounts(r.apps.sizeAuthyAccounts()),null!=r.apps&&t.setNumberOfAuthenticatorAccounts(r.apps.sizeAuthenticatorAccounts()),null!=r.backupsPasswordModel&&t.setBackupsEnabled(r.backupsPasswordModel.areBackupsEnabled()),e()):e()}}(this))},n}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){var e;return e=function(){function e(){}return e.ONEYEARINSECONDS=31536e3,e.ONEMONTHINSECONDS=2592e3,e.ONEWEEKINSECONDS=604800,e.ONEDAYINSECONDS=86400,e.ONEHOURINSECONDS=3600,e.ONESECONDINMILISECONDS=1e3,e.ONEMINUTEINSECONDS=60,e.ONEWEEKINDAYS=7,e.ONEMONTHINDAYS=30,e.ONEYEARINDAYS=365,e.ONEYEARINMONTHS=12,e.getDateFromString=function(e){return new Date(Date.parse(e))},e.getDateStringPrettyFormat=function(t){return e.getDatePrettyFormat(e.getDateFromString(t))},e.getDatePrettyFormat=function(t,r){var n,i,o,a;return null==r&&(r=new Date),i="",e.isDateToday(t,r)?i="Today":e.isDateYesterday(t,r)?i="Yesterday":(n=t.toDateString(),i=n.substring(n.length-11)),o=1===(""+t.getHours()).length?"0"+t.getHours():""+t.getHours(),a=1===(""+t.getMinutes()).length?"0"+t.getMinutes():""+t.getMinutes(),i+" at "+o+":"+a},e.isDateToday=function(t,r){return null==r&&(r=new Date),!!e.areSameDay(r,t)},e.isDateYesterday=function(t,r){var n;return null==r&&(r=new Date),n=new Date(r.getTime()),n.setDate(r.getDate()-1),!!e.areSameDay(n,t)},e.areSameDay=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getYear()===t.getYear()},e.getTimestampSeconds=function(e){var t;return null==e&&(e={}),t=e.date||new Date,Math.floor(t.getTime()/1e3)},e.relativeTimePrettyFormat=function(t){var r,n,i;return i=e.getTimestampSeconds()-e.getTimestampSeconds({date:t}),r=e.secondsToDays(i),n=e.daysToMonths(r),i<0?"":0===r&&(i<e.ONEMINUTEINSECONDS&&"now"||i<e.ONEHOURINSECONDS&&e.secondsToMinutes(i)+"m"||i<e.ONEDAYINSECONDS&&e.secondsToHours(i)+"h")||0===n&&(r<e.ONEWEEKINDAYS&&r+"d"||r<e.ONEMONTHINDAYS&&e.daysToWeeks(r)+"w")||n<e.ONEYEARINMONTHS&&n+"M"||e.monthsToYears(n)+"Y"},e.secondsToMiliseconds=function(e){return 1e3*e},e.secondsToMinutes=function(e){return Math.floor(e/this.ONEMINUTEINSECONDS)},e.secondsToHours=function(e){return Math.floor(e/this.ONEHOURINSECONDS)},e.secondsToDays=function(e){return Math.floor(e/this.ONEDAYINSECONDS)},e.daysToWeeks=function(e){return Math.floor(e/this.ONEWEEKINDAYS)},e.daysToMonths=function(e){return Math.floor(e/this.ONEMONTHINDAYS)},e.monthsToYears=function(e){return Math.floor(e/this.ONEYEARINMONTHS)},e.ISO8601String=function(e){var t;return null==e&&(e={}),t=e.date||new Date,t.toISOString()},e.getCurrentDateObject=function(){return new Date},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(16)],i=function(e){return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(9)],i=function(e){var t,r;return t={enforceMasterPassword:!1,isProtectionPinLabel:!1,registrationPinLabel:"registration pin",anotherDeviceLabel:"Use existing device",userIdLabel:"Authy ID",flavor:"authy",analytics:{product:"authy-chrome"},appName:"Authy",passwordConfig:{minLength:6},uuidPrefix:"",GCMSenders:["965508185869"]},r=function(){return e.DEBUG?t.chromeExtensionId="khhpbdcplgajeciicbbkdfhhkfjeaibj":t.chromeExtensionId="fhgenkpocbhhddlgkjnfghpjanffonno"},r(),t}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(18),r(8),r(19)],i=function(e,t,r){var n;return n=function(){function n(){var e;i=this,e=new r,this.kinesis=new AWS.Kinesis(e.get())}var i;return i=null,n.send=function(r){var i,o;return o=n.get(),i={StreamName:e.AWS.StreamName,Data:JSON.stringify(r),PartitionKey:(new Date).getTime()+""},o.kinesis.putRecord(i,function(e,n){return e?t.w("Error sending data to kinesis"):t.d("Event sent to kinesis "+r.event)})},n.get=function(){return i?i:new n},n}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(15),r(9)],i=function(e,t){return e.getExtensionUrl=function(){return"https://chrome.google.com/webstore/detail/"+e.chromeExtensionId},e.AWS={StreamName:"authy-coresdk-production"},t.DEBUG&&(e.AWS={StreamName:"authy-coresdk-staging"}),e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(20),r(29)],i=function(e,t){var r;return r=function(){function r(){}return r.prototype.put=function(t,r){var n,i,o,a,s;for(a=t.length()-1,n=e.util.createBuffer(),i=o=0,s=a;0<=s?o<=s:o>=s;i=0<=s?++o:--o)n.putByte(t.at(i)^r.at(i));return n},r.prototype.set=function(){var r,n,i,o;return i=e.util.hexToBytes(t[0]),o=e.util.hexToBytes(t[1]),r=e.util.createBuffer(i),n=e.util.createBuffer(o),this.put(r,n)},r.prototype.get=function(){return JSON.parse(this.set().toString())},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o;(function(e,r,a,s){!function(e,r){i=[],n=r,o="function"==typeof n?n.apply(t,i):n,!(void 0!==o&&(a.exports=o))}(this,function(){var t,n,i;return function(e){function r(e,t){return E.call(e,t)}function o(e,t){var r,n,i,o,a,s,u,c,l,p,f,d=t&&t.split("/"),h=m.map,y=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),a=e.length-1,m.nodeIdCompat&&T.test(e[a])&&(e[a]=e[a].replace(T,"")),e=d.concat(e),l=0;l<e.length;l+=1)if(f=e[l],"."===f)e.splice(l,1),l-=1;else if(".."===f){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||y)&&h){for(r=e.split("/"),l=r.length;l>0;l-=1){if(n=r.slice(0,l).join("/"),d)for(p=d.length;p>0;p-=1)if(i=h[d.slice(0,p).join("/")],i&&(i=i[n])){o=i,s=l;break}if(o)break;!u&&y&&y[n]&&(u=y[n],c=l)}!o&&u&&(o=u,s=c),o&&(r.splice(0,s,o),e=r.join("/"))}return e}function a(t,r){return function(){return d.apply(e,S.call(arguments,0).concat([t,r]))}}function s(e){return function(t){return o(t,e)}}function u(e){return function(t){g[e]=t}}function c(t){if(r(v,t)){var n=v[t];delete v[t],C[t]=!0,f.apply(e,n)}if(!r(g,t)&&!r(C,t))throw new Error("No "+t);return g[t]}function l(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function p(e){return function(){return m&&m.config&&m.config[e]||{}}}var f,d,h,y,g={},v={},m={},C={},E=Object.prototype.hasOwnProperty,S=[].slice,T=/\.js$/;h=function(e,t){var r,n=l(e),i=n[0];return e=n[1],i&&(i=o(i,t),r=c(i)),i?e=r&&r.normalize?r.normalize(e,s(t)):o(e,t):(e=o(e,t),n=l(e),i=n[0],e=n[1],i&&(r=c(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:r}},y={require:function(e){return a(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:p(e)}}},f=function(t,n,i,o){var s,l,p,f,d,m,E=[],S=typeof i;if(o=o||t,"undefined"===S||"function"===S){for(n=!n.length&&i.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(f=h(n[d],o),l=f.f,"require"===l)E[d]=y.require(t);else if("exports"===l)E[d]=y.exports(t),m=!0;else if("module"===l)s=E[d]=y.module(t);else if(r(g,l)||r(v,l)||r(C,l))E[d]=c(l);else{if(!f.p)throw new Error(t+" missing "+l);f.p.load(f.n,a(o,!0),u(l),{}),E[d]=g[l]}p=i?i.apply(g[t],E):void 0,t&&(s&&s.exports!==e&&s.exports!==g[t]?g[t]=s.exports:p===e&&m||(g[t]=p))}else t&&(g[t]=i)},t=n=d=function(t,r,n,i,o){if("string"==typeof t)return y[t]?y[t](r):c(h(t,r).f);if(!t.splice){if(m=t,m.deps&&d(m.deps,m.callback),!r)return;r.splice?(t=r,r=n,n=null):t=e}return r=r||function(){},"function"==typeof n&&(n=i,i=o),i?f(e,t,r,n):setTimeout(function(){f(e,t,r,n)},4),d},d.config=function(e){return d(e)},t._defined=g,i=function(e,t,n){t.splice||(n=t,t=[]),r(g,e)||r(v,e)||(v[e]=[e,t,n])},i.amd={jQuery:!0}}(),i("node_modules/almond/almond",function(){}),function(){function t(t){function n(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function i(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(a.isArrayBuffer(e)||a.isArrayBufferView(e)){var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof i||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}function o(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=a.isArrayBuffer(e),n=a.isArrayBufferView(e);return r||n?(r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength)):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),void("writeOffset"in t&&(this.write=t.writeOffset)))}var a=t.util=t.util||{};!function(){function t(e){if(e.source===window&&e.data===n){e.stopPropagation();var t=i.slice();i.length=0,t.forEach(function(e){e()})}}if("undefined"!=typeof e&&e.nextTick)return a.nextTick=e.nextTick,void("function"==typeof r?a.setImmediate=r:a.setImmediate=a.nextTick);if("function"==typeof r)return a.setImmediate=function(){return r.apply(void 0,arguments)},void(a.nextTick=function(e){return r(e)});if(a.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var n="forge.setImmediate",i=[];a.setImmediate=function(e){i.push(e),1===i.length&&window.postMessage(n,"*")},window.addEventListener("message",t,!0)}if("undefined"!=typeof MutationObserver){var o=Date.now(),s=!0,u=document.createElement("div"),i=[];new MutationObserver(function(){var e=i.slice();i.length=0,e.forEach(function(e){e()})}).observe(u,{attributes:!0});var c=a.setImmediate;a.setImmediate=function(e){Date.now()-o>15?(o=Date.now(),c(e)):(i.push(e),1===i.length&&u.setAttribute("a",s=!s))}}a.nextTick=a.setImmediate}(),a.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},a.isArrayBufferView=function(e){return e&&a.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},a.ByteBuffer=i,a.ByteStringBuffer=i;var s=4096;a.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>s&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},a.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},a.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},a.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(a.encodeUtf8(e))},a.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},a.ByteStringBuffer.prototype.putInt=function(e,t){n(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)},a.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},a.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},a.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},a.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},a.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},a.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},a.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},a.ByteStringBuffer.prototype.getInt=function(e){n(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t},a.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},a.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.ByteStringBuffer.prototype.bytes=function(e){return"undefined"==typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},a.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var e=a.createBuffer(this.data);return e.read=this.read,e},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.DataBuffer=o,a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},a.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},a.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},a.DataBuffer.prototype.putBytes=function(e,t){if(a.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(a.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof a.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&a.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof a.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var o;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(e,o,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(e,o,this.write),this;if("utf8"===t&&(e=a.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(o),this;if("utf16"===t)return this.accommodate(2*e.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},a.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},a.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},a.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(e,t){n(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this},a.DataBuffer.prototype.putSignedInt=function(e,t){return n(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},a.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},a.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},a.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},a.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},a.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},a.DataBuffer.prototype.getInt=function(e){n(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t},a.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},a.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.DataBuffer.prototype.bytes=function(e){return"undefined"==typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},a.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},a.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8","binary"===e||"raw"===e)return a.binary.raw.encode(t);if("hex"===e)return a.binary.hex.encode(t);if("base64"===e)return a.binary.base64.encode(t);if("utf8"===e)return a.text.utf8.decode(t);if("utf16"===e)return a.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},a.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=a.encodeUtf8(e)),new a.ByteBuffer(e)},a.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),t>>>=1,t>0&&(e+=e);return r},a.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o},a.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},a.bytesToHex=function(e){return a.createBuffer(e).toHex()},a.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];a.encode64=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),i=e.charCodeAt(s++),o+=u.charAt(r>>2),o+=u.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=u.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":u.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},a.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,o="",a=0;a<e.length;)t=c[e.charCodeAt(a++)-43],r=c[e.charCodeAt(a++)-43],n=c[e.charCodeAt(a++)-43],i=c[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},a.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},a.decodeUtf8=function(e){return decodeURIComponent(escape(e))},a.binary={raw:{},hex:{},base64:{}},a.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},a.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,o=r;for(1&e.length&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n},a.binary.base64.encode=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],i=e[s++],o+=u.charAt(r>>2),o+=u.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=u.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":u.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},a.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,s,u=0,l=r;u<e.length;)i=c[e.charCodeAt(u++)-43],o=c[e.charCodeAt(u++)-43],a=c[e.charCodeAt(u++)-43],s=c[e.charCodeAt(u++)-43],n[l++]=i<<2|o>>4,64!==a&&(n[l++]=(15&o)<<4|a>>2,64!==s&&(n[l++]=(3&a)<<6|s));return t?l-r:n.subarray(0,l)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(e,t,r){e=a.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},a.text.utf8.decode=function(e){return a.decodeUtf8(String.fromCharCode.apply(null,e))},a.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-r:n},a.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},a.deflate=function(e,t,r){if(t=a.decode64(e.deflate(a.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);32&i&&(n=6),t=t.substring(n,t.length-4)}return t},a.inflate=function(e,t,r){var n=e.inflate(a.encode64(t)).rval;return null===n?null:a.decode64(n)};var l=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=a.encode64(JSON.stringify(r)),n=e.setItem(t,r)),"undefined"!=typeof n&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},p=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(a.decode64(r))),r},f=function(e,t,r,n){var i=p(e,t);null===i&&(i={}),i[r]=n,l(e,t,i)},d=function(e,t,r){var n=p(e,t);return null!==n&&(n=r in n?n[r]:null),n},h=function(e,t,r){var n=p(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),l(e,t,n)}},y=function(e,t){l(e,t,null);
},g=function(e,t,r){var n=null;"undefined"==typeof r&&(r=["web","flash"]);var i,o=!1,a=null;for(var s in r){i=r[s];try{if("flash"===i||"both"===i){if(null===t[0])throw new Error("Flash local storage not available.");n=e.apply(this,t),o="flash"===i}"web"!==i&&"both"!==i||(t[0]=localStorage,n=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return n};a.setItem=function(e,t,r,n,i){g(f,arguments,i)},a.getItem=function(e,t,r,n){return g(d,arguments,n)},a.removeItem=function(e,t,r,n){g(h,arguments,n)},a.clearItems=function(e,t,r){g(y,arguments,r)},a.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var v=null;a.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,o,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),o=r[n].substring(a+1)):(i=r[n],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return"undefined"==typeof e?(null===v&&(v="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=v):t=r(e),t},a.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");i.length>0&&""===i[0]&&i.shift();var o=""===r?{}:a.getQueryVariables(r);return{pathString:t,queryString:r,path:i,query:o}},a.makeRequest=function(e){var t=a.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return"undefined"==typeof e?t.path:t.path[e]},getQuery:function(e,r){var n;return"undefined"==typeof e?n=t.query:(n=t.query[e],n&&"undefined"!=typeof r&&(n=n[r])),n},getQueryLast:function(e,t){var n,i=r.getQuery(e);return n=i?i[i.length-1]:t}};return r},a.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},a.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var o=t[n++];if(n==i)e[o]=r;else{var a=o in e;(!a||a&&"object"!=typeof e[o]||a&&null===e[o])&&(e[o]={}),e=e[o]}}},a.getPath=function(e,t,r){for(var n=0,i=t.length,o=!0;o&&n<i&&"object"==typeof e&&null!==e;){var a=t[n++];o=a in e,o&&(e=e[a])}return o?e:r},a.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},a.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},a.format=function(e){for(var t,r,n=/%./g,i=0,o=[],a=0;t=n.exec(e);){r=e.substring(a,n.lastIndex-2),r.length>0&&o.push(r),a=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[i++ +1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},a.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")},a.formatSize=function(e){return e=e>=1073741824?a.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?a.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?a.formatNumber(e/1024,0)+" KiB":a.formatNumber(e,0)+" bytes"},a.bytesFromIP=function(e){return e.indexOf(".")!==-1?a.bytesFromIPv4(e):e.indexOf(":")!==-1?a.bytesFromIPv6(e):null},a.bytesFromIPv4=function(e){if(e=e.split("."),4!==e.length)return null;for(var t=a.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},a.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(e){return 0===e.length&&++t,!0});for(var r=2*(8-e.length+t),n=a.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=a.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},a.bytesToIP=function(e){return 4===e.length?a.bytesToIPv4(e):16===e.length?a.bytesToIPv6(e):null},a.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},a.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=a.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=r[r.length-1],u=t.length;s&&u===s.end+1?(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}t.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},a.estimateCores=function(e,t){function r(e,s,u){if(0===s){var c=Math.floor(e.reduce(function(e,t){return e+t},0)/e.length);return a.cores=Math.max(1,c),URL.revokeObjectURL(o),t(null,a.cores)}n(u,function(t,n){e.push(i(u,n)),r(e,s-1,u)})}function n(e,t){for(var r=[],n=[],i=0;i<e;++i){var a=new Worker(o);a.addEventListener("message",function(i){if(n.push(i.data),n.length===e){for(var o=0;o<e;++o)r[o].terminate();t(null,n)}}),r.push(a)}for(var i=0;i<e;++i)r[i].postMessage(i)}function i(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],o=r[n]=[],a=0;a<e;++a)if(n!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in a&&!e.update)return t(null,a.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,t(null,a.cores);if("undefined"==typeof Worker)return a.cores=1,t(null,a.cores);if("undefined"==typeof Blob)return a.cores=2,t(null,a.cores);var o=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));r([],5,16)}}var o="util";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),t(forge);var s=!0;i=function(e,t){t(n,a)}}var u,c=function(e,r){r.exports=function(r){var n=u.map(function(t){return e(t)}).concat(t);if(r=r||{},r.defined=r.defined||{},r.defined[o])return r[o];r.defined[o]=!0;for(var i=0;i<n.length;++i)n[i](r);return r[o]}},l=i;(i=function(e,t){return u="string"==typeof e?t.slice(2):e.slice(2),s?(delete i,l.apply(null,Array.prototype.slice.call(arguments,0))):(i=l,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/util",["require","module"],function(){c.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){e.cipher=e.cipher||{},e.cipher.algorithms=e.cipher.algorithms||{},e.cipher.createCipher=function(t,r){var n=t;if("string"==typeof n&&(n=e.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+t);return new e.cipher.BlockCipher({algorithm:n,key:r,decrypt:!1})},e.cipher.createDecipher=function(t,r){var n=t;if("string"==typeof n&&(n=e.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+t);return new e.cipher.BlockCipher({algorithm:n,key:r,decrypt:!0})},e.cipher.registerAlgorithm=function(t,r){t=t.toUpperCase(),e.cipher.algorithms[t]=r},e.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in e.cipher.algorithms?e.cipher.algorithms[t]:null};var t=e.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};t.prototype.start=function(t){t=t||{};var r={};for(var n in t)r[n]=t[n];r.decrypt=this._decrypt,this._finish=!1,this._input=e.util.createBuffer(),this.output=t.output||e.util.createBuffer(),this.mode.start(r)},t.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},t.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}}var t="cipher";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/cipher",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t){if("string"==typeof t&&(t=e.util.createBuffer(t)),e.util.isArray(t)&&t.length>4){var r=t;t=e.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}return e.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}function r(e){e[e.length-1]=e[e.length-1]+1&4294967295}function n(e){return[e/4294967296|0,4294967295&e]}e.cipher=e.cipher||{};var i=e.cipher.modes=e.cipher.modes||{};i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=t(e.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=t(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=t(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=t(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,n){var i=e.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize)for(var o=0;o<this._ints;++o)t.putInt32(e.getInt32()^this._outBlock[o]);else{var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!n)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}r(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var i=e.util.createBuffer(t.iv);this._cipherLength=0;var o;if(o="additionalData"in t?e.util.createBuffer(t.additionalData):e.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=e.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var a=i.length();if(12===a)this._j0=[i.getInt32(),i.getInt32(),i.getInt32(),1];else{for(this._j0=[0,0,0,0];i.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[i.getInt32(),i.getInt32(),i.getInt32(),i.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(n(8*a)))}this._inBlock=this._j0.slice(0),r(this._inBlock),this._partialBytes=0,o=e.util.createBuffer(o),this._aDataLength=n(8*o.length());var s=o.length()%this.blockSize;for(s&&o.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];o.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[o.getInt32(),o.getInt32(),o.getInt32(),o.getInt32()])},i.gcm.prototype.encrypt=function(e,t,n){var i=e.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize){for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(0===a||n){if(n){var s=i%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!n)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),r(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,n){var i=e.length();if(i<this.blockSize&&!(n&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),r(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^this._hashBlock[o]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(t,r){var i=!0;r.decrypt&&r.overflow&&t.truncate(this.blockSize-r.overflow),this.tag=e.util.createBuffer();var o=this._aDataLength.concat(n(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,o);var a=[];this.cipher.encrypt(this._j0,a);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^a[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),r.decrypt&&this.tag.bytes()!==this._tag&&(i=!1),i},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var o=e[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>4*(7-r%8)&15,o=this._m[r][i];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],u=a/n|0,c=(n-1-a%n)*t;s[u]=1<<t-1<<c,o[a]=this.generateSubHashTable(this.multiply(s,e),t)}return o},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],u=i[a];i[o+a]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i}}var t="cipherModes";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/cipherModes",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t,r){var n=function(){return new e.aes.Algorithm(t,r)};e.cipher.registerAlgorithm(t,n)}function r(){p=!0,u=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;a=new Array(256),s=new Array(256),c=new Array(4),l=new Array(4);for(var t=0;t<4;++t)c[t]=new Array(256),l[t]=new Array(256);for(var r,n,i,o,f,d,h,y=0,g=0,t=0;t<256;++t){o=g^g<<1^g<<2^g<<3^g<<4,o=o>>8^255&o^99,a[y]=o,s[o]=y,f=e[o],r=e[y],n=e[r],i=e[n],d=f<<24^o<<16^o<<8^(o^f),h=(r^n^i)<<24^(y^i)<<16^(y^n^i)<<8^(y^r^i);for(var v=0;v<4;++v)c[v][y]=d,l[v][o]=h,d=d<<24|d>>>8,h=h<<24|h>>>8;0===y?y=g=1:(y=r^e[e[e[r^i]]],g^=e[e[g]])}}function n(e,t){for(var r,n=e.slice(0),i=1,o=n.length,s=o+6+1,c=f*s,p=o;p<c;++p)r=n[p-1],p%o===0?(r=a[r>>>16&255]<<24^a[r>>>8&255]<<16^a[255&r]<<8^a[r>>>24]^u[i]<<24,i++):o>6&&p%o===4&&(r=a[r>>>24]<<24^a[r>>>16&255]<<16^a[r>>>8&255]<<8^a[255&r]),n[p]=n[p-o]^r;if(t){var d,h=l[0],y=l[1],g=l[2],v=l[3],m=n.slice(0);c=n.length;for(var p=0,C=c-f;p<c;p+=f,C-=f)if(0===p||p===c-f)m[p]=n[C],m[p+1]=n[C+3],m[p+2]=n[C+2],m[p+3]=n[C+1];else for(var E=0;E<f;++E)d=n[C+E],m[p+(3&-E)]=h[a[d>>>24]]^y[a[d>>>16&255]]^g[a[d>>>8&255]]^v[a[255&d]];n=m}return n}function i(e,t,r,n){var i,o,u,p,f,d=e.length/4-1;n?(i=l[0],o=l[1],u=l[2],p=l[3],f=s):(i=c[0],o=c[1],u=c[2],p=c[3],f=a);var h,y,g,v,m,C,E;h=t[0]^e[0],y=t[n?3:1]^e[1],g=t[2]^e[2],v=t[n?1:3]^e[3];for(var S=3,T=1;T<d;++T)m=i[h>>>24]^o[y>>>16&255]^u[g>>>8&255]^p[255&v]^e[++S],C=i[y>>>24]^o[g>>>16&255]^u[v>>>8&255]^p[255&h]^e[++S],E=i[g>>>24]^o[v>>>16&255]^u[h>>>8&255]^p[255&y]^e[++S],v=i[v>>>24]^o[h>>>16&255]^u[y>>>8&255]^p[255&g]^e[++S],h=m,y=C,g=E;r[0]=f[h>>>24]<<24^f[y>>>16&255]<<16^f[g>>>8&255]<<8^f[255&v]^e[++S],r[n?3:1]=f[y>>>24]<<24^f[g>>>16&255]<<16^f[v>>>8&255]<<8^f[255&h]^e[++S],r[2]=f[g>>>24]<<24^f[v>>>16&255]<<16^f[h>>>8&255]<<8^f[255&y]^e[++S],r[n?1:3]=f[v>>>24]<<24^f[h>>>16&255]<<16^f[y>>>8&255]<<8^f[255&g]^e[++S]}function o(t){t=t||{};var r,n=(t.mode||"CBC").toUpperCase(),i="AES-"+n;r=t.decrypt?e.cipher.createDecipher(i,t.key):e.cipher.createCipher(i,t.key);var o=r.start;return r.start=function(t,n){var i=null;n instanceof e.util.ByteBuffer&&(i=n,n={}),n=n||{},n.output=i,n.iv=t,o.call(r,n)},r}e.aes=e.aes||{},e.aes.startEncrypting=function(e,t,r,n){var i=o({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},e.aes.createEncryptionCipher=function(e,t){return o({key:e,output:null,decrypt:!1,mode:t})},e.aes.startDecrypting=function(e,t,r,n){var i=o({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},e.aes.createDecryptionCipher=function(e,t){return o({key:e,output:null,decrypt:!0,mode:t})},e.aes.Algorithm=function(e,t){p||r();var n=this;n.name=e,n.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return i(n._w,e,t,!1)},decrypt:function(e,t){return i(n._w,e,t,!0)}}}),n._init=!1},e.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var r,i=t.key;if("string"!=typeof i||16!==i.length&&24!==i.length&&32!==i.length){if(e.util.isArray(i)&&(16===i.length||24===i.length||32===i.length)){r=i,i=e.util.createBuffer();for(var o=0;o<r.length;++o)i.putByte(r[o])}}else i=e.util.createBuffer(i);if(!e.util.isArray(i)){r=i,i=[];var a=r.length();if(16===a||24===a||32===a){a>>>=2;for(var o=0;o<a;++o)i.push(r.getInt32())}}if(!e.util.isArray(i)||4!==i.length&&6!==i.length&&8!==i.length)throw new Error("Invalid key parameter.");var s=this.mode.name,u=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=n(i,t.decrypt&&!u),this._init=!0}},e.aes._expandKey=function(e,t){return p||r(),n(e,t)},e.aes._updateBlock=i,t("AES-ECB",e.cipher.modes.ecb),t("AES-CBC",e.cipher.modes.cbc),t("AES-CFB",e.cipher.modes.cfb),t("AES-OFB",e.cipher.modes.ofb),t("AES-CTR",e.cipher.modes.ctr),t("AES-GCM",e.cipher.modes.gcm);var a,s,u,c,l,p=!1,f=4}var t="aes";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/aes",["require","module","./cipher","./cipherModes","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){e.pki=e.pki||{};var t=e.pki.oids=e.oids=e.oids||{};t["1.2.840.113549.1.1.1"]="rsaEncryption",t.rsaEncryption="1.2.840.113549.1.1.1",t["1.2.840.113549.1.1.4"]="md5WithRSAEncryption",t.md5WithRSAEncryption="1.2.840.113549.1.1.4",t["1.2.840.113549.1.1.5"]="sha1WithRSAEncryption",t.sha1WithRSAEncryption="1.2.840.113549.1.1.5",t["1.2.840.113549.1.1.7"]="RSAES-OAEP",t["RSAES-OAEP"]="1.2.840.113549.1.1.7",t["1.2.840.113549.1.1.8"]="mgf1",t.mgf1="1.2.840.113549.1.1.8",t["1.2.840.113549.1.1.9"]="pSpecified",t.pSpecified="1.2.840.113549.1.1.9",t["1.2.840.113549.1.1.10"]="RSASSA-PSS",t["RSASSA-PSS"]="1.2.840.113549.1.1.10",t["1.2.840.113549.1.1.11"]="sha256WithRSAEncryption",t.sha256WithRSAEncryption="1.2.840.113549.1.1.11",t["1.2.840.113549.1.1.12"]="sha384WithRSAEncryption",t.sha384WithRSAEncryption="1.2.840.113549.1.1.12",t["1.2.840.113549.1.1.13"]="sha512WithRSAEncryption",t.sha512WithRSAEncryption="1.2.840.113549.1.1.13",t["1.3.14.3.2.7"]="desCBC",t.desCBC="1.3.14.3.2.7",t["1.3.14.3.2.26"]="sha1",t.sha1="1.3.14.3.2.26",t["2.16.840.1.101.3.4.2.1"]="sha256",t.sha256="2.16.840.1.101.3.4.2.1",t["2.16.840.1.101.3.4.2.2"]="sha384",t.sha384="2.16.840.1.101.3.4.2.2",t["2.16.840.1.101.3.4.2.3"]="sha512",t.sha512="2.16.840.1.101.3.4.2.3",t["1.2.840.113549.2.5"]="md5",t.md5="1.2.840.113549.2.5",t["1.2.840.113549.1.7.1"]="data",t.data="1.2.840.113549.1.7.1",t["1.2.840.113549.1.7.2"]="signedData",t.signedData="1.2.840.113549.1.7.2",t["1.2.840.113549.1.7.3"]="envelopedData",t.envelopedData="1.2.840.113549.1.7.3",t["1.2.840.113549.1.7.4"]="signedAndEnvelopedData",t.signedAndEnvelopedData="1.2.840.113549.1.7.4",t["1.2.840.113549.1.7.5"]="digestedData",t.digestedData="1.2.840.113549.1.7.5",t["1.2.840.113549.1.7.6"]="encryptedData",t.encryptedData="1.2.840.113549.1.7.6",t["1.2.840.113549.1.9.1"]="emailAddress",t.emailAddress="1.2.840.113549.1.9.1",t["1.2.840.113549.1.9.2"]="unstructuredName",t.unstructuredName="1.2.840.113549.1.9.2",t["1.2.840.113549.1.9.3"]="contentType",t.contentType="1.2.840.113549.1.9.3",t["1.2.840.113549.1.9.4"]="messageDigest",t.messageDigest="1.2.840.113549.1.9.4",t["1.2.840.113549.1.9.5"]="signingTime",t.signingTime="1.2.840.113549.1.9.5",t["1.2.840.113549.1.9.6"]="counterSignature",t.counterSignature="1.2.840.113549.1.9.6",t["1.2.840.113549.1.9.7"]="challengePassword",t.challengePassword="1.2.840.113549.1.9.7",t["1.2.840.113549.1.9.8"]="unstructuredAddress",t.unstructuredAddress="1.2.840.113549.1.9.8",t["1.2.840.113549.1.9.14"]="extensionRequest",t.extensionRequest="1.2.840.113549.1.9.14",t["1.2.840.113549.1.9.20"]="friendlyName",t.friendlyName="1.2.840.113549.1.9.20",t["1.2.840.113549.1.9.21"]="localKeyId",t.localKeyId="1.2.840.113549.1.9.21",t["1.2.840.113549.1.9.22.1"]="x509Certificate",t.x509Certificate="1.2.840.113549.1.9.22.1",t["1.2.840.113549.1.12.10.1.1"]="keyBag",t.keyBag="1.2.840.113549.1.12.10.1.1",t["1.2.840.113549.1.12.10.1.2"]="pkcs8ShroudedKeyBag",t.pkcs8ShroudedKeyBag="1.2.840.113549.1.12.10.1.2",t["1.2.840.113549.1.12.10.1.3"]="certBag",t.certBag="1.2.840.113549.1.12.10.1.3",t["1.2.840.113549.1.12.10.1.4"]="crlBag",t.crlBag="1.2.840.113549.1.12.10.1.4",t["1.2.840.113549.1.12.10.1.5"]="secretBag",t.secretBag="1.2.840.113549.1.12.10.1.5",t["1.2.840.113549.1.12.10.1.6"]="safeContentsBag",t.safeContentsBag="1.2.840.113549.1.12.10.1.6",t["1.2.840.113549.1.5.13"]="pkcs5PBES2",t.pkcs5PBES2="1.2.840.113549.1.5.13",t["1.2.840.113549.1.5.12"]="pkcs5PBKDF2",t.pkcs5PBKDF2="1.2.840.113549.1.5.12",t["1.2.840.113549.1.12.1.1"]="pbeWithSHAAnd128BitRC4",t.pbeWithSHAAnd128BitRC4="1.2.840.113549.1.12.1.1",t["1.2.840.113549.1.12.1.2"]="pbeWithSHAAnd40BitRC4",t.pbeWithSHAAnd40BitRC4="1.2.840.113549.1.12.1.2",t["1.2.840.113549.1.12.1.3"]="pbeWithSHAAnd3-KeyTripleDES-CBC",t["pbeWithSHAAnd3-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.3",t["1.2.840.113549.1.12.1.4"]="pbeWithSHAAnd2-KeyTripleDES-CBC",t["pbeWithSHAAnd2-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.4",t["1.2.840.113549.1.12.1.5"]="pbeWithSHAAnd128BitRC2-CBC",t["pbeWithSHAAnd128BitRC2-CBC"]="1.2.840.113549.1.12.1.5",t["1.2.840.113549.1.12.1.6"]="pbewithSHAAnd40BitRC2-CBC",t["pbewithSHAAnd40BitRC2-CBC"]="1.2.840.113549.1.12.1.6",t["1.2.840.113549.2.7"]="hmacWithSHA1",t.hmacWithSHA1="1.2.840.113549.2.7",t["1.2.840.113549.2.8"]="hmacWithSHA224",t.hmacWithSHA224="1.2.840.113549.2.8",t["1.2.840.113549.2.9"]="hmacWithSHA256",t.hmacWithSHA256="1.2.840.113549.2.9",t["1.2.840.113549.2.10"]="hmacWithSHA384",t.hmacWithSHA384="1.2.840.113549.2.10",t["1.2.840.113549.2.11"]="hmacWithSHA512",t.hmacWithSHA512="1.2.840.113549.2.11",t["1.2.840.113549.3.7"]="des-EDE3-CBC",t["des-EDE3-CBC"]="1.2.840.113549.3.7",t["2.16.840.1.101.3.4.1.2"]="aes128-CBC",t["aes128-CBC"]="2.16.840.1.101.3.4.1.2",t["2.16.840.1.101.3.4.1.22"]="aes192-CBC",t["aes192-CBC"]="2.16.840.1.101.3.4.1.22",t["2.16.840.1.101.3.4.1.42"]="aes256-CBC",
t["aes256-CBC"]="2.16.840.1.101.3.4.1.42",t["2.5.4.3"]="commonName",t.commonName="2.5.4.3",t["2.5.4.5"]="serialName",t.serialName="2.5.4.5",t["2.5.4.6"]="countryName",t.countryName="2.5.4.6",t["2.5.4.7"]="localityName",t.localityName="2.5.4.7",t["2.5.4.8"]="stateOrProvinceName",t.stateOrProvinceName="2.5.4.8",t["2.5.4.10"]="organizationName",t.organizationName="2.5.4.10",t["2.5.4.11"]="organizationalUnitName",t.organizationalUnitName="2.5.4.11",t["2.16.840.1.113730.1.1"]="nsCertType",t.nsCertType="2.16.840.1.113730.1.1",t["2.5.29.1"]="authorityKeyIdentifier",t["2.5.29.2"]="keyAttributes",t["2.5.29.3"]="certificatePolicies",t["2.5.29.4"]="keyUsageRestriction",t["2.5.29.5"]="policyMapping",t["2.5.29.6"]="subtreesConstraint",t["2.5.29.7"]="subjectAltName",t["2.5.29.8"]="issuerAltName",t["2.5.29.9"]="subjectDirectoryAttributes",t["2.5.29.10"]="basicConstraints",t["2.5.29.11"]="nameConstraints",t["2.5.29.12"]="policyConstraints",t["2.5.29.13"]="basicConstraints",t["2.5.29.14"]="subjectKeyIdentifier",t.subjectKeyIdentifier="2.5.29.14",t["2.5.29.15"]="keyUsage",t.keyUsage="2.5.29.15",t["2.5.29.16"]="privateKeyUsagePeriod",t["2.5.29.17"]="subjectAltName",t.subjectAltName="2.5.29.17",t["2.5.29.18"]="issuerAltName",t.issuerAltName="2.5.29.18",t["2.5.29.19"]="basicConstraints",t.basicConstraints="2.5.29.19",t["2.5.29.20"]="cRLNumber",t["2.5.29.21"]="cRLReason",t["2.5.29.22"]="expirationDate",t["2.5.29.23"]="instructionCode",t["2.5.29.24"]="invalidityDate",t["2.5.29.25"]="cRLDistributionPoints",t["2.5.29.26"]="issuingDistributionPoint",t["2.5.29.27"]="deltaCRLIndicator",t["2.5.29.28"]="issuingDistributionPoint",t["2.5.29.29"]="certificateIssuer",t["2.5.29.30"]="nameConstraints",t["2.5.29.31"]="cRLDistributionPoints",t.cRLDistributionPoints="2.5.29.31",t["2.5.29.32"]="certificatePolicies",t.certificatePolicies="2.5.29.32",t["2.5.29.33"]="policyMappings",t["2.5.29.34"]="policyConstraints",t["2.5.29.35"]="authorityKeyIdentifier",t.authorityKeyIdentifier="2.5.29.35",t["2.5.29.36"]="policyConstraints",t["2.5.29.37"]="extKeyUsage",t.extKeyUsage="2.5.29.37",t["2.5.29.46"]="freshestCRL",t["2.5.29.54"]="inhibitAnyPolicy",t["1.3.6.1.4.1.11129.2.4.2"]="timestampList",t.timestampList="1.3.6.1.4.1.11129.2.4.2",t["1.3.6.1.5.5.7.1.1"]="authorityInfoAccess",t.authorityInfoAccess="1.3.6.1.5.5.7.1.1",t["1.3.6.1.5.5.7.3.1"]="serverAuth",t.serverAuth="1.3.6.1.5.5.7.3.1",t["1.3.6.1.5.5.7.3.2"]="clientAuth",t.clientAuth="1.3.6.1.5.5.7.3.2",t["1.3.6.1.5.5.7.3.3"]="codeSigning",t.codeSigning="1.3.6.1.5.5.7.3.3",t["1.3.6.1.5.5.7.3.4"]="emailProtection",t.emailProtection="1.3.6.1.5.5.7.3.4",t["1.3.6.1.5.5.7.3.8"]="timeStamping",t.timeStamping="1.3.6.1.5.5.7.3.8"}var t="oids";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/oids",["require","module"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}function r(e,o,a,s){var u;t(e,o,2);var c=e.getByte();o--;var l=192&c,p=31&c;u=e.length();var f=i(e,o);if(o-=u-e.length(),void 0!==f&&f>o){if(s.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=e.length(),d.remaining=o,d.requested=f,d}f=o}var h,y,g=32===(32&c);if(g)if(h=[],void 0===f)for(;;){if(t(e,o,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),o-=2;break}u=e.length(),h.push(r(e,o,a+1,s)),o-=u-e.length()}else for(;f>0;)u=e.length(),h.push(r(e,f,a+1,s)),o-=u-e.length(),f-=u-e.length();if(void 0===h&&l===n.Class.UNIVERSAL&&p===n.Type.BITSTRING&&(y=e.bytes(f)),void 0===h&&s.decodeBitStrings&&l===n.Class.UNIVERSAL&&p===n.Type.BITSTRING&&f>1){var v=e.read,m=o,C=0;if(p===n.Type.BITSTRING&&(t(e,o,1),C=e.getByte(),o--),0===C)try{u=e.length();var E={verbose:s.verbose,strict:!0,decodeBitStrings:!0},S=r(e,o,a+1,E),T=u-e.length();o-=T,p==n.Type.BITSTRING&&T++;var A=S.tagClass;T!==f||A!==n.Class.UNIVERSAL&&A!==n.Class.CONTEXT_SPECIFIC||(h=[S])}catch(e){}void 0===h&&(e.read=v,o=m)}if(void 0===h){if(void 0===f){if(s.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=o}if(p===n.Type.BMPSTRING)for(h="";f>0;f-=2)t(e,o,2),h+=String.fromCharCode(e.getInt16()),o-=2;else h=e.getBytes(f)}var b=void 0===y?null:{bitStringContents:y};return n.create(l,p,g,h,b)}var n=e.asn1=e.asn1||{};n.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},n.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},n.create=function(t,r,i,o,a){if(e.util.isArray(o)){for(var s=[],u=0;u<o.length;++u)void 0!==o[u]&&s.push(o[u]);o=s}var c={tagClass:t,type:r,constructed:i,composed:i||e.util.isArray(o),value:o};return a&&"bitStringContents"in a&&(c.bitStringContents=a.bitStringContents,c.original=n.copy(c)),c},n.copy=function(t,r){var i;if(e.util.isArray(t)){i=[];for(var o=0;o<t.length;++o)i.push(n.copy(t[o],r));return i}return"string"==typeof t?t:(i={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:n.copy(t.value,r)},r&&!r.excludeBitStringContents&&(i.bitStringContents=t.bitStringContents),i)},n.equals=function(t,r,i){if(e.util.isArray(t)){if(!e.util.isArray(r))return!1;if(t.length!==r.length)return!1;for(var o=0;o<t.length;++o)return!!n.equals(t[o],r[o])}if(typeof t!=typeof r)return!1;if("string"==typeof t)return t===r;var a=t.tagClass===r.tagClass&&t.type===r.type&&t.constructed===r.constructed&&t.composed===r.composed&&n.equals(t.value,r.value);return i&&i.includeBitStringContents&&(a=a&&t.bitStringContents===r.bitStringContents),a},n.getBerValueLength=function(e){var t=e.getByte();if(128!==t){var r,n=128&t;return r=n?e.getInt((127&t)<<3):t}};var i=function(e,r){var n=e.getByte();if(r--,128!==n){var i,o=128&n;if(o){var a=127&n;t(e,r,a),i=e.getInt(a<<3)}else i=n;if(i<0)throw new Error("Negative length: "+i);return i}};n.fromDer=function(t,n){return void 0===n&&(n={strict:!0,decodeBitStrings:!0}),"boolean"==typeof n&&(n={strict:n,decodeBitStrings:!0}),"strict"in n||(n.strict=!0),"decodeBitStrings"in n||(n.decodeBitStrings=!0),"string"==typeof t&&(t=e.util.createBuffer(t)),r(t,t.length(),0,n)},n.toDer=function(t){var r=e.util.createBuffer(),i=t.tagClass|t.type,o=e.util.createBuffer(),a=!1;if("bitStringContents"in t&&(a=!0,t.original&&(a=n.equals(t,t.original))),a)o.putBytes(t.bitStringContents);else if(t.composed){t.constructed?i|=32:o.putByte(0);for(var s=0;s<t.value.length;++s)void 0!==t.value[s]&&o.putBuffer(n.toDer(t.value[s]))}else if(t.type===n.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)o.putInt16(t.value.charCodeAt(s));else t.type===n.Type.INTEGER&&t.value.length>1&&(0===t.value.charCodeAt(0)&&0===(128&t.value.charCodeAt(1))||255===t.value.charCodeAt(0)&&128===(128&t.value.charCodeAt(1)))?o.putBytes(t.value.substr(1)):o.putBytes(t.value);if(r.putByte(i),o.length()<=127)r.putByte(127&o.length());else{var u=o.length(),c="";do c+=String.fromCharCode(255&u),u>>>=8;while(u>0);r.putByte(128|c.length);for(var s=c.length-1;s>=0;--s)r.putByte(c.charCodeAt(s))}return r.putBuffer(o),r},n.oidToDer=function(t){var r=t.split("."),n=e.util.createBuffer();n.putByte(40*parseInt(r[0],10)+parseInt(r[1],10));for(var i,o,a,s,u=2;u<r.length;++u){i=!0,o=[],a=parseInt(r[u],10);do s=127&a,a>>>=7,i||(s|=128),o.push(s),i=!1;while(a>0);for(var c=o.length-1;c>=0;--c)n.putByte(o[c])}return n},n.derToOid=function(t){var r;"string"==typeof t&&(t=e.util.createBuffer(t));var n=t.getByte();r=Math.floor(n/40)+"."+n%40;for(var i=0;t.length()>0;)n=t.getByte(),i<<=7,128&n?i+=127&n:(r+="."+(i+n),i=0);return r},n.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var u=e.charAt(10),c=10;"+"!==u&&"-"!==u&&(s=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,0),c&&(u=e.charAt(c),"+"===u||"-"===u)){var l=parseInt(e.substr(c+1,2),10),p=parseInt(e.substr(c+4,2),10),f=60*l+p;f*=6e4,"+"===u?t.setTime(+t-f):t.setTime(+t+f)}return t},n.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),u=0,c=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var p=e.length-5,f=e.charAt(p);if("+"===f||"-"===f){var d=parseInt(e.substr(p+1,2),10),h=parseInt(e.substr(p+4,2),10);c=60*d+h,c*=6e4,"+"===f&&(c*=-1),l=!0}return"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,u),t.setTime(+t+c)):(t.setFullYear(r,n,i),t.setHours(o,a,s,u)),t},n.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},n.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},n.integerToDer=function(t){var r=e.util.createBuffer();if(t>=-128&&t<128)return r.putSignedInt(t,8);if(t>=-32768&&t<32768)return r.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return r.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return r.putSignedInt(t,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=t,n},n.derToInteger=function(t){"string"==typeof t&&(t=e.util.createBuffer(t));var r=8*t.length();if(r>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(r)},n.validate=function(t,r,i,o){var a=!1;if(t.tagClass!==r.tagClass&&"undefined"!=typeof r.tagClass||t.type!==r.type&&"undefined"!=typeof r.type)o&&(t.tagClass!==r.tagClass&&o.push("["+r.name+'] Expected tag class "'+r.tagClass+'", got "'+t.tagClass+'"'),t.type!==r.type&&o.push("["+r.name+'] Expected type "'+r.type+'", got "'+t.type+'"'));else if(t.constructed===r.constructed||"undefined"==typeof r.constructed){if(a=!0,r.value&&e.util.isArray(r.value))for(var s=0,u=0;a&&u<r.value.length;++u)a=r.value[u].optional||!1,t.value[s]&&(a=n.validate(t.value[s],r.value[u],i,o),a?++s:r.value[u].optional&&(a=!0)),!a&&o&&o.push("["+r.name+'] Tag class "'+r.tagClass+'", type "'+r.type+'" expected value length "'+r.value.length+'", got "'+t.value.length+'"');if(a&&i&&(r.capture&&(i[r.capture]=t.value),r.captureAsn1&&(i[r.captureAsn1]=t),r.captureBitStringContents&&"bitStringContents"in t&&(i[r.captureBitStringContents]=t.bitStringContents),r.captureBitStringValue&&"bitStringContents"in t)){if(t.bitStringContents.length<2)i[r.captureBitStringValue]="";else{var c=t.bitStringContents.charCodeAt(0);if(0!==c)throw new Error("captureBitStringValue only supported for zero unused bits");i[r.captureBitStringValue]=t.bitStringContents.slice(1)}}}else o&&o.push("["+r.name+'] Expected constructed "'+r.constructed+'", got "'+t.constructed+'"');return a};var o=/[^\\u0000-\\u00ff]/;n.prettyPrint=function(t,r,i){var a="";r=r||0,i=i||2,r>0&&(a+="\n");for(var s="",u=0;u<r*i;++u)s+=" ";switch(a+=s+"Tag: ",t.tagClass){case n.Class.UNIVERSAL:a+="Universal:";break;case n.Class.APPLICATION:a+="Application:";break;case n.Class.CONTEXT_SPECIFIC:a+="Context-Specific:";break;case n.Class.PRIVATE:a+="Private:"}if(t.tagClass===n.Class.UNIVERSAL)switch(a+=t.type,t.type){case n.Type.NONE:a+=" (None)";break;case n.Type.BOOLEAN:a+=" (Boolean)";break;case n.Type.INTEGER:a+=" (Integer)";break;case n.Type.BITSTRING:a+=" (Bit string)";break;case n.Type.OCTETSTRING:a+=" (Octet string)";break;case n.Type.NULL:a+=" (Null)";break;case n.Type.OID:a+=" (Object Identifier)";break;case n.Type.ODESC:a+=" (Object Descriptor)";break;case n.Type.EXTERNAL:a+=" (External or Instance of)";break;case n.Type.REAL:a+=" (Real)";break;case n.Type.ENUMERATED:a+=" (Enumerated)";break;case n.Type.EMBEDDED:a+=" (Embedded PDV)";break;case n.Type.UTF8:a+=" (UTF8)";break;case n.Type.ROID:a+=" (Relative Object Identifier)";break;case n.Type.SEQUENCE:a+=" (Sequence)";break;case n.Type.SET:a+=" (Set)";break;case n.Type.PRINTABLESTRING:a+=" (Printable String)";break;case n.Type.IA5String:a+=" (IA5String (ASCII))";break;case n.Type.UTCTIME:a+=" (UTC time)";break;case n.Type.GENERALIZEDTIME:a+=" (Generalized time)";break;case n.Type.BMPSTRING:a+=" (BMP String)"}else a+=t.type;if(a+="\n",a+=s+"Constructed: "+t.constructed+"\n",t.composed){for(var c=0,l="",u=0;u<t.value.length;++u)void 0!==t.value[u]&&(c+=1,l+=n.prettyPrint(t.value[u],r+1,i),u+1<t.value.length&&(l+=","));a+=s+"Sub values: "+c+l}else{if(a+=s+"Value: ",t.type===n.Type.OID){var p=n.derToOid(t.value);a+=p,e.pki&&e.pki.oids&&p in e.pki.oids&&(a+=" ("+e.pki.oids[p]+") ")}if(t.type===n.Type.INTEGER)try{a+=n.derToInteger(t.value)}catch(r){a+="0x"+e.util.bytesToHex(t.value)}else if(t.type===n.Type.BITSTRING){if(a+=t.value.length>1?"0x"+e.util.bytesToHex(t.value.slice(1)):"(none)",t.value.length>0){var f=t.value.charCodeAt(0);1==f?a+=" (1 unused bit shown)":f>1&&(a+=" ("+f+" unused bits shown)")}}else t.type===n.Type.OCTETSTRING?(o.test(t.value)||(a+="("+t.value+") "),a+="0x"+e.util.bytesToHex(t.value)):a+=t.type===n.Type.UTF8?e.util.decodeUtf8(t.value):t.type===n.Type.PRINTABLESTRING||t.type===n.Type.IA5String?t.value:o.test(t.value)?"0x"+e.util.bytesToHex(t.value):0===t.value.length?"[null]":t.value}return a}}var t="asn1";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/asn1",["require","module","./util","./oids"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(){i=String.fromCharCode(128),i+=e.util.fillString(String.fromCharCode(0),64),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],a=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],s=new Array(64);for(var t=0;t<64;++t)s[t]=Math.floor(4294967296*Math.abs(Math.sin(t+1)));u=!0}function r(e,t,r){for(var n,i,u,c,l,p,f,d,h=r.length();h>=64;){for(i=e.h0,u=e.h1,c=e.h2,l=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),p=l^u&(c^l),n=i+p+s[d]+t[d],f=a[d],i=l,l=c,c=u,u+=n<<f|n>>>32-f;for(;d<32;++d)p=c^l&(u^c),n=i+p+s[d]+t[o[d]],f=a[d],i=l,l=c,c=u,u+=n<<f|n>>>32-f;for(;d<48;++d)p=u^c^l,n=i+p+s[d]+t[o[d]],f=a[d],i=l,l=c,c=u,u+=n<<f|n>>>32-f;for(;d<64;++d)p=c^(u|~l),n=i+p+s[d]+t[o[d]],f=a[d],i=l,l=c,c=u,u+=n<<f|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+u|0,e.h2=e.h2+c|0,e.h3=e.h3+l|0,h-=64}}var n=e.md5=e.md5||{};e.md=e.md||{},e.md.algorithms=e.md.algorithms||{},e.md.md5=e.md.algorithms.md5=n,n.create=function(){u||t();var n=null,o=e.util.createBuffer(),a=new Array(16),s={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var t=s.messageLengthSize/4,r=0;r<t;++r)s.fullMessageLength.push(0);return o=e.util.createBuffer(),n={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},s},s.start(),s.update=function(t,i){"utf8"===i&&(t=e.util.encodeUtf8(t));var u=t.length;s.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=s.fullMessageLength.length-1;c>=0;--c)s.fullMessageLength[c]+=u[1],u[1]=u[0]+(s.fullMessageLength[c]/4294967296>>>0),s.fullMessageLength[c]=s.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return o.putBytes(t),r(n,a,o),(o.read>2048||0===o.length())&&o.compact(),s},s.digest=function(){var t=e.util.createBuffer();t.putBytes(o.bytes());var u=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,c=u&s.blockLength-1;t.putBytes(i.substr(0,s.blockLength-c));for(var l,p=0,f=s.fullMessageLength.length-1;f>=0;--f)l=8*s.fullMessageLength[f]+p,p=l/4294967296>>>0,t.putInt32Le(l>>>0);var d={h0:n.h0,h1:n.h1,h2:n.h2,h3:n.h3};r(d,a,t);var h=e.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},s};var i=null,o=null,a=null,s=null,u=!1}var t="md5";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/md5",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(){i=String.fromCharCode(128),i+=e.util.fillString(String.fromCharCode(0),64),o=!0}function r(e,t,r){for(var n,i,o,a,s,u,c,l,p=r.length();p>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,u=e.h4,l=0;l<16;++l)n=r.getInt32(),t[l]=n,c=s^o&(a^s),n=(i<<5|i>>>27)+c+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<20;++l)n=t[l-3]^t[l-8]^t[l-14]^t[l-16],n=n<<1|n>>>31,t[l]=n,c=s^o&(a^s),n=(i<<5|i>>>27)+c+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<32;++l)n=t[l-3]^t[l-8]^t[l-14]^t[l-16],n=n<<1|n>>>31,t[l]=n,c=o^a^s,n=(i<<5|i>>>27)+c+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<40;++l)n=t[l-6]^t[l-16]^t[l-28]^t[l-32],n=n<<2|n>>>30,t[l]=n,c=o^a^s,n=(i<<5|i>>>27)+c+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<60;++l)n=t[l-6]^t[l-16]^t[l-28]^t[l-32],n=n<<2|n>>>30,t[l]=n,c=o&a|s&(o^a),n=(i<<5|i>>>27)+c+u+2400959708+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<80;++l)n=t[l-6]^t[l-16]^t[l-28]^t[l-32],n=n<<2|n>>>30,t[l]=n,c=o^a^s,n=(i<<5|i>>>27)+c+u+3395469782+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,p-=64}}var n=e.sha1=e.sha1||{};e.md=e.md||{},e.md.algorithms=e.md.algorithms||{},e.md.sha1=e.md.algorithms.sha1=n,n.create=function(){o||t();var n=null,a=e.util.createBuffer(),s=new Array(80),u={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var t=u.messageLengthSize/4,r=0;r<t;++r)u.fullMessageLength.push(0);return a=e.util.createBuffer(),n={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},u},u.start(),u.update=function(t,i){"utf8"===i&&(t=e.util.encodeUtf8(t));var o=t.length;u.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=u.fullMessageLength.length-1;c>=0;--c)u.fullMessageLength[c]+=o[1],o[1]=o[0]+(u.fullMessageLength[c]/4294967296>>>0),u.fullMessageLength[c]=u.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return a.putBytes(t),r(n,s,a),(a.read>2048||0===a.length())&&a.compact(),u},u.digest=function(){var t=e.util.createBuffer();t.putBytes(a.bytes());var o=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,c=o&u.blockLength-1;t.putBytes(i.substr(0,u.blockLength-c));for(var l,p,f=8*u.fullMessageLength[0],d=0;d<u.fullMessageLength.length-1;++d)l=8*u.fullMessageLength[d+1],p=l/4294967296>>>0,f+=p,t.putInt32(f>>>0),f=l>>>0;t.putInt32(f);var h={h0:n.h0,h1:n.h1,h2:n.h2,h3:n.h3,h4:n.h4};r(h,s,t);var y=e.util.createBuffer();return y.putInt32(h.h0),y.putInt32(h.h1),y.putInt32(h.h2),y.putInt32(h.h3),y.putInt32(h.h4),y},u};var i=null,o=!1}var t="sha1";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/sha1",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(){i=String.fromCharCode(128),i+=e.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0}function r(e,t,r){for(var n,i,o,s,u,c,l,p,f,d,h,y,g,v,m,C=r.length();C>=64;){for(l=0;l<16;++l)t[l]=r.getInt32();for(;l<64;++l)n=t[l-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[l-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[l]=n+t[l-7]+i+t[l-16]|0;for(p=e.h0,f=e.h1,d=e.h2,h=e.h3,y=e.h4,g=e.h5,v=e.h6,m=e.h7,l=0;l<64;++l)s=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),u=v^y&(g^v),o=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),c=p&f|d&(p^f),n=m+s+u+a[l]+t[l],i=o+c,m=v,v=g,g=y,y=h+n>>>0,h=d,d=f,f=p,p=n+i>>>0;e.h0=e.h0+p|0,e.h1=e.h1+f|0,e.h2=e.h2+d|0,e.h3=e.h3+h|0,e.h4=e.h4+y|0,e.h5=e.h5+g|0,e.h6=e.h6+v|0,e.h7=e.h7+m|0,C-=64}}var n=e.sha256=e.sha256||{};e.md=e.md||{},e.md.algorithms=e.md.algorithms||{},e.md.sha256=e.md.algorithms.sha256=n,n.create=function(){o||t();var n=null,a=e.util.createBuffer(),s=new Array(64),u={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var t=u.messageLengthSize/4,r=0;r<t;++r)u.fullMessageLength.push(0);return a=e.util.createBuffer(),n={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},u},u.start(),u.update=function(t,i){"utf8"===i&&(t=e.util.encodeUtf8(t));var o=t.length;u.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=u.fullMessageLength.length-1;c>=0;--c)u.fullMessageLength[c]+=o[1],o[1]=o[0]+(u.fullMessageLength[c]/4294967296>>>0),u.fullMessageLength[c]=u.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return a.putBytes(t),r(n,s,a),(a.read>2048||0===a.length())&&a.compact(),u},u.digest=function(){var t=e.util.createBuffer();t.putBytes(a.bytes());var o=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,c=o&u.blockLength-1;t.putBytes(i.substr(0,u.blockLength-c));for(var l,p,f=8*u.fullMessageLength[0],d=0;d<u.fullMessageLength.length-1;++d)l=8*u.fullMessageLength[d+1],p=l/4294967296>>>0,f+=p,t.putInt32(f>>>0),f=l>>>0;t.putInt32(f);var h={h0:n.h0,h1:n.h1,h2:n.h2,h3:n.h3,h4:n.h4,h5:n.h5,h6:n.h6,h7:n.h7};r(h,s,t);var y=e.util.createBuffer();return y.putInt32(h.h0),y.putInt32(h.h1),y.putInt32(h.h2),y.putInt32(h.h3),y.putInt32(h.h4),y.putInt32(h.h5),y.putInt32(h.h6),y.putInt32(h.h7),y},u};var i=null,o=!1,a=null}var t="sha256";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/sha256",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(){o=String.fromCharCode(128),o+=e.util.fillString(String.fromCharCode(0),128),s=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],u={},u["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],u["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],u["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],u["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a=!0}function r(e,t,r){for(var n,i,o,a,u,c,l,p,f,d,h,y,g,v,m,C,E,S,T,A,b,I,w,_,B,k,N,R,D,x,L,P,U,O,M,j=r.length();j>=128;){for(D=0;D<16;++D)t[D][0]=r.getInt32()>>>0,t[D][1]=r.getInt32()>>>0;for(;D<80;++D)P=t[D-2],x=P[0],L=P[1],n=((x>>>19|L<<13)^(L>>>29|x<<3)^x>>>6)>>>0,i=((x<<13|L>>>19)^(L<<3|x>>>29)^(x<<26|L>>>6))>>>0,O=t[D-15],x=O[0],L=O[1],o=((x>>>1|L<<31)^(x>>>8|L<<24)^x>>>7)>>>0,a=((x<<31|L>>>1)^(x<<24|L>>>8)^(x<<25|L>>>7))>>>0,U=t[D-7],M=t[D-16],L=i+U[1]+a+M[1],t[D][0]=n+U[0]+o+M[0]+(L/4294967296>>>0)>>>0,t[D][1]=L>>>0;for(g=e[0][0],v=e[0][1],m=e[1][0],C=e[1][1],E=e[2][0],S=e[2][1],T=e[3][0],A=e[3][1],b=e[4][0],I=e[4][1],w=e[5][0],_=e[5][1],B=e[6][0],k=e[6][1],N=e[7][0],R=e[7][1],D=0;D<80;++D)l=((b>>>14|I<<18)^(b>>>18|I<<14)^(I>>>9|b<<23))>>>0,p=((b<<18|I>>>14)^(b<<14|I>>>18)^(I<<23|b>>>9))>>>0,f=(B^b&(w^B))>>>0,d=(k^I&(_^k))>>>0,u=((g>>>28|v<<4)^(v>>>2|g<<30)^(v>>>7|g<<25))>>>0,c=((g<<4|v>>>28)^(v<<30|g>>>2)^(v<<25|g>>>7))>>>0,h=(g&m|E&(g^m))>>>0,y=(v&C|S&(v^C))>>>0,L=R+p+d+s[D][1]+t[D][1],n=N+l+f+s[D][0]+t[D][0]+(L/4294967296>>>0)>>>0,i=L>>>0,L=c+y,o=u+h+(L/4294967296>>>0)>>>0,a=L>>>0,N=B,R=k,B=w,k=_,w=b,_=I,L=A+i,b=T+n+(L/4294967296>>>0)>>>0,I=L>>>0,T=E,A=S,E=m,S=C,m=g,C=v,L=i+a,g=n+o+(L/4294967296>>>0)>>>0,v=L>>>0;L=e[0][1]+v,e[0][0]=e[0][0]+g+(L/4294967296>>>0)>>>0,e[0][1]=L>>>0,L=e[1][1]+C,e[1][0]=e[1][0]+m+(L/4294967296>>>0)>>>0,e[1][1]=L>>>0,L=e[2][1]+S,e[2][0]=e[2][0]+E+(L/4294967296>>>0)>>>0,e[2][1]=L>>>0,L=e[3][1]+A,e[3][0]=e[3][0]+T+(L/4294967296>>>0)>>>0,e[3][1]=L>>>0,L=e[4][1]+I,e[4][0]=e[4][0]+b+(L/4294967296>>>0)>>>0,e[4][1]=L>>>0,L=e[5][1]+_,e[5][0]=e[5][0]+w+(L/4294967296>>>0)>>>0,e[5][1]=L>>>0,L=e[6][1]+k,e[6][0]=e[6][0]+B+(L/4294967296>>>0)>>>0,e[6][1]=L>>>0,L=e[7][1]+R,e[7][0]=e[7][0]+N+(L/4294967296>>>0)>>>0,e[7][1]=L>>>0,j-=128}}var n=e.sha512=e.sha512||{};e.md=e.md||{},e.md.algorithms=e.md.algorithms||{},e.md.sha512=e.md.algorithms.sha512=n;var i=e.sha384=e.sha512.sha384=e.sha512.sha384||{};i.create=function(){return n.create("SHA-384")},e.md.sha384=e.md.algorithms.sha384=i,e.sha512.sha256=e.sha512.sha256||{create:function(){return n.create("SHA-512/256")}},e.md["sha512/256"]=e.md.algorithms["sha512/256"]=e.sha512.sha256,e.sha512.sha224=e.sha512.sha224||{create:function(){return n.create("SHA-512/224")}},e.md["sha512/224"]=e.md.algorithms["sha512/224"]=e.sha512.sha224,n.create=function(n){if(a||t(),"undefined"==typeof n&&(n="SHA-512"),!(n in u))throw new Error("Invalid SHA-512 algorithm: "+n);for(var i=u[n],s=null,c=e.util.createBuffer(),l=new Array(80),p=0;p<80;++p)l[p]=new Array(2);var f={algorithm:n.replace("-","").toLowerCase(),blockLength:128,digestLength:64,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var t=f.messageLengthSize/4,r=0;r<t;++r)f.fullMessageLength.push(0);c=e.util.createBuffer(),s=new Array(i.length);for(var r=0;r<i.length;++r)s[r]=i[r].slice(0);return f},f.start(),f.update=function(t,n){"utf8"===n&&(t=e.util.encodeUtf8(t));var i=t.length;f.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var o=f.fullMessageLength.length-1;o>=0;--o)f.fullMessageLength[o]+=i[1],i[1]=i[0]+(f.fullMessageLength[o]/4294967296>>>0),f.fullMessageLength[o]=f.fullMessageLength[o]>>>0,i[0]=i[1]/4294967296>>>0;return c.putBytes(t),r(s,l,c),(c.read>2048||0===c.length())&&c.compact(),f},f.digest=function(){var t=e.util.createBuffer();t.putBytes(c.bytes());var i=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,a=i&f.blockLength-1;t.putBytes(o.substr(0,f.blockLength-a));for(var u,p,d=8*f.fullMessageLength[0],h=0;h<f.fullMessageLength.length-1;++h)u=8*f.fullMessageLength[h+1],p=u/4294967296>>>0,d+=p,t.putInt32(d>>>0),d=u>>>0;t.putInt32(d);for(var y=new Array(s.length),h=0;h<s.length;++h)y[h]=s[h].slice(0);r(y,l,t);var g,v=e.util.createBuffer();
g="SHA-512"===n?y.length:"SHA-384"===n?y.length-2:y.length-4;for(var h=0;h<g;++h)v.putInt32(y[h][0]),h===g-1&&"SHA-512/224"===n||v.putInt32(y[h][1]);return v},f};var o=null,a=!1,s=null,u=null}var t="sha512";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/sha512",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){e.md=e.md||{},e.md.algorithms={md5:e.md5,sha1:e.sha1,sha256:e.sha256},e.md.md5=e.md5,e.md.sha1=e.sha1,e.md.sha256=e.sha256}var t="md";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/md",["require","module","./md5","./sha1","./sha256","./sha512"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){var t=e.hmac=e.hmac||{};t.create=function(){var t=null,r=null,n=null,i=null,o={};return o.start=function(o,a){if(null!==o)if("string"==typeof o){if(o=o.toLowerCase(),!(o in e.md.algorithms))throw new Error('Unknown hash algorithm "'+o+'"');r=e.md.algorithms[o].create()}else r=o;if(null===a)a=t;else{if("string"==typeof a)a=e.util.createBuffer(a);else if(e.util.isArray(a)){var s=a;a=e.util.createBuffer();for(var u=0;u<s.length;++u)a.putByte(s[u])}var c=a.length();c>r.blockLength&&(r.start(),r.update(a.bytes()),a=r.digest()),n=e.util.createBuffer(),i=e.util.createBuffer(),c=a.length();for(var u=0;u<c;++u){var s=a.at(u);n.putByte(54^s),i.putByte(92^s)}if(c<r.blockLength)for(var s=r.blockLength-c,u=0;u<s;++u)n.putByte(54),i.putByte(92);t=a,n=n.bytes(),i=i.bytes()}r.start(),r.update(n)},o.update=function(e){r.update(e)},o.getMac=function(){var e=r.digest().bytes();return r.start(),r.update(i),r.update(e),r.digest()},o.digest=o.getMac,o}}var t="hmac";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/hmac",["require","module","./md","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";for(var o=0,a=-1,i=0;i<t.length;++i,++o)if(o>65&&a!==-1){var s=t[a];","===s?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+s+t.substr(a+1),o=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function r(e){return e.replace(/^\s+/,"")}var n=e.pem=e.pem||{};n.encode=function(r,n){n=n||{};var i,o="-----BEGIN "+r.type+"-----\r\n";if(r.procType&&(i={name:"Proc-Type",values:[String(r.procType.version),r.procType.type]},o+=t(i)),r.contentDomain&&(i={name:"Content-Domain",values:[r.contentDomain]},o+=t(i)),r.dekInfo&&(i={name:"DEK-Info",values:[r.dekInfo.algorithm]},r.dekInfo.parameters&&i.values.push(r.dekInfo.parameters),o+=t(i)),r.headers)for(var a=0;a<r.headers.length;++a)o+=t(r.headers[a]);return r.procType&&(o+="\r\n"),o+=e.util.encode64(r.body,n.maxline||64)+"\r\n",o+="-----END "+r.type+"-----\r\n"},n.decode=function(t){for(var n,i=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;;){if(n=o.exec(t),!n)break;var u={type:n[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:e.util.decode64(n[3])};if(i.push(u),n[2]){for(var c=n[2].split(s),l=0;n&&l<c.length;){for(var p=c[l].replace(/\s+$/,""),f=l+1;f<c.length;++f){var d=c[f];if(!/\s/.test(d[0]))break;p+=d,l=f}if(n=p.match(a)){for(var h={name:n[1],values:[]},y=n[2].split(","),g=0;g<y.length;++g)h.values.push(r(y[g]));if(u.procType)if(u.contentDomain||"Content-Domain"!==h.name)if(u.dekInfo||"DEK-Info"!==h.name)u.headers.push(h);else{if(0===h.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:y[0],parameters:y[1]||null}}else u.contentDomain=y[0]||"";else{if("Proc-Type"!==h.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==h.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:y[0],type:y[1]}}}++l}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===i.length)throw new Error("Invalid PEM formatted message.");return i}}var t="pem";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pem",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t,r){var n=function(){return new e.des.Algorithm(t,r)};e.cipher.registerAlgorithm(t,n)}function r(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],h=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],C=0,E=0;E<g;E++){var S=e.getInt32(),T=e.getInt32();t=252645135&(S>>>4^T),T^=t,S^=t<<4,t=65535&(T>>>-16^S),S^=t,T^=t<<-16,t=858993459&(S>>>2^T),T^=t,S^=t<<2,t=65535&(T>>>-16^S),S^=t,T^=t<<-16,t=1431655765&(S>>>1^T),T^=t,S^=t<<1,t=16711935&(T>>>8^S),S^=t,T^=t<<8,t=1431655765&(S>>>1^T),T^=t,S^=t<<1,t=S<<8|T>>>20&240,S=T<<24|T<<8&16711680|T>>>8&65280|T>>>24&240,T=t;for(var A=0;A<m.length;++A){m[A]?(S=S<<2|S>>>26,T=T<<2|T>>>26):(S=S<<1|S>>>27,T=T<<1|T>>>27),S&=-15,T&=-15;var b=r[S>>>28]|n[S>>>24&15]|i[S>>>20&15]|o[S>>>16&15]|a[S>>>12&15]|s[S>>>8&15]|u[S>>>4&15],I=c[T>>>28]|l[T>>>24&15]|p[T>>>20&15]|f[T>>>16&15]|d[T>>>12&15]|h[T>>>8&15]|y[T>>>4&15];t=65535&(I>>>16^b),v[C++]=b^t,v[C++]=I^t<<16}}return v}function n(e,t,r,n){var i,d=32===e.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var h,y=t[0],g=t[1];h=252645135&(y>>>4^g),g^=h,y^=h<<4,h=65535&(y>>>16^g),g^=h,y^=h<<16,h=858993459&(g>>>2^y),y^=h,g^=h<<2,h=16711935&(g>>>8^y),y^=h,g^=h<<8,h=1431655765&(y>>>1^g),g^=h,y^=h<<1,y=y<<1|y>>>31,g=g<<1|g>>>31;for(var v=0;v<d;v+=3){for(var m=i[v+1],C=i[v+2],E=i[v];E!=m;E+=C){var S=g^e[E],T=(g>>>4|g<<28)^e[E+1];h=y,y=g,g=h^(a[S>>>24&63]|u[S>>>16&63]|l[S>>>8&63]|f[63&S]|o[T>>>24&63]|s[T>>>16&63]|c[T>>>8&63]|p[63&T])}h=y,y=g,g=h}y=y>>>1|y<<31,g=g>>>1|g<<31,h=1431655765&(y>>>1^g),g^=h,y^=h<<1,h=16711935&(g>>>8^y),y^=h,g^=h<<8,h=858993459&(g>>>2^y),y^=h,g^=h<<2,h=65535&(y>>>16^g),g^=h,y^=h<<16,h=252645135&(y>>>4^g),g^=h,y^=h<<4,r[0]=y,r[1]=g}function i(t){t=t||{};var r,n=(t.mode||"CBC").toUpperCase(),i="DES-"+n;r=t.decrypt?e.cipher.createDecipher(i,t.key):e.cipher.createCipher(i,t.key);var o=r.start;return r.start=function(t,n){var i=null;n instanceof e.util.ByteBuffer&&(i=n,n={}),n=n||{},n.output=i,n.iv=t,o.call(r,n)},r}e.des=e.des||{},e.des.startEncrypting=function(e,t,r,n){var o=i({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return o.start(t),o},e.des.createEncryptionCipher=function(e,t){return i({key:e,output:null,decrypt:!1,mode:t})},e.des.startDecrypting=function(e,t,r,n){var o=i({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return o.start(t),o},e.des.createDecryptionCipher=function(e,t){return i({key:e,output:null,decrypt:!0,mode:t})},e.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return n(r._keys,e,t,!1)},decrypt:function(e,t){return n(r._keys,e,t,!0)}}}),r._init=!1},e.des.Algorithm.prototype.initialize=function(t){if(!this._init){var n=e.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==n.length())throw new Error("Invalid Triple-DES key size: "+8*n.length());this._keys=r(n),this._init=!0}},t("DES-ECB",e.cipher.modes.ecb),t("DES-CBC",e.cipher.modes.cbc),t("DES-CFB",e.cipher.modes.cfb),t("DES-OFB",e.cipher.modes.ofb),t("DES-CTR",e.cipher.modes.ctr),t("3DES-ECB",e.cipher.modes.ecb),t("3DES-CBC",e.cipher.modes.cbc),t("3DES-CFB",e.cipher.modes.cfb),t("3DES-OFB",e.cipher.modes.ofb),t("3DES-CTR",e.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]}var t="des";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/des",["require","module","./cipher","./cipherModes","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function t(t){var r,i=t.pkcs5=t.pkcs5||{},o="undefined"!=typeof e&&e.versions&&e.versions.node;o&&!t.disableNativeCode&&(r=n("crypto")),t.pbkdf2=i.pbkdf2=function(e,n,i,a,u,c){function l(){return S>h?c(null,E):(g.start(null,null),g.update(n),g.update(t.util.int32ToBytes(S)),v=C=g.digest().getBytes(),T=2,void p())}function p(){return T<=i?(g.start(null,null),g.update(C),m=g.digest().getBytes(),v=t.util.xorBytes(v,m,f),C=m,++T,t.util.setImmediate(p)):(E+=S<h?v:v.substr(0,y),++S,void l())}if("function"==typeof u&&(c=u,u=null),o&&!t.disableNativeCode&&r.pbkdf2&&(null===u||"object"!=typeof u)&&(r.pbkdf2Sync.length>4||!u||"sha1"===u))return"string"!=typeof u&&(u="sha1"),e=new s(e,"binary"),n=new s(n,"binary"),c?4===r.pbkdf2Sync.length?r.pbkdf2(e,n,i,a,function(e,t){return e?c(e):void c(null,t.toString("binary"))}):r.pbkdf2(e,n,i,a,u,function(e,t){return e?c(e):void c(null,t.toString("binary"))}):4===r.pbkdf2Sync.length?r.pbkdf2Sync(e,n,i,a).toString("binary"):r.pbkdf2Sync(e,n,i,a,u).toString("binary");if("undefined"!=typeof u&&null!==u||(u=t.md.sha1.create()),"string"==typeof u){if(!(u in t.md.algorithms))throw new Error("Unknown hash algorithm: "+u);u=t.md[u].create()}var f=u.digestLength;if(a>4294967295*f){var d=new Error("Derived key is too long.");if(c)return c(d);throw d}var h=Math.ceil(a/f),y=a-(h-1)*f,g=t.hmac.create();g.start(u,e);var v,m,C,E="";if(!c){for(var S=1;S<=h;++S){g.start(null,null),g.update(n),g.update(t.util.int32ToBytes(S)),v=C=g.digest().getBytes();for(var T=2;T<=i;++T)g.start(null,null),g.update(C),m=g.digest().getBytes(),v=t.util.xorBytes(v,m,f),C=m;E+=S<h?v:v.substr(0,y)}return E}var T,S=1;l()}}var r="pbkdf2";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),t(forge);var o=!0;i=function(e,t){t(n,a)}}var u,c=function(e,n){n.exports=function(n){var i=u.map(function(t){return e(t)}).concat(t);if(n=n||{},n.defined=n.defined||{},n.defined[r])return n[r];n.defined[r]=!0;for(var o=0;o<i.length;++o)i[o](n);return n[r]}},l=i;(i=function(e,t){return u="string"==typeof e?t.slice(2):e.slice(2),o?(delete i,l.apply(null,Array.prototype.slice.call(arguments,0))):(i=l,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pbkdf2",["require","module","./hmac","./md","./util"],function(){c.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function t(t){var r="undefined"!=typeof e&&e.versions&&e.versions.node,i=null;t.disableNativeCode||!r||e.versions["node-webkit"]||(i=n("crypto"));var o=t.prng=t.prng||{};o.create=function(e){function r(e){if(s.pools[0].messageLength>=32)return o(),e();var t=32-s.pools[0].messageLength<<5;s.seedFile(t,function(t,r){return t?e(t):(s.collect(r),o(),void e())})}function n(){if(s.pools[0].messageLength>=32)return o();var e=32-s.pools[0].messageLength<<5;s.collect(s.seedFileSync(e)),o()}function o(){var e=s.plugin.md.create();e.update(s.pools[0].digest().getBytes()),s.pools[0].start();for(var t=1,r=1;r<32;++r)t=31===t?2147483648:t<<2,t%s.reseeds===0&&(e.update(s.pools[r].digest().getBytes()),s.pools[r].start());var n=e.digest().getBytes();e.start(),e.update(n);var i=e.digest().getBytes();s.key=s.plugin.formatKey(n),s.seed=s.plugin.formatSeed(i),s.reseeds=4294967295===s.reseeds?0:s.reseeds+1,s.generated=0}function a(e){var r=null;if("undefined"!=typeof window){var n=window.crypto||window.msCrypto;n&&n.getRandomValues&&(r=function(e){return n.getRandomValues(e)})}var i=t.util.createBuffer();if(r)for(;i.length()<e;){var o=Math.max(1,Math.min(e-i.length(),65536)/4),a=new Uint32Array(Math.floor(o));try{r(a);for(var s=0;s<a.length;++s)i.putInt32(a[s])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var u,c,l,p=Math.floor(65536*Math.random());i.length()<e;){c=16807*(65535&p),u=16807*(p>>16),c+=(32767&u)<<16,c+=u>>15,c=(2147483647&c)+(c>>31),p=4294967295&c;for(var s=0;s<3;++s)l=p>>>(s<<3),l^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&l))}return i.getBytes(e)}for(var s={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0},u=e.md,c=new Array(32),l=0;l<32;++l)c[l]=u.create();return s.pools=c,s.pool=0,s.generate=function(e,n){function i(p){if(p)return n(p);if(l.length()>=e)return n(null,l.getBytes(e));if(s.generated>1048575&&(s.key=null),null===s.key)return t.util.nextTick(function(){r(i)});var f=o(s.key,s.seed);s.generated+=f.length,l.putBytes(f),s.key=u(o(s.key,a(s.seed))),s.seed=c(o(s.key,s.seed)),t.util.setImmediate(i)}if(!n)return s.generateSync(e);var o=s.plugin.cipher,a=s.plugin.increment,u=s.plugin.formatKey,c=s.plugin.formatSeed,l=t.util.createBuffer();s.key=null,i()},s.generateSync=function(e){var r=s.plugin.cipher,i=s.plugin.increment,o=s.plugin.formatKey,a=s.plugin.formatSeed;s.key=null;for(var u=t.util.createBuffer();u.length()<e;){s.generated>1048575&&(s.key=null),null===s.key&&n();var c=r(s.key,s.seed);s.generated+=c.length,u.putBytes(c),s.key=o(r(s.key,i(s.seed))),s.seed=a(r(s.key,s.seed))}return u.getBytes(e)},i?(s.seedFile=function(e,t){i.randomBytes(e,function(e,r){return e?t(e):void t(null,r.toString())})},s.seedFileSync=function(e){return i.randomBytes(e).toString()}):(s.seedFile=function(e,t){try{t(null,a(e))}catch(e){t(e)}},s.seedFileSync=a),s.collect=function(e){for(var t=e.length,r=0;r<t;++r)s.pools[s.pool].update(e.substr(r,1)),s.pool=31===s.pool?0:s.pool+1},s.collectInt=function(e,t){for(var r="",n=0;n<t;n+=8)r+=String.fromCharCode(e>>n&255);s.collect(r)},s.registerWorker=function(e){if(e===self)s.seedFile=function(e,t){function r(e){var n=e.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",r),t(n.forge.prng.err,n.forge.prng.bytes))}self.addEventListener("message",r),self.postMessage({forge:{prng:{needed:e}}})};else{var t=function(t){var r=t.data;r.forge&&r.forge.prng&&s.seedFile(r.forge.prng.needed,function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})})};e.addEventListener("message",t)}},s}}var r="prng";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),t(forge);var o=!0;i=function(e,t){t(n,a)}}var s,u=function(e,n){n.exports=function(n){var i=s.map(function(t){return e(t)}).concat(t);if(n=n||{},n.defined=n.defined||{},n.defined[r])return n[r];n.defined[r]=!0;for(var o=0;o<i.length;++o)i[o](n);return n[r]}},c=i;(i=function(e,t){return s="string"==typeof e?t.slice(2):e.slice(2),o?(delete i,c.apply(null,Array.prototype.slice.call(arguments,0))):(i=c,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/prng",["require","module","./md","./util"],function(){u.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function t(t){t.random&&t.random.getBytes||!function(r){function n(){var e=t.prng.create(i);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}var i={},o=new Array(4),a=t.util.createBuffer();i.formatKey=function(e){var r=t.util.createBuffer(e);return e=new Array(4),e[0]=r.getInt32(),e[1]=r.getInt32(),e[2]=r.getInt32(),e[3]=r.getInt32(),t.aes._expandKey(e,!1)},i.formatSeed=function(e){var r=t.util.createBuffer(e);return e=new Array(4),e[0]=r.getInt32(),e[1]=r.getInt32(),e[2]=r.getInt32(),e[3]=r.getInt32(),e},i.cipher=function(e,r){return t.aes._updateBlock(e,r,o,!1),a.putInt32(o[0]),a.putInt32(o[1]),a.putInt32(o[2]),a.putInt32(o[3]),a.getBytes()},i.increment=function(e){return++e[3],e},i.md=t.md.sha256;var s=n(),u="undefined"!=typeof e&&e.versions&&e.versions.node,c=null;if("undefined"!=typeof window){var l=window.crypto||window.msCrypto;l&&l.getRandomValues&&(c=function(e){return l.getRandomValues(e)})}if(t.disableNativeCode||!u&&!c){if("undefined"==typeof window||void 0===window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var p="";for(var f in navigator)try{"string"==typeof navigator[f]&&(p+=navigator[f])}catch(e){}s.collect(p),p=null}r&&(r().mousemove(function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)}),r().keypress(function(e){s.collectInt(e.charCode,8)}))}if(t.random)for(var f in s)t.random[f]=s[f];else t.random=s;t.random.createInstance=n}("undefined"!=typeof jQuery?jQuery:null)}var r="random";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),t(forge);var o=!0;i=function(e,t){t(n,a)}}var s,u=function(e,n){n.exports=function(n){var i=s.map(function(t){return e(t)}).concat(t);if(n=n||{},n.defined=n.defined||{},n.defined[r])return n[r];n.defined[r]=!0;for(var o=0;o<i.length;++o)i[o](n);return n[r]}},c=i;(i=function(e,t){return s="string"==typeof e?t.slice(2):e.slice(2),o?(delete i,c.apply(null,Array.prototype.slice.call(arguments,0))):(i=c,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/random",["require","module","./aes","./md","./prng","./util"],function(){u.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){var t=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],r=[1,2,3,5],n=function(e,t){return e<<t&65535|(65535&e)>>16-t},i=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.rc2=e.rc2||{},e.rc2.expandKey=function(r,n){"string"==typeof r&&(r=e.util.createBuffer(r)),n=n||128;var i,o=r,a=r.length(),s=n,u=Math.ceil(s/8),c=255>>(7&s);for(i=a;i<128;i++)o.putByte(t[o.at(i-1)+o.at(i-a)&255]);for(o.setAt(128-u,t[o.at(128-u)&c]),i=127-u;i>=0;i--)o.setAt(i,t[o.at(i+1)^o.at(i+u)]);return o};var o=function(t,o,a){var s,u,c,l,p=!1,f=null,d=null,h=null,y=[];for(t=e.rc2.expandKey(t,o),c=0;c<64;c++)y.push(t.getInt16Le());a?(s=function(e){for(c=0;c<4;c++)e[c]+=y[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),e[c]=n(e[c],r[c]),l++},u=function(e){for(c=0;c<4;c++)e[c]+=y[63&e[(c+3)%4]]}):(s=function(e){for(c=3;c>=0;c--)e[c]=i(e[c],r[c]),e[c]-=y[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),l--},u=function(e){for(c=3;c>=0;c--)e[c]-=y[63&e[(c+3)%4]]});var g=function(e){var t=[];for(c=0;c<4;c++){var r=f.getInt16Le();null!==h&&(a?r^=h.getInt16Le():h.putInt16Le(r)),t.push(65535&r)}l=a?0:63;for(var n=0;n<e.length;n++)for(var i=0;i<e[n][0];i++)e[n][1](t);for(c=0;c<4;c++)null!==h&&(a?h.putInt16Le(t[c]):t[c]^=h.getInt16Le()),d.putInt16Le(t[c])},v=null;return v={start:function(t,r){t&&"string"==typeof t&&(t=e.util.createBuffer(t)),p=!1,f=e.util.createBuffer(),d=r||new e.util.createBuffer,h=t,v.output=d},update:function(e){for(p||f.putBuffer(e);f.length()>=8;)g([[5,s],[1,u],[6,s],[1,u],[5,s]])},finish:function(e){var t=!0;if(a)if(e)t=e(8,f,!a);else{var r=8===f.length()?8:8-f.length();f.fillWithByte(r,r)}if(t&&(p=!0,v.update()),!a&&(t=0===f.length()))if(e)t=e(8,d,!a);else{var n=d.length(),i=d.at(n-1);i>n?t=!1:d.truncate(i)}return t}}};e.rc2.startEncrypting=function(t,r,n){var i=e.rc2.createEncryptionCipher(t,128);return i.start(r,n),i},e.rc2.createEncryptionCipher=function(e,t){return o(e,t,!0)},e.rc2.startDecrypting=function(t,r,n){var i=e.rc2.createDecryptionCipher(t,128);return i.start(r,n),i},e.rc2.createDecryptionCipher=function(e,t){return o(e,t,!1)}}var t="rc2";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/rc2",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function BigInteger(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new BigInteger(null)}function r(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i}function n(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this.data[e],c=this.data[e++]>>15,l=s*u+c*a;u=a*u+((32767&l)<<15)+r.data[n]+(1073741823&i),i=(u>>>30)+(l>>>15)+s*c+(i>>>30),r.data[n++]=1073741823&u}return i}function i(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this.data[e],c=this.data[e++]>>14,l=s*u+c*a;u=a*u+((16383&l)<<14)+r.data[n]+i,i=(u>>28)+(l>>14)+s*c,r.data[n++]=268435455&u}return i}function o(e){return it.charAt(e)}function a(e,t){var r=ot[e.charCodeAt(t)];return null==r?-1:r}function s(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function u(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function c(e){var r=t();return r.fromInt(e),r}function l(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var s=8==r?255&e[n]:a(e,n);s<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==o?this.data[this.t++]=s:o+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this.data[this.t++]=s>>this.DB-o):this.data[this.t-1]|=s<<o,o+=r,o>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&BigInteger.ZERO.subTo(this,this)}function p(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function f(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,a="",s=this.t,u=this.DB-s*this.DB%t;if(s-- >0)for(u<this.DB&&(r=this.data[s]>>u)>0&&(i=!0,a=o(r));s>=0;)u<t?(r=(this.data[s]&(1<<u)-1)<<t-u,r|=this.data[--s]>>(u+=this.DB-t)):(r=this.data[s]>>(u-=t)&n,u<=0&&(u+=this.DB,--s)),r>0&&(i=!0),i&&(a+=o(r));return i?a:"0"}function d(){var e=t();return BigInteger.ZERO.subTo(this,e),e}function h(){return this.s<0?this.negate():this}function y(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(t=r-e.t,0!=t)return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0}function g(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function v(){return this.t<=0?0:this.DB*(this.t-1)+g(this.data[this.t-1]^this.s&this.DM)}function m(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function C(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function E(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>i|s,s=(this.data[r]&o)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function S(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)return void(t.t=0);var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;
n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}function T(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function A(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&BigInteger.ZERO.subTo(t,t)}function b(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function I(e,r,n){var i=e.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=t());var a=t(),s=this.s,u=e.s,c=this.DB-g(i.data[i.t-1]);c>0?(i.lShiftTo(c,a),o.lShiftTo(c,n)):(i.copyTo(a),o.copyTo(n));var l=a.t,p=a.data[l-1];if(0!=p){var f=p*(1<<this.F1)+(l>1?a.data[l-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,y=1<<this.F2,v=n.t,m=v-l,C=null==r?t():r;for(a.dlShiftTo(m,C),n.compareTo(C)>=0&&(n.data[n.t++]=1,n.subTo(C,n)),BigInteger.ONE.dlShiftTo(l,C),C.subTo(a,a);a.t<l;)a.data[a.t++]=0;for(;--m>=0;){var E=n.data[--v]==p?this.DM:Math.floor(n.data[v]*d+(n.data[v-1]+y)*h);if((n.data[v]+=a.am(0,E,n,m,0,l))<E)for(a.dlShiftTo(m,C),n.subTo(C,n);n.data[v]<--E;)n.subTo(C,n)}null!=r&&(n.drShiftTo(l,r),s!=u&&BigInteger.ZERO.subTo(r,r)),n.t=l,n.clamp(),c>0&&n.rShiftTo(c,n),s<0&&BigInteger.ZERO.subTo(n,n)}}}function w(e){var r=t();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(BigInteger.ZERO)>0&&e.subTo(r,r),r}function _(e){this.m=e}function B(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function k(e){return e}function N(e){e.divRemTo(this.m,null,e)}function R(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function D(e,t){e.squareTo(t),this.reduce(t)}function x(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function L(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function P(e){var r=t();return e.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),e.s<0&&r.compareTo(BigInteger.ZERO)>0&&this.m.subTo(r,r),r}function U(e){var r=t();return e.copyTo(r),this.reduce(r),r}function O(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function M(e,t){e.squareTo(t),this.reduce(t)}function j(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function V(){return 0==(this.t>0?1&this.data[0]:this.s)}function F(e,r){if(e>4294967295||e<1)return BigInteger.ONE;var n=t(),i=t(),o=r.convert(this),a=g(e)-1;for(o.copyTo(n);--a>=0;)if(r.sqrTo(n,i),(e&1<<a)>0)r.mulTo(i,o,n);else{var s=n;n=i,i=s}return r.revert(n)}function K(e,t){var r;return r=e<256||t.isEven()?new _(t):new L(t),this.exp(e,r)}function H(){var e=t();return this.copyTo(e),e}function q(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function G(){return 0==this.t?this.s:this.data[0]<<24>>24}function W(){return 0==this.t?this.s:this.data[0]<<16>>16}function z(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function X(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function Y(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var r=this.chunkSize(e),n=Math.pow(e,r),i=c(n),o=t(),a=t(),s="";for(this.divRemTo(i,o,a);o.signum()>0;)s=(n+a.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(e)+s}function Q(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,s=0,u=0;u<e.length;++u){var c=a(e,u);c<0?"-"==e.charAt(u)&&0==this.signum()&&(i=!0):(s=t*s+c,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&BigInteger.ZERO.subTo(this,this)}function $(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(e-1),oe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(BigInteger.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function J(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t}function Z(e){return 0==this.compareTo(e)}function ee(e){return this.compareTo(e)<0?this:e}function te(e){return this.compareTo(e)>0?this:e}function re(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function ne(e,t){return e&t}function ie(e){var r=t();return this.bitwiseTo(e,ne,r),r}function oe(e,t){return e|t}function ae(e){var r=t();return this.bitwiseTo(e,oe,r),r}function se(e,t){return e^t}function ue(e){var r=t();return this.bitwiseTo(e,se,r),r}function ce(e,t){return e&~t}function le(e){var r=t();return this.bitwiseTo(e,ce,r),r}function pe(){for(var e=t(),r=0;r<this.t;++r)e.data[r]=this.DM&~this.data[r];return e.t=this.t,e.s=~this.s,e}function fe(e){var r=t();return e<0?this.rShiftTo(-e,r):this.lShiftTo(e,r),r}function de(e){var r=t();return e<0?this.lShiftTo(-e,r):this.rShiftTo(e,r),r}function he(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function ye(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+he(this.data[e]);return this.s<0?this.t*this.DB:-1}function ge(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function ve(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=ge(this.data[r]^t);return e}function me(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)}function Ce(e,t){var r=BigInteger.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function Ee(e){return this.changeBit(e,oe)}function Se(e){return this.changeBit(e,ce)}function Te(e){return this.changeBit(e,se)}function Ae(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function be(e){var r=t();return this.addTo(e,r),r}function Ie(e){var r=t();return this.subTo(e,r),r}function we(e){var r=t();return this.multiplyTo(e,r),r}function _e(e){var r=t();return this.divRemTo(e,r,null),r}function Be(e){var r=t();return this.divRemTo(e,null,r),r}function ke(e){var r=t(),n=t();return this.divRemTo(e,r,n),new Array(r,n)}function Ne(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Re(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function De(){}function xe(e){return e}function Le(e,t,r){e.multiplyTo(t,r)}function Pe(e,t){e.squareTo(t)}function Ue(e){return this.exp(e,new De)}function Oe(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function Me(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function je(e){this.r2=t(),this.q3=t(),BigInteger.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Ve(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var r=t();return e.copyTo(r),this.reduce(r),r}function Fe(e){return e}function Ke(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function He(e,t){e.squareTo(t),this.reduce(t)}function qe(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function Ge(e,r){var n,i,o=e.bitLength(),a=c(1);if(o<=0)return a;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new _(r):r.isEven()?new je(r):new L(r);var s=new Array,u=3,l=n-1,p=(1<<n)-1;if(s[1]=i.convert(this),n>1){var f=t();for(i.sqrTo(s[1],f);u<=p;)s[u]=t(),i.mulTo(f,s[u-2],s[u]),u+=2}var d,h,y=e.t-1,v=!0,m=t();for(o=g(e.data[y])-1;y>=0;){for(o>=l?d=e.data[y]>>o-l&p:(d=(e.data[y]&(1<<o+1)-1)<<l-o,y>0&&(d|=e.data[y-1]>>this.DB+o-l)),u=n;0==(1&d);)d>>=1,--u;if((o-=u)<0&&(o+=this.DB,--y),v)s[d].copyTo(a),v=!1;else{for(;u>1;)i.sqrTo(a,m),i.sqrTo(m,a),u-=2;u>0?i.sqrTo(a,m):(h=a,a=m,m=h),i.mulTo(m,s[d],a)}for(;y>=0&&0==(e.data[y]&1<<o);)i.sqrTo(a,m),h=a,a=m,m=h,--o<0&&(o=this.DB-1,--y)}return i.revert(a)}function We(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function ze(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function Xe(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return BigInteger.ZERO;for(var r=e.clone(),n=this.clone(),i=c(1),o=c(0),a=c(0),s=c(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=n.compareTo(BigInteger.ONE)?BigInteger.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s}function Ye(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=at[at.length-1]){for(t=0;t<at.length;++t)if(r.data[0]==at[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<at.length;){for(var n=at[t],i=t+1;i<at.length&&n<st;)n*=at[i++];for(n=r.modInt(n);t<i;)if(n%at[t++]==0)return!1}return r.millerRabin(e)}function Qe(e){var t=this.subtract(BigInteger.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),o=$e(),a=0;a<e;++a){do n=new BigInteger(this.bitLength(),o);while(n.compareTo(BigInteger.ONE)<=0||n.compareTo(t)>=0);var s=n.modPow(i,this);if(0!=s.compareTo(BigInteger.ONE)&&0!=s.compareTo(t)){for(var u=1;u++<r&&0!=s.compareTo(t);)if(s=s.modPowInt(2,this),0==s.compareTo(BigInteger.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0}function $e(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}}}var Je,Ze=0xdeadbeefcafe,et=15715070==(16777215&Ze);"undefined"==typeof navigator?(BigInteger.prototype.am=i,Je=28):et&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=n,Je=30):et&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=r,Je=26):(BigInteger.prototype.am=i,Je=28),BigInteger.prototype.DB=Je,BigInteger.prototype.DM=(1<<Je)-1,BigInteger.prototype.DV=1<<Je;var tt=52;BigInteger.prototype.FV=Math.pow(2,tt),BigInteger.prototype.F1=tt-Je,BigInteger.prototype.F2=2*Je-tt;var rt,nt,it="0123456789abcdefghijklmnopqrstuvwxyz",ot=new Array;for(rt="0".charCodeAt(0),nt=0;nt<=9;++nt)ot[rt++]=nt;for(rt="a".charCodeAt(0),nt=10;nt<36;++nt)ot[rt++]=nt;for(rt="A".charCodeAt(0),nt=10;nt<36;++nt)ot[rt++]=nt;_.prototype.convert=B,_.prototype.revert=k,_.prototype.reduce=N,_.prototype.mulTo=R,_.prototype.sqrTo=D,L.prototype.convert=P,L.prototype.revert=U,L.prototype.reduce=O,L.prototype.mulTo=j,L.prototype.sqrTo=M,BigInteger.prototype.copyTo=s,BigInteger.prototype.fromInt=u,BigInteger.prototype.fromString=l,BigInteger.prototype.clamp=p,BigInteger.prototype.dlShiftTo=m,BigInteger.prototype.drShiftTo=C,BigInteger.prototype.lShiftTo=E,BigInteger.prototype.rShiftTo=S,BigInteger.prototype.subTo=T,BigInteger.prototype.multiplyTo=A,BigInteger.prototype.squareTo=b,BigInteger.prototype.divRemTo=I,BigInteger.prototype.invDigit=x,BigInteger.prototype.isEven=V,BigInteger.prototype.exp=F,BigInteger.prototype.toString=f,BigInteger.prototype.negate=d,BigInteger.prototype.abs=h,BigInteger.prototype.compareTo=y,BigInteger.prototype.bitLength=v,BigInteger.prototype.mod=w,BigInteger.prototype.modPowInt=K,BigInteger.ZERO=c(0),BigInteger.ONE=c(1),De.prototype.convert=xe,De.prototype.revert=xe,De.prototype.mulTo=Le,De.prototype.sqrTo=Pe,je.prototype.convert=Ve,je.prototype.revert=Fe,je.prototype.reduce=Ke,je.prototype.mulTo=qe,je.prototype.sqrTo=He;var at=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],st=(1<<26)/at[at.length-1];BigInteger.prototype.chunkSize=z,BigInteger.prototype.toRadix=Y,BigInteger.prototype.fromRadix=Q,BigInteger.prototype.fromNumber=$,BigInteger.prototype.bitwiseTo=re,BigInteger.prototype.changeBit=Ce,BigInteger.prototype.addTo=Ae,BigInteger.prototype.dMultiply=Ne,BigInteger.prototype.dAddOffset=Re,BigInteger.prototype.multiplyLowerTo=Oe,BigInteger.prototype.multiplyUpperTo=Me,BigInteger.prototype.modInt=ze,BigInteger.prototype.millerRabin=Qe,BigInteger.prototype.clone=H,BigInteger.prototype.intValue=q,BigInteger.prototype.byteValue=G,BigInteger.prototype.shortValue=W,BigInteger.prototype.signum=X,BigInteger.prototype.toByteArray=J,BigInteger.prototype.equals=Z,BigInteger.prototype.min=ee,BigInteger.prototype.max=te,BigInteger.prototype.and=ie,BigInteger.prototype.or=ae,BigInteger.prototype.xor=ue,BigInteger.prototype.andNot=le,BigInteger.prototype.not=pe,BigInteger.prototype.shiftLeft=fe,BigInteger.prototype.shiftRight=de,BigInteger.prototype.getLowestSetBit=ye,BigInteger.prototype.bitCount=ve,BigInteger.prototype.testBit=me,BigInteger.prototype.setBit=Ee,BigInteger.prototype.clearBit=Se,BigInteger.prototype.flipBit=Te,BigInteger.prototype.add=be,BigInteger.prototype.subtract=Ie,BigInteger.prototype.multiply=we,BigInteger.prototype.divide=_e,BigInteger.prototype.remainder=Be,BigInteger.prototype.divideAndRemainder=ke,BigInteger.prototype.modPow=Ge,BigInteger.prototype.modInverse=Xe,BigInteger.prototype.pow=Ue,BigInteger.prototype.gcd=We,BigInteger.prototype.isProbablePrime=Ye,e.jsbn=e.jsbn||{},e.jsbn.BigInteger=BigInteger}var t="jsbn";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/jsbn",["require","module"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t,r,n){n||(n=e.md.sha1.create());for(var i="",o=Math.ceil(r/n.digestLength),a=0;a<o;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);n.start(),n.update(t+s),i+=n.digest().getBytes()}return i.substring(0,r)}var r=e.pkcs1=e.pkcs1||{};r.encode_rsa_oaep=function(r,n,i){var o,a,s,u;"string"==typeof i?(o=i,a=arguments[3]||void 0,s=arguments[4]||void 0):i&&(o=i.label||void 0,a=i.seed||void 0,s=i.md||void 0,i.mgf1&&i.mgf1.md&&(u=i.mgf1.md)),s?s.start():s=e.md.sha1.create(),u||(u=s);var c=Math.ceil(r.n.bitLength()/8),l=c-2*s.digestLength-2;if(n.length>l){var p=new Error("RSAES-OAEP input message length is too long.");throw p.length=n.length,p.maxLength=l,p}o||(o=""),s.update(o,"raw");for(var f=s.digest(),d="",h=l-n.length,y=0;y<h;y++)d+="\0";var g=f.getBytes()+d+""+n;if(a){if(a.length!==s.digestLength){var p=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw p.seedLength=a.length,p.digestLength=s.digestLength,p}}else a=e.random.getBytes(s.digestLength);var v=t(a,c-s.digestLength-1,u),m=e.util.xorBytes(g,v,g.length),C=t(m,s.digestLength,u),E=e.util.xorBytes(a,C,a.length);return"\0"+E+m},r.decode_rsa_oaep=function(r,n,i){var o,a,s;"string"==typeof i?(o=i,a=arguments[3]||void 0):i&&(o=i.label||void 0,a=i.md||void 0,i.mgf1&&i.mgf1.md&&(s=i.mgf1.md));var u=Math.ceil(r.n.bitLength()/8);if(n.length!==u){var c=new Error("RSAES-OAEP encoded message length is invalid.");throw c.length=n.length,c.expectedLength=u,c}if(void 0===a?a=e.md.sha1.create():a.start(),s||(s=a),u<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");o||(o=""),a.update(o,"raw");for(var l=a.digest().getBytes(),p=n.charAt(0),f=n.substring(1,a.digestLength+1),d=n.substring(1+a.digestLength),h=t(d,a.digestLength,s),y=e.util.xorBytes(f,h,f.length),g=t(y,u-a.digestLength-1,s),v=e.util.xorBytes(d,g,d.length),m=v.substring(0,a.digestLength),c="\0"!==p,C=0;C<a.digestLength;++C)c|=l.charAt(C)!==m.charAt(C);for(var E=1,S=a.digestLength,T=a.digestLength;T<v.length;T++){var A=v.charCodeAt(T),b=1&A^1,I=E?65534:0;c|=A&I,E&=b,S+=E}if(c||1!==v.charCodeAt(S))throw new Error("Invalid RSAES-OAEP padding.");return v.substring(S+1)}}var t="pkcs1";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pkcs1",["require","module","./util","./random","./sha1"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(e,t,i,o){return"workers"in i?n(e,t,i,o):r(e,t,i,o)}function r(t,n,a,u){var c=i(t,n),l=0,p=o(c.bitLength());"millerRabinTests"in a&&(p=a.millerRabinTests);var f=10;"maxBlockTime"in a&&(f=a.maxBlockTime);var d=+new Date;do{if(c.bitLength()>t&&(c=i(t,n)),c.isProbablePrime(p))return u(null,c);c.dAddOffset(s[l++%8],0)}while(f<0||+new Date-d<f);e.util.setImmediate(function(){r(t,n,a,u)})}function n(t,n,o,a){function s(){function e(e){if(!d){--s;var o=e.data;if(o.found){for(var c=0;c<r.length;++c)r[c].terminate();return d=!0,a(null,new BigInteger(o.prime,16))}u.bitLength()>t&&(u=i(t,n));var f=u.toString(16);e.target.postMessage({hex:f,workLoad:l}),u.dAddOffset(p,0)}}c=Math.max(1,c);for(var r=[],o=0;o<c;++o)r[o]=new Worker(f);for(var s=c,o=0;o<c;++o)r[o].addEventListener("message",e);var d=!1}if("undefined"==typeof Worker)return r(t,n,o,a);var u=i(t,n),c=o.workers,l=o.workLoad||100,p=30*l/8,f=o.workerScript||"forge/prime.worker.js";return c===-1?e.util.estimateCores(function(e,t){e&&(t=2),c=t-1,s()}):void s()}function i(e,t){var r=new BigInteger(e,t),n=e-1;return r.testBit(n)||r.bitwiseTo(BigInteger.ONE.shiftLeft(n),c,r),r.dAddOffset(31-r.mod(u).byteValue(),0),r}function o(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}if(!e.prime){var a=e.prime=e.prime||{},BigInteger=e.jsbn.BigInteger,s=[6,4,2,4,2,4,6,2],u=new BigInteger(null);u.fromInt(30);var c=function(e,t){return e|t};a.generateProbablePrime=function(r,n,i){"function"==typeof n&&(i=n,n={}),n=n||{};var o=n.algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var a=n.prng||e.random,s={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===o.name)return t(r,s,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}}var t="prime";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/prime",["require","module","./util","./jsbn","./random"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t,r,n){var i=e.util.createBuffer(),o=Math.ceil(r.n.bitLength()/8);if(t.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=o-11,a}i.putByte(0),i.putByte(n);var s,u=o-3-t.length;if(0===n||1===n){s=0===n?0:255;for(var c=0;c<u;++c)i.putByte(s)}else for(;u>0;){for(var l=0,p=e.random.getBytes(u),c=0;c<u;++c)s=p.charCodeAt(c),0===s?++l:i.putByte(s);u=l}return i.putByte(0),i.putBytes(t),i}function r(t,r,n,i){var o=Math.ceil(r.n.bitLength()/8),a=e.util.createBuffer(t),s=a.getByte(),u=a.getByte();if(0!==s||n&&0!==u&&1!==u||!n&&2!=u||n&&0===u&&"undefined"==typeof i)throw new Error("Encryption block is invalid.");var c=0;if(0===u){c=o-3-i;for(var l=0;l<c;++l)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(c=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++c}else if(2===u)for(c=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++c}var p=a.getByte();if(0!==p||c!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function n(t,r,n){function i(){o(t.pBits,function(e,r){return e?n(e):(t.p=r,null!==t.q?a(e,t.q):void o(t.qBits,a))})}function o(t,r){e.prime.generateProbablePrime(t,s,r)}function a(e,r){if(e)return n(e);if(t.q=r,t.p.compareTo(t.q)<0){var s=t.p;t.p=t.q,t.q=s}if(0!==t.p.subtract(BigInteger.ONE).gcd(t.e).compareTo(BigInteger.ONE))return t.p=null,void i();if(0!==t.q.subtract(BigInteger.ONE).gcd(t.e).compareTo(BigInteger.ONE))return t.q=null,void o(t.qBits,a);if(t.p1=t.p.subtract(BigInteger.ONE),t.q1=t.q.subtract(BigInteger.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(BigInteger.ONE))return t.p=t.q=null,void i();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void o(t.qBits,a);var u=t.e.modInverse(t.phi);t.keys={privateKey:l.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:l.rsa.setPublicKey(t.n,t.e)},n(null,t.keys)}"function"==typeof r&&(n=r,r={}),r=r||{};var s={algorithm:{name:r.algorithm||"PRIMEINC",options:{workers:r.workers||2,workLoad:r.workLoad||100,workerScript:r.workerScript}}};"prng"in r&&(s.prng=r.prng),i()}function i(t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=e.util.hexToBytes(r);return n.length>1&&(0===n.charCodeAt(0)&&0===(128&n.charCodeAt(1))||255===n.charCodeAt(0)&&128===(128&n.charCodeAt(1)))?n.substr(1):n}function o(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function a(e){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[e]}function s(e){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[e]}function u(t){for(var r=e.util.hexToBytes(t.toString(16)),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}if("undefined"==typeof BigInteger)var BigInteger=e.jsbn.BigInteger;var c=e.asn1;e.pki=e.pki||{},e.pki.rsa=e.rsa=e.rsa||{};var l=e.pki,p=[6,4,2,4,2,4,6,2],f={name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"RSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},y=e.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},g=function(e){var t;if(!(e.algorithm in l.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=l.oids[e.algorithm];var n=c.oidToDer(t).getBytes(),i=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),o=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);o.value.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,n)),o.value.push(c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,""));var a=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(a),c.toDer(i).getBytes()},v=function(t,r,n){if(n)return t.modPow(r.e,r.n);if(!r.p||!r.q)return t.modPow(r.d,r.n);r.dP||(r.dP=r.d.mod(r.p.subtract(BigInteger.ONE))),r.dQ||(r.dQ=r.d.mod(r.q.subtract(BigInteger.ONE))),r.qInv||(r.qInv=r.q.modInverse(r.p));var i;do i=new BigInteger(e.util.bytesToHex(e.random.getBytes(r.n.bitLength()/8)),16);while(i.compareTo(r.n)>=0||!i.gcd(r.n).equals(BigInteger.ONE));t=t.multiply(i.modPow(r.e,r.n)).mod(r.n);for(var o=t.mod(r.p).modPow(r.dP,r.p),a=t.mod(r.q).modPow(r.dQ,r.q);o.compareTo(a)<0;)o=o.add(r.p);var s=o.subtract(a).multiply(r.qInv).mod(r.p).multiply(r.q).add(a);return s=s.multiply(i.modInverse(r.n)).mod(r.n)};l.rsa.encrypt=function(r,n,i){var o,a=i,s=Math.ceil(n.n.bitLength()/8);i!==!1&&i!==!0?(a=2===i,o=t(r,n,i)):(o=e.util.createBuffer(),o.putBytes(r));for(var u=new BigInteger(o.toHex(),16),c=v(u,n,a),l=c.toString(16),p=e.util.createBuffer(),f=s-Math.ceil(l.length/2);f>0;)p.putByte(0),--f;return p.putBytes(e.util.hexToBytes(l)),p.getBytes()},l.rsa.decrypt=function(t,n,i,o){var a=Math.ceil(n.n.bitLength()/8);if(t.length!==a){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=a,s}var u=new BigInteger(e.util.createBuffer(t).toHex(),16);if(u.compareTo(n.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=v(u,n,i),l=c.toString(16),p=e.util.createBuffer(),f=a-Math.ceil(l.length/2);f>0;)p.putByte(0),--f;return p.putBytes(e.util.hexToBytes(l)),o!==!1?r(p.getBytes(),n,i):p.getBytes()},l.rsa.createKeyPairGenerationState=function(t,r,n){"string"==typeof t&&(t=parseInt(t,10)),t=t||2048,n=n||{};var i,o=n.prng||e.random,a={nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},s=n.algorithm||"PRIMEINC";if("PRIMEINC"!==s)throw new Error("Invalid key generation algorithm: "+s);return i={algorithm:s,state:0,bits:t,rng:a,eInt:r||65537,e:new BigInteger(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},i.e.fromInt(i.eInt),i},l.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new BigInteger(null);r.fromInt(30);for(var n,i=0,a=function(e,t){return e|t},s=+new Date,u=0;null===e.keys&&(t<=0||u<t);){if(0===e.state){var c=null===e.p?e.pBits:e.qBits,f=c-1;0===e.pqState?(e.num=new BigInteger(c,e.rng),e.num.testBit(f)||e.num.bitwiseTo(BigInteger.ONE.shiftLeft(f),a,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),i=0,++e.pqState):1===e.pqState?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(o(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(p[i++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(BigInteger.ONE).gcd(e.e).compareTo(BigInteger.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(BigInteger.ONE),e.q1=e.q.subtract(BigInteger.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(BigInteger.ONE)?++e.state:(e.p=null,
e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var d=e.e.modInverse(e.phi);e.keys={privateKey:l.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:l.rsa.setPublicKey(e.n,e.e)}}n=+new Date,u+=n-s,s=n}return null!==e.keys},l.rsa.generateKeyPair=function(t,r,i,o){if(1===arguments.length?"object"==typeof t?(i=t,t=void 0):"function"==typeof t&&(o=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof r?(o=r,r=void 0):"number"!=typeof r&&(i=r,r=void 0):(i=t,o=r,t=void 0,r=void 0):3===arguments.length&&("number"==typeof r?"function"==typeof i&&(o=i,i=void 0):(o=i,i=r,r=void 0)),i=i||{},void 0===t&&(t=i.bits||2048),void 0===r&&(r=i.e||65537),!e.disableNativeCode&&o&&t>=256&&t<=16384&&(65537===r||3===r)){if(a("generateKey")&&a("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:u(r),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)}).catch(function(e){o(e)}).then(function(t){if(t){var r=l.privateKeyFromAsn1(c.fromDer(e.util.createBuffer(t)));o(null,{privateKey:r,publicKey:l.setRsaPublicKey(r.n,r.e)})}});if(s("generateKey")&&s("exportKey")){var p=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:u(r),hash:{name:"SHA-256"}},!0,["sign","verify"]);return p.oncomplete=function(t){var r=t.target.result,n=window.msCrypto.subtle.exportKey("pkcs8",r.privateKey);n.oncomplete=function(t){var r=t.target.result,n=l.privateKeyFromAsn1(c.fromDer(e.util.createBuffer(r)));o(null,{privateKey:n,publicKey:l.setRsaPublicKey(n.n,n.e)})},n.onerror=function(e){o(e)}},void(p.onerror=function(e){o(e)})}}var f=l.rsa.createKeyPairGenerationState(t,r,i);return o?void n(f,i,o):(l.rsa.stepKeyPairGenerationState(f,0),f.keys)},l.setRsaPublicKey=l.rsa.setPublicKey=function(n,i){var o={n:n,e:i};return o.encrypt=function(r,n,i){if("string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===n)n={encode:function(e,r,n){return t(e,r,2).getBytes()}};else if("RSA-OAEP"===n||"RSAES-OAEP"===n)n={encode:function(t,r){return e.pkcs1.encode_rsa_oaep(r,t,i)}};else if(["RAW","NONE","NULL",null].indexOf(n)!==-1)n={encode:function(e){return e}};else if("string"==typeof n)throw new Error('Unsupported encryption scheme: "'+n+'".');var a=n.encode(r,o,!0);return l.rsa.encrypt(a,o,!0)},o.verify=function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){t=r(t,o,!0);var n=c.fromDer(t);return e===n.value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return t=r(t,o,!0),e===t}});var i=l.rsa.decrypt(t,o,!0,!1);return n.verify(e,i,o.n.bitLength())},o},l.setRsaPrivateKey=l.rsa.setPrivateKey=function(t,n,i,o,a,s,u,c){var p={n:t,e:n,d:i,p:o,q:a,dP:s,dQ:u,qInv:c};return p.decrypt=function(t,n,i){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSAES-PKCS1-V1_5");var o=l.rsa.decrypt(t,p,!1,!1);if("RSAES-PKCS1-V1_5"===n)n={decode:r};else if("RSA-OAEP"===n||"RSAES-OAEP"===n)n={decode:function(t,r){return e.pkcs1.decode_rsa_oaep(r,t,i)}};else{if(["RAW","NONE","NULL",null].indexOf(n)===-1)throw new Error('Unsupported encryption scheme: "'+n+'".');n={decode:function(e){return e}}}return n.decode(o,p,!1)},p.sign=function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:g},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,p.n.bitLength());return l.rsa.encrypt(n,p,r)},p},l.wrapRsaPrivateKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(0).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.rsaEncryption).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(e).getBytes())])},l.privateKeyFromAsn1=function(t){var r={},n=[];if(c.validate(t,f,r,n)&&(t=c.fromDer(e.util.createBuffer(r.privateKey))),r={},n=[],!c.validate(t,d,r,n)){var i=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw i.errors=n,i}var o,a,s,u,p,h,y,g;return o=e.util.createBuffer(r.privateKeyModulus).toHex(),a=e.util.createBuffer(r.privateKeyPublicExponent).toHex(),s=e.util.createBuffer(r.privateKeyPrivateExponent).toHex(),u=e.util.createBuffer(r.privateKeyPrime1).toHex(),p=e.util.createBuffer(r.privateKeyPrime2).toHex(),h=e.util.createBuffer(r.privateKeyExponent1).toHex(),y=e.util.createBuffer(r.privateKeyExponent2).toHex(),g=e.util.createBuffer(r.privateKeyCoefficient).toHex(),l.setRsaPrivateKey(new BigInteger(o,16),new BigInteger(a,16),new BigInteger(s,16),new BigInteger(u,16),new BigInteger(p,16),new BigInteger(h,16),new BigInteger(y,16),new BigInteger(g,16))},l.privateKeyToAsn1=l.privateKeyToRSAPrivateKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(0).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.n)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.e)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.d)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.p)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.q)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.dP)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.dQ)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.qInv))])},l.publicKeyFromAsn1=function(t){var r={},n=[];if(c.validate(t,y,r,n)){var i=c.derToOid(r.publicKeyOid);if(i!==l.oids.rsaEncryption){var o=new Error("Cannot read public key. Unknown OID.");throw o.oid=i,o}t=r.rsaPublicKey}if(n=[],!c.validate(t,h,r,n)){var o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw o.errors=n,o}var a=e.util.createBuffer(r.publicKeyModulus).toHex(),s=e.util.createBuffer(r.publicKeyExponent).toHex();return l.setRsaPublicKey(new BigInteger(a,16),new BigInteger(s,16))},l.publicKeyToAsn1=l.publicKeyToSubjectPublicKeyInfo=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.rsaEncryption).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,[l.publicKeyToRSAPublicKey(e)])])},l.publicKeyToRSAPublicKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.n)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,i(e.e))])}}var t="rsa";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/rsa",["require","module","./asn1","./jsbn","./oids","./pkcs1","./prime","./random","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(e,t){return e.start().update(t).digest().getBytes()}function r(e){var t;if(e){if(t=a.oids[o.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return n(t)}function n(t){var r=e.md;switch(t){case"hmacWithSHA224":r=e.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var n=new Error("Unsupported PRF algorithm.");throw n.algorithm=t,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}return r[t].create()}function i(t,r,n,i){var s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,r.getBytes())]);return"hmacWithSHA1"!==i&&s.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,e.util.hexToBytes(n.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids[i]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])),s}if("undefined"==typeof BigInteger)var BigInteger=e.jsbn.BigInteger;var o=e.asn1,a=e.pki=e.pki||{};a.pbe=e.pbe=e.pbe||{};var s=a.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};a.encryptPrivateKeyInfo=function(t,r,u){u=u||{},u.saltSize=u.saltSize||8,u.count=u.count||2048,u.algorithm=u.algorithm||"aes128",u.prfAlgorithm=u.prfAlgorithm||"sha1";var c,l,p,f=e.random.getBytesSync(u.saltSize),d=u.count,h=o.integerToDer(d);if(0===u.algorithm.indexOf("aes")||"des"===u.algorithm){var y,g,v;switch(u.algorithm){case"aes128":c=16,y=16,g=s["aes128-CBC"],v=e.aes.createEncryptionCipher;break;case"aes192":c=24,y=16,g=s["aes192-CBC"],v=e.aes.createEncryptionCipher;break;case"aes256":c=32,y=16,g=s["aes256-CBC"],v=e.aes.createEncryptionCipher;break;case"des":c=8,y=8,g=s.desCBC,v=e.des.createEncryptionCipher;break;default:var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=u.algorithm,m}var C="hmacWith"+u.prfAlgorithm.toUpperCase(),E=n(C),S=e.pkcs5.pbkdf2(r,f,d,c,E),T=e.random.getBytesSync(y),A=v(S);A.start(T),A.update(o.toDer(t)),A.finish(),p=A.output.getBytes();var b=i(f,h,c,C);l=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBKDF2).getBytes()),b]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(g).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,T)])])])}else{if("3des"!==u.algorithm){var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=u.algorithm,m}c=24;var I=new e.util.ByteBuffer(f),S=a.pbe.generatePkcs12Key(r,I,1,d,c),T=a.pbe.generatePkcs12Key(r,I,2,d,c),A=e.des.createEncryptionCipher(S);A.start(T),A.update(o.toDer(t)),A.finish(),p=A.output.getBytes(),l=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,f),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,h.getBytes())])])}var w=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[l,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,p)]);return w},a.decryptPrivateKeyInfo=function(t,r){var n=null,i={},s=[];if(!o.validate(t,u,i,s)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=s,c}var l=o.derToOid(i.encryptionOid),p=a.pbe.getCipher(l,i.encryptionParams,r),f=e.util.createBuffer(i.encryptedData);return p.update(f),p.finish()&&(n=o.fromDer(p.output)),n},a.encryptedPrivateKeyToPem=function(t,r){var n={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(t).getBytes()};return e.pem.encode(n,{maxline:r})},a.encryptedPrivateKeyFromPem=function(t){var r=e.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==r.type){var n=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw n.headerType=r.type,n}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(r.body)},a.encryptRsaPrivateKey=function(t,r,n){if(n=n||{},!n.legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(t));return i=a.encryptPrivateKeyInfo(i,r,n),a.encryptedPrivateKeyToPem(i)}var s,u,c,l;switch(n.algorithm){case"aes128":s="AES-128-CBC",c=16,u=e.random.getBytesSync(16),l=e.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",c=24,u=e.random.getBytesSync(16),l=e.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",c=32,u=e.random.getBytesSync(16),l=e.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",c=24,u=e.random.getBytesSync(8),l=e.des.createEncryptionCipher;break;case"des":s="DES-CBC",c=8,u=e.random.getBytesSync(8),l=e.des.createEncryptionCipher;break;default:var p=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw p.algorithm=n.algorithm,p}var f=e.pbe.opensslDeriveBytes(r,u.substr(0,8),c),d=l(f);d.start(u),d.update(o.toDer(a.privateKeyToAsn1(t))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:e.util.bytesToHex(u).toUpperCase()},body:d.output.getBytes()};return e.pem.encode(h)},a.decryptRsaPrivateKey=function(t,r){var n=null,i=e.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(i.procType&&"ENCRYPTED"===i.procType.type){var u,c;switch(i.dekInfo.algorithm){case"DES-CBC":u=8,c=e.des.createDecryptionCipher;break;case"DES-EDE3-CBC":u=24,c=e.des.createDecryptionCipher;break;case"AES-128-CBC":u=16,c=e.aes.createDecryptionCipher;break;case"AES-192-CBC":u=24,c=e.aes.createDecryptionCipher;break;case"AES-256-CBC":u=32,c=e.aes.createDecryptionCipher;break;case"RC2-40-CBC":u=5,c=function(t){return e.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":u=8,c=function(t){return e.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":u=16,c=function(t){return e.rc2.createDecryptionCipher(t,128)};break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".');throw s.algorithm=i.dekInfo.algorithm,s}var l=e.util.hexToBytes(i.dekInfo.parameters),p=e.pbe.opensslDeriveBytes(r,l.substr(0,8),u),f=c(p);if(f.start(l),f.update(e.util.createBuffer(i.body)),!f.finish())return n;n=f.output.getBytes()}else n=i.body;return n="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(o.fromDer(n),r):o.fromDer(n),null!==n&&(n=a.privateKeyFromAsn1(n)),n},a.pbe.generatePkcs12Key=function(t,r,n,i,o,a){var s,u;"undefined"!=typeof a&&null!==a||(a=e.md.sha1.create());var c=a.digestLength,l=a.blockLength,p=new e.util.ByteBuffer,f=new e.util.ByteBuffer;if(null!==t&&void 0!==t){for(u=0;u<t.length;u++)f.putInt16(t.charCodeAt(u));f.putInt16(0)}var d=f.length(),h=r.length(),y=new e.util.ByteBuffer;y.fillWithByte(n,l);var g=l*Math.ceil(h/l),v=new e.util.ByteBuffer;for(u=0;u<g;u++)v.putByte(r.at(u%h));var m=l*Math.ceil(d/l),C=new e.util.ByteBuffer;for(u=0;u<m;u++)C.putByte(f.at(u%d));var E=v;E.putBuffer(C);for(var S=Math.ceil(o/c),T=1;T<=S;T++){var A=new e.util.ByteBuffer;A.putBytes(y.bytes()),A.putBytes(E.bytes());for(var b=0;b<i;b++)a.start(),a.update(A.getBytes()),A=a.digest();var I=new e.util.ByteBuffer;for(u=0;u<l;u++)I.putByte(A.at(u%c));var w=Math.ceil(h/l)+Math.ceil(d/l),_=new e.util.ByteBuffer;for(s=0;s<w;s++){var B=new e.util.ByteBuffer(E.getBytes(l)),k=511;for(u=I.length()-1;u>=0;u--)k>>=8,k+=I.at(u)+B.at(u),B.setAt(u,255&k);_.putBuffer(B)}E=_,p.putBuffer(A)}return p.truncate(p.length()-o),p},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(t,n,i){var s={},u=[];if(!o.validate(n,c,s,u)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=u,l}if(t=o.derToOid(s.kdfOid),t!==a.oids.pkcs5PBKDF2){var l=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw l.oid=t,l.supportedOids=["pkcs5PBKDF2"],l}if(t=o.derToOid(s.encOid),t!==a.oids["aes128-CBC"]&&t!==a.oids["aes192-CBC"]&&t!==a.oids["aes256-CBC"]&&t!==a.oids["des-EDE3-CBC"]&&t!==a.oids.desCBC){var l=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw l.oid=t,l.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],l}var p=s.kdfSalt,f=e.util.createBuffer(s.kdfIterationCount);f=f.getInt(f.length()<<3);var d,h;switch(a.oids[t]){case"aes128-CBC":d=16,h=e.aes.createDecryptionCipher;break;case"aes192-CBC":d=24,h=e.aes.createDecryptionCipher;break;case"aes256-CBC":d=32,h=e.aes.createDecryptionCipher;break;case"des-EDE3-CBC":d=24,h=e.des.createDecryptionCipher;break;case"desCBC":d=8,h=e.des.createDecryptionCipher}var y=r(s.prfOid),g=e.pkcs5.pbkdf2(i,p,f,d,y),v=s.encIv,m=h(g);return m.start(v),m},a.pbe.getCipherForPKCS12PBE=function(t,n,i){var s={},u=[];if(!o.validate(n,l,s,u)){var c=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=u,c}var p=e.util.createBuffer(s.salt),f=e.util.createBuffer(s.iterations);f=f.getInt(f.length()<<3);var d,h,y;switch(t){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:d=24,h=8,y=e.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:d=5,h=8,y=function(t,r){var n=e.rc2.createDecryptionCipher(t,40);return n.start(r,null),n};break;default:var c=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw c.oid=t,c}var g=r(s.prfOid),v=a.pbe.generatePkcs12Key(i,p,1,f,d,g);g.start();var m=a.pbe.generatePkcs12Key(i,p,2,f,h,g);return y(v,m)},a.pbe.opensslDeriveBytes=function(r,n,i,o){"undefined"!=typeof o&&null!==o||(o=e.md.md5.create()),null===n&&(n="");for(var a=[t(o,r+n)],s=16,u=1;s<i;++u,s+=16)a.push(t(o,a[u-1]+r+n));return a.join("").substr(0,i)}}var t="pbe";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pbe",["require","module","./aes","./asn1","./des","./md","./oids","./pem","./pbkdf2","./random","./rc2","./rsa","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){var t=e.asn1,r=e.pkcs7asn1=e.pkcs7asn1||{};e.pkcs7=e.pkcs7||{},e.pkcs7.asn1=r;var n={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};r.contentInfoValidator=n;var i={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};r.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(i)},r.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(i)};var o={name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};r.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},n,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[o]}]},r.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}var t="pkcs7asn1";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pkcs7asn1",["require","module","./asn1","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){e.mgf=e.mgf||{};var t=e.mgf.mgf1=e.mgf1=e.mgf1||{};t.create=function(t){var r={generate:function(r,n){for(var i=new e.util.ByteBuffer,o=Math.ceil(n/t.digestLength),a=0;a<o;a++){var s=new e.util.ByteBuffer;s.putInt32(a),t.start(),t.update(r+s.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-n),i.getBytes()}};return r}}var t="mgf1";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/mgf1",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){e.mgf=e.mgf||{},e.mgf.mgf1=e.mgf1}var t="mgf";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/mgf",["require","module","./mgf1"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){var t=e.pss=e.pss||{};t.create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var r=t.md,n=t.mgf,i=r.digestLength,o=t.salt||null;"string"==typeof o&&(o=e.util.createBuffer(o));var a;if("saltLength"in t)a=t.saltLength;else{if(null===o)throw new Error("Salt length not specified or specific salt not given.");a=o.length()}if(null!==o&&o.length()!==a)throw new Error("Given salt length does not match length of given salt.");var s=t.prng||e.random,u={};return u.encode=function(t,u){var c,l=u-1,p=Math.ceil(l/8),f=t.digest().getBytes();if(p<i+a+2)throw new Error("Message is too long to encrypt.");var d;d=null===o?s.getBytesSync(a):o.bytes();var h=new e.util.ByteBuffer;h.fillWithByte(0,8),h.putBytes(f),h.putBytes(d),r.start(),r.update(h.getBytes());var y=r.digest().getBytes(),g=new e.util.ByteBuffer;g.fillWithByte(0,p-a-i-2),g.putByte(1),g.putBytes(d);var v=g.getBytes(),m=p-i-1,C=n.generate(y,m),E="";for(c=0;c<m;c++)E+=String.fromCharCode(v.charCodeAt(c)^C.charCodeAt(c));var S=65280>>8*p-l&255;return E=String.fromCharCode(E.charCodeAt(0)&~S)+E.substr(1),E+y+String.fromCharCode(188)},u.verify=function(t,o,s){var u,c=s-1,l=Math.ceil(c/8);if(o=o.substr(-l),l<i+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==o.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var p=l-i-1,f=o.substr(0,p),d=o.substr(p,i),h=65280>>8*l-c&255;if(0!==(f.charCodeAt(0)&h))throw new Error("Bits beyond keysize not zero as expected.");var y=n.generate(d,p),g="";for(u=0;u<p;u++)g+=String.fromCharCode(f.charCodeAt(u)^y.charCodeAt(u));g=String.fromCharCode(g.charCodeAt(0)&~h)+g.substr(1);var v=l-i-a-2;for(u=0;u<v;u++)if(0!==g.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=g.substr(-a),C=new e.util.ByteBuffer;C.fillWithByte(0,8),C.putBytes(t),C.putBytes(m),r.start(),r.update(C.getBytes());var E=r.digest().getBytes();return d===E},u}}var t="pss";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pss",["require","module","./random","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],
t.type&&t.type===r.type?n=r:t.name&&t.name===r.name?n=r:t.shortName&&t.shortName===r.shortName&&(n=r);return n}function r(t){for(var r,n,i=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),o=t.attributes,a=0;a<o.length;++a){r=o[a];var u=r.value,c=s.Type.PRINTABLESTRING;"valueTagClass"in r&&(c=r.valueTagClass,c===s.Type.UTF8&&(u=e.util.encodeUtf8(u))),n=s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(r.type).getBytes()),s.create(s.Class.UNIVERSAL,c,!1,u)])]),i.value.push(n)}return i}function n(e){for(var t,r=0;r<e.length;++r){if(t=e[r],"undefined"==typeof t.name&&(t.type&&t.type in u.oids?t.name=u.oids[t.type]:t.shortName&&t.shortName in l&&(t.name=u.oids[l[t.shortName]])),"undefined"==typeof t.type){if(!(t.name&&t.name in u.oids)){var n=new Error("Attribute type not specified.");throw n.attribute=t,n}t.type=u.oids[t.name]}if("undefined"==typeof t.shortName&&t.name&&t.name in l&&(t.shortName=l[t.name]),t.type===c.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=s.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var o=0;o<t.extensions.length;++o)t.value.push(u.certificateExtensionToAsn1(i(t.extensions[o])))}if("undefined"==typeof t.value){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function i(t,n){if(n=n||{},"undefined"==typeof t.name&&t.id&&t.id in u.oids&&(t.name=u.oids[t.id]),"undefined"==typeof t.id){if(!(t.name&&t.name in u.oids)){var i=new Error("Extension ID not specified.");throw i.extension=t,i}t.id=u.oids[t.name]}if("undefined"!=typeof t.value)return t;if("keyUsage"===t.name){var o=0,a=0,l=0;t.digitalSignature&&(a|=128,o=7),t.nonRepudiation&&(a|=64,o=6),t.keyEncipherment&&(a|=32,o=5),t.dataEncipherment&&(a|=16,o=4),t.keyAgreement&&(a|=8,o=3),t.keyCertSign&&(a|=4,o=2),t.cRLSign&&(a|=2,o=1),t.encipherOnly&&(a|=1,o=0),t.decipherOnly&&(l|=128,o=7);var p=String.fromCharCode(o);0!==l?p+=String.fromCharCode(a)+String.fromCharCode(l):0!==a&&(p+=String.fromCharCode(a)),t.value=s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,p)}else if("basicConstraints"===t.name)t.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(s.create(s.Class.UNIVERSAL,s.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(t.pathLenConstraint).getBytes()));else if("extKeyUsage"===t.name){t.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);var f=t.value.value;for(var d in t)t[d]===!0&&(d in c?f.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(c[d]).getBytes())):d.indexOf(".")!==-1&&f.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(d).getBytes())))}else if("nsCertType"===t.name){var o=0,a=0;t.client&&(a|=128,o=7),t.server&&(a|=64,o=6),t.email&&(a|=32,o=5),t.objsign&&(a|=16,o=4),t.reserved&&(a|=8,o=3),t.sslCA&&(a|=4,o=2),t.emailCA&&(a|=2,o=1),t.objCA&&(a|=1,o=0);var p=String.fromCharCode(o);0!==a&&(p+=String.fromCharCode(a)),t.value=s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,p)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);for(var h,y=0;y<t.altNames.length;++y){h=t.altNames[y];var p=h.value;if(7===h.type&&h.ip){if(p=e.util.bytesFromIP(h.ip),null===p){var i=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw i.extension=t,i}}else 8===h.type&&(p=h.oid?s.oidToDer(s.oidToDer(h.oid)):s.oidToDer(p));t.value.value.push(s.create(s.Class.CONTEXT_SPECIFIC,h.type,!1,p))}}else if("subjectKeyIdentifier"===t.name&&n.cert){var g=n.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=g.toHex(),t.value=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,g.getBytes())}else if("authorityKeyIdentifier"===t.name&&n.cert){t.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);var f=t.value.value;if(t.keyIdentifier){var v=t.keyIdentifier===!0?n.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;f.push(s.create(s.Class.CONTEXT_SPECIFIC,0,!1,v))}if(t.authorityCertIssuer){var m=[s.create(s.Class.CONTEXT_SPECIFIC,4,!0,[r(t.authorityCertIssuer===!0?n.cert.issuer:t.authorityCertIssuer)])];f.push(s.create(s.Class.CONTEXT_SPECIFIC,1,!0,m))}if(t.serialNumber){var C=e.util.hexToBytes(t.serialNumber===!0?n.cert.serialNumber:t.serialNumber);f.push(s.create(s.Class.CONTEXT_SPECIFIC,2,!1,C))}}else if("cRLDistributionPoints"===t.name){t.value=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);for(var h,f=t.value.value,E=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),S=s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[]),y=0;y<t.altNames.length;++y){h=t.altNames[y];var p=h.value;if(7===h.type&&h.ip){if(p=e.util.bytesFromIP(h.ip),null===p){var i=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw i.extension=t,i}}else 8===h.type&&(p=h.oid?s.oidToDer(s.oidToDer(h.oid)):s.oidToDer(p));S.value.push(s.create(s.Class.CONTEXT_SPECIFIC,h.type,!1,p))}E.value.push(s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[S])),f.push(E)}if("undefined"==typeof t.value){var i=new Error("Extension value not specified.");throw i.extension=t,i}return t}function o(e,t){switch(e){case c["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.hash.algorithmOid).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(s.create(s.Class.CONTEXT_SPECIFIC,1,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.mgf.algorithmOid).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.mgf.hash.algorithmOid).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(s.create(s.Class.CONTEXT_SPECIFIC,2,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(t.saltLength).getBytes())])),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,r);default:return s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")}}function a(t){var r=s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return r;for(var n=t.attributes,i=0;i<n.length;++i){var o=n[i],a=o.value,u=s.Type.UTF8;"valueTagClass"in o&&(u=o.valueTagClass),u===s.Type.UTF8&&(a=e.util.encodeUtf8(a));var c=!1;"valueConstructed"in o&&(c=o.valueConstructed);var l=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.type).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[s.create(s.Class.UNIVERSAL,u,c,a)])]);r.value.push(l)}return r}var s=e.asn1,u=e.pki=e.pki||{},c=u.oids,l={};l.CN=c.commonName,l.commonName="CN",l.C=c.countryName,l.countryName="C",l.L=c.localityName,l.localityName="L",l.ST=c.stateOrProvinceName,l.stateOrProvinceName="ST",l.O=c.organizationName,l.organizationName="O",l.OU=c.organizationalUnitName,l.organizationalUnitName="OU",l.E=c.emailAddress,l.emailAddress="E";var p=e.pki.rsa.publicKeyValidator,f={name:"Certificate",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:s.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:s.Class.UNIVERSAL,type:s.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:s.Class.UNIVERSAL,type:s.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:s.Class.UNIVERSAL,type:s.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:s.Class.UNIVERSAL,type:s.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},p,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:s.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:s.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:s.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:s.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},d={name:"rsapss",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:s.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:s.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:s.Class.UNIVERSAL,type:s.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:s.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:s.Class.UNIVERSAL,type:s.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},h={name:"CertificationRequestInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},p,{name:"CertificationRequestInfo.attributes",tagClass:s.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,constructed:!0}]}]}]},y={name:"CertificationRequest",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[h,{name:"CertificationRequest.signatureAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:s.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};u.RDNAttributesAsArray=function(e,t){for(var r,n,i,o=[],a=0;a<e.value.length;++a){r=e.value[a];for(var u=0;u<r.value.length;++u)i={},n=r.value[u],i.type=s.derToOid(n.value[0].value),i.value=n.value[1].value,i.valueTagClass=n.value[1].type,i.type in c&&(i.name=c[i.type],i.name in l&&(i.shortName=l[i.name])),t&&(t.update(i.type),t.update(i.value)),o.push(i)}return o},u.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=s.derToOid(n.value[0].value),o=n.value[1].value,a=0;a<o.length;++a){var p={};if(p.type=i,p.value=o[a].value,p.valueTagClass=o[a].type,p.type in c&&(p.name=c[p.type],p.name in l&&(p.shortName=l[p.name])),p.type===c.extensionRequest){p.extensions=[];for(var f=0;f<p.value.length;++f)p.extensions.push(u.certificateExtensionFromAsn1(p.value[f]))}t.push(p)}return t};var g=function(e,t,r){var n={};if(e!==c["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:c.sha1},mgf:{algorithmOid:c.mgf1,hash:{algorithmOid:c.sha1}},saltLength:20});var i={},o=[];if(!s.validate(t,d,i,o)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=o,a}return void 0!==i.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=s.derToOid(i.hashOid)),void 0!==i.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=s.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=s.derToOid(i.maskGenHashOid)),void 0!==i.saltLength&&(n.saltLength=i.saltLength.charCodeAt(0)),n};u.certificateFromPem=function(t,r,n){var i=e.pem.decode(t)[0];if("CERTIFICATE"!==i.type&&"X509 CERTIFICATE"!==i.type&&"TRUSTED CERTIFICATE"!==i.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=i.type,o}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=s.fromDer(i.body,n);return u.certificateFromAsn1(a,r)},u.certificateToPem=function(t,r){var n={type:"CERTIFICATE",body:s.toDer(u.certificateToAsn1(t)).getBytes()};return e.pem.encode(n,{maxline:r})},u.publicKeyFromPem=function(t){var r=e.pem.decode(t)[0];if("PUBLIC KEY"!==r.type&&"RSA PUBLIC KEY"!==r.type){var n=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw n.headerType=r.type,n}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var i=s.fromDer(r.body);return u.publicKeyFromAsn1(i)},u.publicKeyToPem=function(t,r){var n={type:"PUBLIC KEY",body:s.toDer(u.publicKeyToAsn1(t)).getBytes()};return e.pem.encode(n,{maxline:r})},u.publicKeyToRSAPublicKeyPem=function(t,r){var n={type:"RSA PUBLIC KEY",body:s.toDer(u.publicKeyToRSAPublicKey(t)).getBytes()};return e.pem.encode(n,{maxline:r})},u.getPublicKeyFingerprint=function(t,r){r=r||{};var n,i=r.md||e.md.sha1.create(),o=r.type||"RSAPublicKey";switch(o){case"RSAPublicKey":n=s.toDer(u.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":n=s.toDer(u.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+r.type+'".')}i.start(),i.update(n);var a=i.digest();if("hex"===r.encoding){var c=a.toHex();return r.delimiter?c.match(/.{2}/g).join(r.delimiter):c}if("binary"===r.encoding)return a.getBytes();if(r.encoding)throw new Error('Unknown encoding "'+r.encoding+'".');return a},u.certificationRequestFromPem=function(t,r,n){var i=e.pem.decode(t)[0];if("CERTIFICATE REQUEST"!==i.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=i.type,o}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=s.fromDer(i.body,n);return u.certificationRequestFromAsn1(a,r)},u.certificationRequestToPem=function(t,r){var n={type:"CERTIFICATE REQUEST",body:s.toDer(u.certificationRequestToAsn1(t)).getBytes()};return e.pem.encode(n,{maxline:r})},u.createCertificate=function(){var r={};return r.version=2,r.serialNumber="00",r.signatureOid=null,r.signature=null,r.siginfo={},r.siginfo.algorithmOid=null,r.validity={},r.validity.notBefore=new Date,r.validity.notAfter=new Date,r.issuer={},r.issuer.getField=function(e){return t(r.issuer,e)},r.issuer.addField=function(e){n([e]),r.issuer.attributes.push(e)},r.issuer.attributes=[],r.issuer.hash=null,r.subject={},r.subject.getField=function(e){return t(r.subject,e)},r.subject.addField=function(e){n([e]),r.subject.attributes.push(e)},r.subject.attributes=[],r.subject.hash=null,r.extensions=[],r.publicKey=null,r.md=null,r.setSubject=function(e,t){n(e),r.subject.attributes=e,delete r.subject.uniqueId,t&&(r.subject.uniqueId=t),r.subject.hash=null},r.setIssuer=function(e,t){n(e),r.issuer.attributes=e,delete r.issuer.uniqueId,t&&(r.issuer.uniqueId=t),r.issuer.hash=null},r.setExtensions=function(e){for(var t=0;t<e.length;++t)i(e[t],{cert:r});r.extensions=e},r.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var t,n=null,i=0;null===n&&i<r.extensions.length;++i)t=r.extensions[i],e.id&&t.id===e.id?n=t:e.name&&t.name===e.name&&(n=t);return n},r.sign=function(t,n){r.md=n||e.md.sha1.create();var i=c[r.md.algorithm+"WithRSAEncryption"];if(!i){var o=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw o.algorithm=r.md.algorithm,o}r.signatureOid=r.siginfo.algorithmOid=i,r.tbsCertificate=u.getTBSCertificate(r);var a=s.toDer(r.tbsCertificate);r.md.update(a.getBytes()),r.signature=t.sign(r.md)},r.verify=function(t){var n=!1;if(!r.issued(t)){var i=t.issuer,o=r.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=i.attributes,a.actualIssuer=o.attributes,a}var l=t.md;if(null===l){if(t.signatureOid in c){var p=c[t.signatureOid];switch(p){case"sha1WithRSAEncryption":l=e.md.sha1.create();break;case"md5WithRSAEncryption":l=e.md.md5.create();break;case"sha256WithRSAEncryption":l=e.md.sha256.create();break;case"sha512WithRSAEncryption":l=e.md.sha512.create();break;case"RSASSA-PSS":l=e.md.sha256.create()}}if(null===l){var a=new Error("Could not compute certificate digest. Unknown signature OID.");throw a.signatureOid=t.signatureOid,a}var f=t.tbsCertificate||u.getTBSCertificate(t),d=s.toDer(f);l.update(d.getBytes())}if(null!==l){var h;switch(t.signatureOid){case c.sha1WithRSAEncryption:h=void 0;break;case c["RSASSA-PSS"]:var y,g;if(y=c[t.signatureParameters.mgf.hash.algorithmOid],void 0===y||void 0===e.md[y]){var a=new Error("Unsupported MGF hash function.");throw a.oid=t.signatureParameters.mgf.hash.algorithmOid,a.name=y,a}if(g=c[t.signatureParameters.mgf.algorithmOid],void 0===g||void 0===e.mgf[g]){var a=new Error("Unsupported MGF function.");throw a.oid=t.signatureParameters.mgf.algorithmOid,a.name=g,a}if(g=e.mgf[g].create(e.md[y].create()),y=c[t.signatureParameters.hash.algorithmOid],void 0===y||void 0===e.md[y])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:y};h=e.pss.create(e.md[y].create(),g,t.signatureParameters.saltLength)}n=r.publicKey.verify(l.digest().getBytes(),t.signature,h)}return n},r.isIssuer=function(e){var t=!1,n=r.issuer,i=e.subject;if(n.hash&&i.hash)t=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){t=!0;for(var o,a,s=0;t&&s<n.attributes.length;++s)o=n.attributes[s],a=i.attributes[s],o.type===a.type&&o.value===a.value||(t=!1)}return t},r.issued=function(e){return e.isIssuer(r)},r.generateSubjectKeyIdentifier=function(){return u.getPublicKeyFingerprint(r.publicKey,{type:"RSAPublicKey"})},r.verifySubjectKeyIdentifier=function(){for(var t=c.subjectKeyIdentifier,n=0;n<r.extensions.length;++n){var i=r.extensions[n];if(i.id===t){var o=r.generateSubjectKeyIdentifier().getBytes();return e.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},r},u.certificateFromAsn1=function(r,i){var o={},a=[];if(!s.validate(r,f,o,a)){var l=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw l.errors=a,l}var p=s.derToOid(o.publicKeyOid);if(p!==u.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var d=u.createCertificate();d.version=o.certVersion?o.certVersion.charCodeAt(0):0;var h=e.util.createBuffer(o.certSerialNumber);d.serialNumber=h.toHex(),d.signatureOid=e.asn1.derToOid(o.certSignatureOid),d.signatureParameters=g(d.signatureOid,o.certSignatureParams,!0),d.siginfo.algorithmOid=e.asn1.derToOid(o.certinfoSignatureOid),d.siginfo.parameters=g(d.siginfo.algorithmOid,o.certinfoSignatureParams,!1),d.signature=o.certSignature;var y=[];if(void 0!==o.certValidity1UTCTime&&y.push(s.utcTimeToDate(o.certValidity1UTCTime)),void 0!==o.certValidity2GeneralizedTime&&y.push(s.generalizedTimeToDate(o.certValidity2GeneralizedTime)),void 0!==o.certValidity3UTCTime&&y.push(s.utcTimeToDate(o.certValidity3UTCTime)),void 0!==o.certValidity4GeneralizedTime&&y.push(s.generalizedTimeToDate(o.certValidity4GeneralizedTime)),y.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(y.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(d.validity.notBefore=y[0],d.validity.notAfter=y[1],d.tbsCertificate=o.tbsCertificate,i){if(d.md=null,d.signatureOid in c){var p=c[d.signatureOid];switch(p){case"sha1WithRSAEncryption":d.md=e.md.sha1.create();break;case"md5WithRSAEncryption":d.md=e.md.md5.create();break;case"sha256WithRSAEncryption":d.md=e.md.sha256.create();break;case"sha512WithRSAEncryption":d.md=e.md.sha512.create();break;case"RSASSA-PSS":d.md=e.md.sha256.create()}}if(null===d.md){var l=new Error("Could not compute certificate digest. Unknown signature OID.");throw l.signatureOid=d.signatureOid,l}var v=s.toDer(d.tbsCertificate);d.md.update(v.getBytes())}var m=e.md.sha1.create();d.issuer.getField=function(e){return t(d.issuer,e)},d.issuer.addField=function(e){n([e]),d.issuer.attributes.push(e)},d.issuer.attributes=u.RDNAttributesAsArray(o.certIssuer,m),o.certIssuerUniqueId&&(d.issuer.uniqueId=o.certIssuerUniqueId),d.issuer.hash=m.digest().toHex();var C=e.md.sha1.create();return d.subject.getField=function(e){return t(d.subject,e)},d.subject.addField=function(e){n([e]),d.subject.attributes.push(e)},d.subject.attributes=u.RDNAttributesAsArray(o.certSubject,C),o.certSubjectUniqueId&&(d.subject.uniqueId=o.certSubjectUniqueId),d.subject.hash=C.digest().toHex(),o.certExtensions?d.extensions=u.certificateExtensionsFromAsn1(o.certExtensions):d.extensions=[],d.publicKey=u.publicKeyFromAsn1(o.subjectPublicKeyInfo),d},u.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(u.certificateExtensionFromAsn1(n.value[i]));return t},u.certificateExtensionFromAsn1=function(t){var r={};if(r.id=s.derToOid(t.value[0].value),r.critical=!1,t.value[1].type===s.Type.BOOLEAN?(r.critical=0!==t.value[1].value.charCodeAt(0),r.value=t.value[2].value):r.value=t.value[1].value,r.id in c)if(r.name=c[r.id],"keyUsage"===r.name){var n=s.fromDer(r.value),i=0,o=0;n.value.length>1&&(i=n.value.charCodeAt(1),o=n.value.length>2?n.value.charCodeAt(2):0),r.digitalSignature=128===(128&i),r.nonRepudiation=64===(64&i),r.keyEncipherment=32===(32&i),r.dataEncipherment=16===(16&i),r.keyAgreement=8===(8&i),r.keyCertSign=4===(4&i),r.cRLSign=2===(2&i),r.encipherOnly=1===(1&i),r.decipherOnly=128===(128&o)}else if("basicConstraints"===r.name){var n=s.fromDer(r.value);n.value.length>0&&n.value[0].type===s.Type.BOOLEAN?r.cA=0!==n.value[0].value.charCodeAt(0):r.cA=!1;var a=null;n.value.length>0&&n.value[0].type===s.Type.INTEGER?a=n.value[0].value:n.value.length>1&&(a=n.value[1].value),null!==a&&(r.pathLenConstraint=s.derToInteger(a))}else if("extKeyUsage"===r.name)for(var n=s.fromDer(r.value),u=0;u<n.value.length;++u){var l=s.derToOid(n.value[u].value);l in c?r[c[l]]=!0:r[l]=!0}else if("nsCertType"===r.name){var n=s.fromDer(r.value),i=0;n.value.length>1&&(i=n.value.charCodeAt(1)),r.client=128===(128&i),r.server=64===(64&i),r.email=32===(32&i),r.objsign=16===(16&i),r.reserved=8===(8&i),r.sslCA=4===(4&i),r.emailCA=2===(2&i),r.objCA=1===(1&i)}else if("subjectAltName"===r.name||"issuerAltName"===r.name){r.altNames=[];for(var p,n=s.fromDer(r.value),f=0;f<n.value.length;++f){p=n.value[f];var d={type:p.type,value:p.value};switch(r.altNames.push(d),p.type){case 1:case 2:case 6:break;case 7:d.ip=e.util.bytesToIP(p.value);break;case 8:d.oid=s.derToOid(p.value)}}}else if("subjectKeyIdentifier"===r.name){var n=s.fromDer(r.value);r.subjectKeyIdentifier=e.util.bytesToHex(n.value)}return r},u.certificationRequestFromAsn1=function(r,i){var o={},a=[];if(!s.validate(r,y,o,a)){var l=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw l.errors=a,l}var p=s.derToOid(o.publicKeyOid);if(p!==u.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var f=u.createCertificationRequest();if(f.version=o.csrVersion?o.csrVersion.charCodeAt(0):0,f.signatureOid=e.asn1.derToOid(o.csrSignatureOid),f.signatureParameters=g(f.signatureOid,o.csrSignatureParams,!0),f.siginfo.algorithmOid=e.asn1.derToOid(o.csrSignatureOid),f.siginfo.parameters=g(f.siginfo.algorithmOid,o.csrSignatureParams,!1),f.signature=o.csrSignature,f.certificationRequestInfo=o.certificationRequestInfo,i){if(f.md=null,f.signatureOid in c){var p=c[f.signatureOid];switch(p){case"sha1WithRSAEncryption":f.md=e.md.sha1.create();break;case"md5WithRSAEncryption":f.md=e.md.md5.create();break;case"sha256WithRSAEncryption":f.md=e.md.sha256.create();break;case"sha512WithRSAEncryption":f.md=e.md.sha512.create();break;case"RSASSA-PSS":f.md=e.md.sha256.create()}}if(null===f.md){var l=new Error("Could not compute certification request digest. Unknown signature OID.");throw l.signatureOid=f.signatureOid,l}var d=s.toDer(f.certificationRequestInfo);f.md.update(d.getBytes())}var h=e.md.sha1.create();return f.subject.getField=function(e){return t(f.subject,e)},f.subject.addField=function(e){n([e]),f.subject.attributes.push(e)},f.subject.attributes=u.RDNAttributesAsArray(o.certificationRequestInfoSubject,h),f.subject.hash=h.digest().toHex(),f.publicKey=u.publicKeyFromAsn1(o.subjectPublicKeyInfo),f.getAttribute=function(e){return t(f,e)},f.addAttribute=function(e){n([e]),f.attributes.push(e)},f.attributes=u.CRIAttributesAsArray(o.certificationRequestInfoAttributes||[]),f},u.createCertificationRequest=function(){var r={};return r.version=0,r.signatureOid=null,r.signature=null,r.siginfo={},r.siginfo.algorithmOid=null,r.subject={},r.subject.getField=function(e){return t(r.subject,e)},r.subject.addField=function(e){n([e]),r.subject.attributes.push(e)},r.subject.attributes=[],r.subject.hash=null,r.publicKey=null,r.attributes=[],r.getAttribute=function(e){return t(r,e)},r.addAttribute=function(e){n([e]),r.attributes.push(e)},r.md=null,r.setSubject=function(e){n(e),r.subject.attributes=e,r.subject.hash=null},r.setAttributes=function(e){n(e),r.attributes=e},r.sign=function(t,n){r.md=n||e.md.sha1.create();var i=c[r.md.algorithm+"WithRSAEncryption"];if(!i){var o=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw o.algorithm=r.md.algorithm,o}r.signatureOid=r.siginfo.algorithmOid=i,r.certificationRequestInfo=u.getCertificationRequestInfo(r);var a=s.toDer(r.certificationRequestInfo);r.md.update(a.getBytes()),r.signature=t.sign(r.md)},r.verify=function(){var t=!1,n=r.md;if(null===n){if(r.signatureOid in c){var i=c[r.signatureOid];switch(i){case"sha1WithRSAEncryption":n=e.md.sha1.create();break;case"md5WithRSAEncryption":n=e.md.md5.create();break;case"sha256WithRSAEncryption":n=e.md.sha256.create();break;case"sha512WithRSAEncryption":n=e.md.sha512.create();break;case"RSASSA-PSS":n=e.md.sha256.create()}}if(null===n){var o=new Error("Could not compute certification request digest. Unknown signature OID.");throw o.signatureOid=r.signatureOid,o}var a=r.certificationRequestInfo||u.getCertificationRequestInfo(r),l=s.toDer(a);n.update(l.getBytes())}if(null!==n){var p;switch(r.signatureOid){case c.sha1WithRSAEncryption:break;case c["RSASSA-PSS"]:var f,d;if(f=c[r.signatureParameters.mgf.hash.algorithmOid],void 0===f||void 0===e.md[f]){var o=new Error("Unsupported MGF hash function.");throw o.oid=r.signatureParameters.mgf.hash.algorithmOid,o.name=f,o}if(d=c[r.signatureParameters.mgf.algorithmOid],void 0===d||void 0===e.mgf[d]){var o=new Error("Unsupported MGF function.");throw o.oid=r.signatureParameters.mgf.algorithmOid,o.name=d,o}if(d=e.mgf[d].create(e.md[f].create()),f=c[r.signatureParameters.hash.algorithmOid],void 0===f||void 0===e.md[f]){var o=new Error("Unsupported RSASSA-PSS hash function.");throw o.oid=r.signatureParameters.hash.algorithmOid,o.name=f,o}p=e.pss.create(e.md[f].create(),d,r.signatureParameters.saltLength)}t=r.publicKey.verify(n.digest().getBytes(),r.signature,p)}return t},r},u.getTBSCertificate=function(t){var n=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(t.version).getBytes())]),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,e.util.hexToBytes(t.serialNumber)),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.siginfo.algorithmOid).getBytes()),o(t.siginfo.algorithmOid,t.siginfo.parameters)]),r(t.issuer),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.UTCTIME,!1,s.dateToUtcTime(t.validity.notBefore)),s.create(s.Class.UNIVERSAL,s.Type.UTCTIME,!1,s.dateToUtcTime(t.validity.notAfter))]),r(t.subject),u.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(s.create(s.Class.CONTEXT_SPECIFIC,1,!0,[s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(s.create(s.Class.CONTEXT_SPECIFIC,2,!0,[s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(u.certificateExtensionsToAsn1(t.extensions)),n},u.getCertificationRequestInfo=function(e){var t=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(e.version).getBytes()),r(e.subject),u.publicKeyToAsn1(e.publicKey),a(e)]);
return t},u.distinguishedNameToAsn1=function(e){return r(e)},u.certificateToAsn1=function(e){var t=e.tbsCertificate||u.getTBSCertificate(e);return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[t,s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(e.signatureOid).getBytes()),o(e.signatureOid,e.signatureParameters)]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},u.certificateExtensionsToAsn1=function(e){var t=s.create(s.Class.CONTEXT_SPECIFIC,3,!0,[]),r=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(u.certificateExtensionToAsn1(e[n]));return t},u.certificateExtensionToAsn1=function(e){var t=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);t.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(e.id).getBytes())),e.critical&&t.value.push(s.create(s.Class.UNIVERSAL,s.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=s.toDer(r).getBytes()),t.value.push(s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,r)),t},u.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||u.getCertificationRequestInfo(e);return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[t,s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(e.signatureOid).getBytes()),o(e.signatureOid,e.signatureParameters)]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},u.createCaStore=function(t){function n(e){return i(e),o.certs[e.hash]||null}function i(t){if(!t.hash){var n=e.md.sha1.create();t.attributes=u.RDNAttributesAsArray(r(t),n),t.hash=n.digest().toHex()}}var o={certs:{}};if(o.getIssuer=function(e){var t=n(e.issuer);return t},o.addCertificate=function(t){if("string"==typeof t&&(t=e.pki.certificateFromPem(t)),i(t.subject),!o.hasCertificate(t))if(t.subject.hash in o.certs){var r=o.certs[t.subject.hash];e.util.isArray(r)||(r=[r]),r.push(t),o.certs[t.subject.hash]=r}else o.certs[t.subject.hash]=t},o.hasCertificate=function(t){"string"==typeof t&&(t=e.pki.certificateFromPem(t));var r=n(t.subject);if(!r)return!1;e.util.isArray(r)||(r=[r]);for(var i=s.toDer(u.certificateToAsn1(t)).getBytes(),o=0;o<r.length;++o){var a=s.toDer(u.certificateToAsn1(r[o])).getBytes();if(i===a)return!0}return!1},o.listAllCertificates=function(){var t=[];for(var r in o.certs)if(o.certs.hasOwnProperty(r)){var n=o.certs[r];if(e.util.isArray(n))for(var i=0;i<n.length;++i)t.push(n[i]);else t.push(n)}return t},o.removeCertificate=function(t){var r;if("string"==typeof t&&(t=e.pki.certificateFromPem(t)),i(t.subject),!o.hasCertificate(t))return null;var a=n(t.subject);if(!e.util.isArray(a))return r=o.certs[t.subject.hash],delete o.certs[t.subject.hash],r;for(var c=s.toDer(u.certificateToAsn1(t)).getBytes(),l=0;l<a.length;++l){var p=s.toDer(u.certificateToAsn1(a[l])).getBytes();c===p&&(r=a[l],a.splice(l,1))}return 0===a.length&&delete o.certs[t.subject.hash],r},t)for(var a=0;a<t.length;++a){var c=t[a];o.addCertificate(c)}return o},u.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},u.verifyCertificateChain=function(t,r,n){r=r.slice(0);var i=r.slice(0),o=new Date,a=!0,s=null,c=0;do{var l=r.shift(),p=null,f=!1;if((o<l.validity.notBefore||o>l.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:u.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:o}),null===s){if(p=r[0]||t.getIssuer(l),null===p&&l.isIssuer(l)&&(f=!0,p=l),p){var d=p;e.util.isArray(d)||(d=[d]);for(var h=!1;!h&&d.length>0;){p=d.shift();try{h=p.verify(l)}catch(e){}}h||(s={message:"Certificate signature is invalid.",error:u.certificateError.bad_certificate})}null!==s||p&&!f||t.hasCertificate(l)||(s={message:"Certificate is not trusted.",error:u.certificateError.unknown_ca})}if(null===s&&p&&!l.isIssuer(p)&&(s={message:"Certificate issuer is invalid.",error:u.certificateError.bad_certificate}),null===s)for(var y={keyUsage:!0,basicConstraints:!0},g=0;null===s&&g<l.extensions.length;++g){var v=l.extensions[g];!v.critical||v.name in y||(s={message:"Certificate has an unsupported critical extension.",error:u.certificateError.unsupported_certificate})}if(null===s&&(!a||0===r.length&&(!p||f))){var m=l.getExtension("basicConstraints"),C=l.getExtension("keyUsage");if(null!==C&&(C.keyCertSign&&null!==m||(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:u.certificateError.bad_certificate})),null!==s||null===m||m.cA||(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:u.certificateError.bad_certificate}),null===s&&null!==C&&"pathLenConstraint"in m){var E=c-1;E>m.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:u.certificateError.bad_certificate})}}var S=null===s||s.error,T=n?n(S,c,i):S;if(T!==!0)throw S===!0&&(s={message:"The application rejected the certificate.",error:u.certificateError.bad_certificate}),(T||0===T)&&("object"!=typeof T||e.util.isArray(T)?"string"==typeof T&&(s.error=T):(T.message&&(s.message=T.message),T.error&&(s.error=T.error))),s;s=null,a=!1,++c}while(r.length>0);return!0}}var t="x509";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n.pki}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/x509",["require","module","./aes","./asn1","./des","./md","./mgf","./oids","./pem","./pss","./rsa","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var s=e[o].safeBags[a];void 0!==n&&s.type!==n||(null!==t?void 0!==s.attributes[t]&&s.attributes[t].indexOf(r)>=0&&i.push(s):i.push(s))}return i}function r(t){if(t.composed||t.constructed){for(var r=e.util.createBuffer(),n=0;n<t.value.length;++n)r.putBytes(t.value[n].value);t.composed=t.constructed=!1,t.value=r.getBytes()}return t}function n(e,t,n,a){if(t=s.fromDer(t,n),t.tagClass!==s.Class.UNIVERSAL||t.type!==s.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var c=0;c<t.value.length;c++){var p=t.value[c],f={},d=[];if(!s.validate(p,l,f,d)){var h=new Error("Cannot read ContentInfo.");throw h.errors=d,h}var y={encrypted:!1},g=null,v=f.content.value[0];switch(s.derToOid(f.contentType)){case u.oids.data:if(v.tagClass!==s.Class.UNIVERSAL||v.type!==s.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");g=r(v).value;break;case u.oids.encryptedData:g=i(v,a),y.encrypted=!0;break;default:var h=new Error("Unsupported PKCS#12 contentType.");throw h.contentType=s.derToOid(f.contentType),h}y.safeBags=o(g,n,a),e.safeContents.push(y)}}function i(t,n){var i={},o=[];if(!s.validate(t,e.pkcs7.asn1.encryptedDataValidator,i,o)){var a=new Error("Cannot read EncryptedContentInfo.");throw a.errors=o,a}var c=s.derToOid(i.contentType);if(c!==u.oids.data){var a=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw a.oid=c,a}c=s.derToOid(i.encAlgorithm);var l=u.pbe.getCipher(c,i.encParameter,n),p=r(i.encryptedContentAsn1),f=e.util.createBuffer(p.value);if(l.update(f),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}function o(e,t,r){if(!t&&0===e.length)return[];if(e=s.fromDer(e,t),e.tagClass!==s.Class.UNIVERSAL||e.type!==s.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var o=e.value[i],c={},l=[];if(!s.validate(o,f,c,l)){var p=new Error("Cannot read SafeBag.");throw p.errors=l,p}var d={type:s.derToOid(c.bagId),attributes:a(c.bagAttributes)};n.push(d);var y,g,v=c.bagValue.value[0];switch(d.type){case u.oids.pkcs8ShroudedKeyBag:if(v=u.decryptPrivateKeyInfo(v,r),null===v)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case u.oids.keyBag:try{d.key=u.privateKeyFromAsn1(v)}catch(e){d.key=null,d.asn1=v}continue;case u.oids.certBag:y=h,g=function(){if(s.derToOid(c.certId)!==u.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=s.derToOid(c.certId),e}var r=s.fromDer(c.cert,t);try{d.cert=u.certificateFromAsn1(r,!0)}catch(e){d.cert=null,d.asn1=r}};break;default:var p=new Error("Unsupported PKCS#12 SafeBag type.");throw p.oid=d.type,p}if(void 0!==y&&!s.validate(v,y,c,l)){var p=new Error("Cannot read PKCS#12 "+y.name);throw p.errors=l,p}g()}return n}function a(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},i=[];if(!s.validate(e[r],d,n,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var a=s.derToOid(n.oid);if(void 0!==u.oids[a]){t[u.oids[a]]=[];for(var c=0;c<n.values.length;++c)t[u.oids[a]].push(n.values[c].value)}}return t}var s=e.asn1,u=e.pki,c=e.pkcs12=e.pkcs12||{},l={name:"ContentInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:s.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},p={name:"PFX",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"version"},l,{name:"PFX.macData",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:s.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},f={name:"SafeBag",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:s.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},d={name:"Attribute",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:s.Class.UNIVERSAL,type:s.Type.SET,constructed:!0,capture:"values"}]},h={name:"CertBag",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:s.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:s.Class.UNIVERSAL,type:s.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};c.pkcs12FromAsn1=function(i,o,a){"string"==typeof o?(a=o,o=!0):void 0===o&&(o=!0);var l={},f=[];if(!s.validate(i,p,l,f)){var d=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw d.errors=d,d}var h={version:l.version.charCodeAt(0),safeContents:[],getBags:function(r){var n,i={};return"localKeyId"in r?n=r.localKeyId:"localKeyIdHex"in r&&(n=e.util.hexToBytes(r.localKeyIdHex)),void 0===n&&!("friendlyName"in r)&&"bagType"in r&&(i[r.bagType]=t(h.safeContents,null,null,r.bagType)),void 0!==n&&(i.localKeyId=t(h.safeContents,"localKeyId",n,r.bagType)),"friendlyName"in r&&(i.friendlyName=t(h.safeContents,"friendlyName",r.friendlyName,r.bagType)),i},getBagsByFriendlyName:function(e,r){return t(h.safeContents,"friendlyName",e,r)},getBagsByLocalKeyId:function(e,r){return t(h.safeContents,"localKeyId",e,r)}};if(3!==l.version.charCodeAt(0)){var d=new Error("PKCS#12 PFX of version other than 3 not supported.");throw d.version=l.version.charCodeAt(0),d}if(s.derToOid(l.contentType)!==u.oids.data){var d=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw d.oid=s.derToOid(l.contentType),d}var y=l.content.value[0];if(y.tagClass!==s.Class.UNIVERSAL||y.type!==s.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(y=r(y),l.mac){var g=null,v=0,m=s.derToOid(l.macAlgorithm);switch(m){case u.oids.sha1:g=e.md.sha1.create(),v=20;break;case u.oids.sha256:g=e.md.sha256.create(),v=32;break;case u.oids.sha384:g=e.md.sha384.create(),v=48;break;case u.oids.sha512:g=e.md.sha512.create(),v=64;break;case u.oids.md5:g=e.md.md5.create(),v=16}if(null===g)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+m);var C=new e.util.ByteBuffer(l.macSalt),E="macIterations"in l?parseInt(e.util.bytesToHex(l.macIterations),16):1,S=c.generateKey(a,C,3,E,v,g),T=e.hmac.create();T.start(g,S),T.update(y.value);var A=T.getMac();if(A.getBytes()!==l.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return n(h,y.value,o,a),h},c.toPkcs12Asn1=function(t,r,n,i){i=i||{},i.saltSize=i.saltSize||8,i.count=i.count||2048,i.algorithm=i.algorithm||i.encAlgorithm||"aes128","useMac"in i||(i.useMac=!0),"localKeyId"in i||(i.localKeyId=null),"generateLocalKeyId"in i||(i.generateLocalKeyId=!0);var o,a=i.localKeyId;if(null!==a)a=e.util.hexToBytes(a);else if(i.generateLocalKeyId)if(r){var l=e.util.isArray(r)?r[0]:r;"string"==typeof l&&(l=u.certificateFromPem(l));var p=e.md.sha1.create();p.update(s.toDer(u.certificateToAsn1(l)).getBytes()),a=p.digest().getBytes()}else a=e.random.getBytes(20);var f=[];null!==a&&f.push(s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.localKeyId).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,a)])])),"friendlyName"in i&&f.push(s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.friendlyName).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[s.create(s.Class.UNIVERSAL,s.Type.BMPSTRING,!1,i.friendlyName)])])),f.length>0&&(o=s.create(s.Class.UNIVERSAL,s.Type.SET,!0,f));var d=[],h=[];null!==r&&(h=e.util.isArray(r)?r:[r]);for(var y=[],g=0;g<h.length;++g){r=h[g],"string"==typeof r&&(r=u.certificateFromPem(r));var v=0===g?o:void 0,m=u.certificateToAsn1(r),C=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.certBag).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.x509Certificate).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(m).getBytes())])])]),v]);y.push(C)}if(y.length>0){var E=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,y),S=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.data).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(E).getBytes())])]);d.push(S)}var T=null;if(null!==t){var A=u.wrapRsaPrivateKey(u.privateKeyToAsn1(t));T=null===n?s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.keyBag).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[A]),o]):s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.pkcs8ShroudedKeyBag).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[u.encryptPrivateKeyInfo(A,n,i)]),o]);var b=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[T]),I=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.data).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(b).getBytes())])]);d.push(I)}var w,_=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,d);if(i.useMac){var p=e.md.sha1.create(),B=new e.util.ByteBuffer(e.random.getBytes(i.saltSize)),k=i.count,t=c.generateKey(n,B,3,k,20),N=e.hmac.create();N.start(p,t),N.update(s.toDer(_).getBytes());var R=N.getMac();w=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.sha1).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,R.getBytes())]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,B.getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(k).getBytes())])}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(3).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(u.oids.data).getBytes()),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(_).getBytes())])]),w])},c.generateKey=e.pbe.generatePkcs12Key}var t="pkcs12";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pkcs12",["require","module","./asn1","./hmac","./oids","./pkcs7asn1","./pbe","./random","./rsa","./sha1","./util","./x509"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){var t=e.asn1,r=e.pki=e.pki||{};r.pemToDer=function(t){var r=e.pem.decode(t)[0];if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return e.util.createBuffer(r.body)},r.privateKeyFromPem=function(n){var i=e.pem.decode(n)[0];if("PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type){var o=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw o.headerType=i.type,o}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=t.fromDer(i.body);return r.privateKeyFromAsn1(a)},r.privateKeyToPem=function(n,i){var o={type:"RSA PRIVATE KEY",body:t.toDer(r.privateKeyToAsn1(n)).getBytes()};return e.pem.encode(o,{maxline:i})},r.privateKeyInfoToPem=function(r,n){var i={type:"PRIVATE KEY",body:t.toDer(r).getBytes()};return e.pem.encode(i,{maxline:n})}}var t="pki";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pki",["require","module","./asn1","./oids","./pbe","./pem","./pbkdf2","./pkcs12","./pss","./rsa","./util","./x509"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){var t=function(t,r,n,i){var o=e.util.createBuffer(),a=t.length>>1,s=a+(1&t.length),u=t.substr(0,s),c=t.substr(a,s),l=e.util.createBuffer(),p=e.hmac.create();n=r+n;var f=Math.ceil(i/16),d=Math.ceil(i/20);p.start("MD5",u);var h=e.util.createBuffer();l.putBytes(n);for(var y=0;y<f;++y)p.start(null,null),p.update(l.getBytes()),l.putBuffer(p.digest()),p.start(null,null),p.update(l.bytes()+n),h.putBuffer(p.digest());p.start("SHA1",c);var g=e.util.createBuffer();l.clear(),l.putBytes(n);for(var y=0;y<d;++y)p.start(null,null),p.update(l.getBytes()),l.putBuffer(p.digest()),p.start(null,null),p.update(l.bytes()+n),g.putBuffer(p.digest());return o.putBytes(e.util.xorBytes(h.getBytes(),g.getBytes(),i)),o},r=function(t,r,n){var i=e.hmac.create();i.start("SHA1",t);var o=e.util.createBuffer();return o.putInt32(r[0]),o.putInt32(r[1]),o.putByte(n.type),o.putByte(n.version.major),o.putByte(n.version.minor),o.putInt16(n.length),o.putBytes(n.fragment.bytes()),i.update(o.getBytes()),i.digest().getBytes()},n=function(t,r,n){var i=!1;try{var o=t.deflate(r.fragment.getBytes());r.fragment=e.util.createBuffer(o),r.length=o.length,i=!0}catch(e){}return i},i=function(t,r,n){var i=!1;try{var o=t.inflate(r.fragment.getBytes());r.fragment=e.util.createBuffer(o),r.length=o.length,i=!0}catch(e){}return i},o=function(t,r){var n=0;switch(r){case 1:n=t.getByte();break;case 2:n=t.getInt16();break;case 3:n=t.getInt24();break;case 4:n=t.getInt32()}return e.util.createBuffer(t.getBytes(n))},a=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},s={};s.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},s.SupportedVersions=[s.Versions.TLS_1_1,s.Versions.TLS_1_0],s.Version=s.SupportedVersions[0],s.MaxFragment=15360,s.ConnectionEnd={server:0,client:1},s.PRFAlgorithm={tls_prf_sha256:0},s.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},s.CipherType={stream:0,block:1,aead:2},s.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},s.CompressionMethod={none:0,deflate:1},s.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},s.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},s.Alert={},s.Alert.Level={warning:1,fatal:2},s.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},s.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},s.CipherSuites={},s.getCipherSuite=function(e){var t=null;for(var r in s.CipherSuites){var n=s.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},s.handleUnexpected=function(e,t){var r=!e.open&&e.entity===s.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unexpected_message}})},s.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(s.queue(e,s.createAlert(e,{level:s.Alert.Level.warning,description:s.Alert.Description.no_renegotiation})),s.flush(e)),e.process()},s.parseHelloMessage=function(t,r,n){var i=null,a=t.entity===s.ConnectionEnd.client;if(n<38)t.error(t,{message:a?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});else{var u=r.fragment,c=u.length();if(i={version:{major:u.getByte(),minor:u.getByte()},random:e.util.createBuffer(u.getBytes(32)),session_id:o(u,1),extensions:[]},a?(i.cipher_suite=u.getBytes(2),i.compression_method=u.getByte()):(i.cipher_suites=o(u,2),i.compression_methods=o(u,1)),c=n-(c-u.length()),c>0){for(var l=o(u,2);l.length()>0;)i.extensions.push({type:[l.getByte(),l.getByte()],data:o(l,2)});if(!a)for(var p=0;p<i.extensions.length;++p){var f=i.extensions[p];if(0===f.type[0]&&0===f.type[1])for(var d=o(f.data,2);d.length()>0;){var h=d.getByte();if(0!==h)break;t.session.extensions.server_name.serverNameList.push(o(d,2).getBytes())}}}if(t.session.version&&(i.version.major!==t.session.version.major||i.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}});if(a)t.session.cipherSuite=s.getCipherSuite(i.cipher_suite);else for(var y=e.util.createBuffer(i.cipher_suites.bytes());y.length()>0&&(t.session.cipherSuite=s.getCipherSuite(y.getBytes(2)),null===t.session.cipherSuite););if(null===t.session.cipherSuite)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.handshake_failure},cipherSuite:e.util.bytesToHex(i.cipher_suite)});a?t.session.compressionMethod=i.compression_method:t.session.compressionMethod=s.CompressionMethod.none}return i},s.createSecurityParameters=function(e,t){var r=e.entity===s.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,o=r?n:s.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:s.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}},s.handleServerHello=function(e,t,r){var n=s.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=d,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=c,e.session.resuming=!1,s.createSecurityParameters(e,n)),e.session.id=i,e.process()}},s.handleClientHello=function(t,r,n){var i=s.parseHelloMessage(t,r,n);if(!t.fail){var o=i.session_id.bytes(),a=null;if(t.sessionCache&&(a=t.sessionCache.getSession(o),null===a?o="":(a.version.major!==i.version.major||a.version.minor>i.version.minor)&&(a=null,o="")),0===o.length&&(o=e.random.getBytes(32)),t.session.id=o,t.session.clientHelloVersion=i.version,t.session.sp={},a)t.version=t.session.version=a.version,t.session.sp=a.sp;else{for(var u,c=1;c<s.SupportedVersions.length&&(u=s.SupportedVersions[c],!(u.minor<=i.version.minor));++c);t.version={major:u.major,minor:u.minor},t.session.version=t.version}null!==a?(t.expect=S,t.session.resuming=!0,t.session.sp.client_random=i.random.bytes()):(t.expect=t.verifyClient!==!1?m:C,t.session.resuming=!1,s.createSecurityParameters(t,i)),t.open=!0,s.queue(t,s.createRecord(t,{type:s.ContentType.handshake,data:s.createServerHello(t)})),t.session.resuming?(s.queue(t,s.createRecord(t,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),t.state.pending=s.createConnectionState(t),t.state.current.write=t.state.pending.write,s.queue(t,s.createRecord(t,{type:s.ContentType.handshake,data:s.createFinished(t)}))):(s.queue(t,s.createRecord(t,{type:s.ContentType.handshake,data:s.createCertificate(t)})),t.fail||(s.queue(t,s.createRecord(t,{type:s.ContentType.handshake,data:s.createServerKeyExchange(t)})),t.verifyClient!==!1&&s.queue(t,s.createRecord(t,{type:s.ContentType.handshake,data:s.createCertificateRequest(t)})),s.queue(t,s.createRecord(t,{type:s.ContentType.handshake,data:s.createServerHelloDone(t)})))),s.flush(t),t.process()}},s.handleCertificate=function(t,r,n){if(n<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var i,a,u=r.fragment,c={certificate_list:o(u,3)},p=[];try{for(;c.certificate_list.length()>0;)i=o(c.certificate_list,3),a=e.asn1.fromDer(i),i=e.pki.certificateFromAsn1(a,!0),p.push(i)}catch(e){return t.error(t,{message:"Could not parse certificate list.",cause:e,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate}})}var f=t.entity===s.ConnectionEnd.client;!f&&t.verifyClient!==!0||0!==p.length?0===p.length?t.expect=f?l:C:(f?t.session.serverCertificate=p[0]:t.session.clientCertificate=p[0],s.verifyCertificateChain(t,p)&&(t.expect=f?l:C)):t.error(t,{message:f?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}}),t.process()},s.handleServerKeyExchange=function(e,t,r){return r>0?e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unsupported_certificate}}):(e.expect=p,void e.process())},s.handleClientKeyExchange=function(t,r,n){if(n<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unsupported_certificate}});var i=r.fragment,a={enc_pre_master_secret:o(i,2).getBytes()},u=null;if(t.getPrivateKey)try{u=t.getPrivateKey(t,t.session.serverCertificate),u=e.pki.privateKeyFromPem(u)}catch(e){t.error(t,{message:"Could not get private key.",cause:e,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}})}if(null===u)return t.error(t,{message:"No private key set.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}});try{var c=t.session.sp;c.pre_master_secret=u.decrypt(a.enc_pre_master_secret);var l=t.session.clientHelloVersion;if(l.major!==c.pre_master_secret.charCodeAt(0)||l.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(t){c.pre_master_secret=e.random.getBytes(48)}t.expect=S,null!==t.session.clientCertificate&&(t.expect=E),t.process()},s.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:o(n,1),certificate_authorities:o(n,2)};e.session.certificateRequest=i,e.expect=f,e.process()},s.handleCertificateVerify=function(t,r,n){if(n<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var i=r.fragment;i.read-=4;var a=i.bytes();i.read+=4;var u={signature:o(i,2).getBytes()},c=e.util.createBuffer();
c.putBuffer(t.session.md5.digest()),c.putBuffer(t.session.sha1.digest()),c=c.getBytes();try{var l=t.session.clientCertificate;if(!l.publicKey.verify(c,u.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(a),t.session.sha1.update(a)}catch(e){return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.handshake_failure}})}t.expect=S,t.process()},s.handleServerHelloDone=function(t,r,n){if(n>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.record_overflow}});if(null===t.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.insufficient_security}},o=0,a=t.verify(t,i.alert.description,o,[]);if(a!==!0)return(a||0===a)&&("object"!=typeof a||e.util.isArray(a)?"number"==typeof a&&(i.alert.description=a):(a.message&&(i.message=a.message),a.alert&&(i.alert.description=a.alert))),t.error(t,i)}null!==t.session.certificateRequest&&(r=s.createRecord(t,{type:s.ContentType.handshake,data:s.createCertificate(t)}),s.queue(t,r)),r=s.createRecord(t,{type:s.ContentType.handshake,data:s.createClientKeyExchange(t)}),s.queue(t,r),t.expect=g;var u=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&s.queue(e,s.createRecord(e,{type:s.ContentType.handshake,data:s.createCertificateVerify(e,t)})),s.queue(e,s.createRecord(e,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),e.state.pending=s.createConnectionState(e),e.state.current.write=e.state.pending.write,s.queue(e,s.createRecord(e,{type:s.ContentType.handshake,data:s.createFinished(e)})),e.expect=d,s.flush(e),e.process()};return null===t.session.certificateRequest||null===t.session.clientCertificate?u(t,null):void s.getClientSignature(t,u)},s.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var r=e.entity===s.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=s.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?h:T,e.process()},s.handleFinished=function(r,n,i){var o=n.fragment;o.read-=4;var a=o.bytes();o.read+=4;var u=n.fragment.getBytes();o=e.util.createBuffer(),o.putBuffer(r.session.md5.digest()),o.putBuffer(r.session.sha1.digest());var c=r.entity===s.ConnectionEnd.client,l=c?"server finished":"client finished",p=r.session.sp,f=12,d=t;return o=d(p.master_secret,l,o.getBytes(),f),o.getBytes()!==u?r.error(r,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.decrypt_error}}):(r.session.md5.update(a),r.session.sha1.update(a),(r.session.resuming&&c||!r.session.resuming&&!c)&&(s.queue(r,s.createRecord(r,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),r.state.current.write=r.state.pending.write,r.state.pending=null,s.queue(r,s.createRecord(r,{type:s.ContentType.handshake,data:s.createFinished(r)}))),r.expect=c?y:A,r.handshaking=!1,++r.handshakes,r.peerCertificate=c?r.session.serverCertificate:r.session.clientCertificate,s.flush(r),r.isConnected=!0,r.connected(r),void r.process())},s.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case s.Alert.Description.close_notify:r="Connection closed.";break;case s.Alert.Description.unexpected_message:r="Unexpected message.";break;case s.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case s.Alert.Description.decryption_failed:r="Decryption failed.";break;case s.Alert.Description.record_overflow:r="Record overflow.";break;case s.Alert.Description.decompression_failure:r="Decompression failed.";break;case s.Alert.Description.handshake_failure:r="Handshake failure.";break;case s.Alert.Description.bad_certificate:r="Bad certificate.";break;case s.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case s.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case s.Alert.Description.certificate_expired:r="Certificate expired.";break;case s.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case s.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case s.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case s.Alert.Description.access_denied:r="Access denied.";break;case s.Alert.Description.decode_error:r="Decode error.";break;case s.Alert.Description.decrypt_error:r="Decrypt error.";break;case s.Alert.Description.export_restriction:r="Export restriction.";break;case s.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case s.Alert.Description.insufficient_security:r="Insufficient security.";break;case s.Alert.Description.internal_error:r="Internal error.";break;case s.Alert.Description.user_canceled:r="User canceled.";break;case s.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}return i.description===s.Alert.Description.close_notify?e.close():(e.error(e,{message:r,send:!1,origin:e.entity===s.ConnectionEnd.client?"server":"client",alert:i}),void e.process())},s.handleHandshake=function(t,r){var n=r.fragment,i=n.getByte(),o=n.getInt24();if(o>n.length())return t.fragmented=r,r.fragment=e.util.createBuffer(),n.read-=4,t.process();t.fragmented=null,n.read-=4;var a=n.bytes(o+4);n.read+=4,i in M[t.entity][t.expect]?(t.entity!==s.ConnectionEnd.server||t.open||t.fail||(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:e.md.md5.create(),sha1:e.md.sha1.create()}),i!==s.HandshakeType.hello_request&&i!==s.HandshakeType.certificate_verify&&i!==s.HandshakeType.finished&&(t.session.md5.update(a),t.session.sha1.update(a)),M[t.entity][t.expect][i](t,r,o)):s.handleUnexpected(t,r)},s.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},s.handleHeartbeat=function(t,r){var n=r.fragment,i=n.getByte(),o=n.getInt16(),a=n.getBytes(o);if(i===s.HeartbeatMessageType.heartbeat_request){if(t.handshaking||o>a.length)return t.process();s.queue(t,s.createRecord(t,{type:s.ContentType.heartbeat,data:s.createHeartbeat(s.HeartbeatMessageType.heartbeat_response,a)})),s.flush(t)}else if(i===s.HeartbeatMessageType.heartbeat_response){if(a!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,e.util.createBuffer(a))}t.process()};var u=0,c=1,l=2,p=3,f=4,d=5,h=6,y=7,g=8,v=0,m=1,C=2,E=3,S=4,T=5,A=6,b=s.handleUnexpected,I=s.handleChangeCipherSpec,w=s.handleAlert,_=s.handleHandshake,B=s.handleApplicationData,k=s.handleHeartbeat,N=[];N[s.ConnectionEnd.client]=[[b,w,_,b,k],[b,w,_,b,k],[b,w,_,b,k],[b,w,_,b,k],[b,w,_,b,k],[I,w,b,b,k],[b,w,_,b,k],[b,w,_,B,k],[b,w,_,b,k]],N[s.ConnectionEnd.server]=[[b,w,_,b,k],[b,w,_,b,k],[b,w,_,b,k],[b,w,_,b,k],[I,w,b,b,k],[b,w,_,b,k],[b,w,_,B,k],[b,w,_,b,k]];var R=s.handleHelloRequest,D=s.handleServerHello,x=s.handleCertificate,L=s.handleServerKeyExchange,P=s.handleCertificateRequest,U=s.handleServerHelloDone,O=s.handleFinished,M=[];M[s.ConnectionEnd.client]=[[b,b,D,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[R,b,b,b,b,b,b,b,b,b,b,x,L,P,U,b,b,b,b,b,b],[R,b,b,b,b,b,b,b,b,b,b,b,L,P,U,b,b,b,b,b,b],[R,b,b,b,b,b,b,b,b,b,b,b,b,P,U,b,b,b,b,b,b],[R,b,b,b,b,b,b,b,b,b,b,b,b,b,U,b,b,b,b,b,b],[R,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[R,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,O],[R,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[R,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]];var j=s.handleClientHello,V=s.handleClientKeyExchange,F=s.handleCertificateVerify;M[s.ConnectionEnd.server]=[[b,j,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,x,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,V,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,F,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,O],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]],s.generateKeys=function(e,r){var n=t,i=r.client_random+r.server_random;e.session.resuming||(r.master_secret=n(r.pre_master_secret,"master secret",i,48).bytes(),r.pre_master_secret=null),i=r.server_random+r.client_random;var o=2*r.mac_key_length+2*r.enc_key_length,a=e.version.major===s.Versions.TLS_1_0.major&&e.version.minor===s.Versions.TLS_1_0.minor;a&&(o+=2*r.fixed_iv_length);var u=n(r.master_secret,"key expansion",i,o),c={client_write_MAC_key:u.getBytes(r.mac_key_length),server_write_MAC_key:u.getBytes(r.mac_key_length),client_write_key:u.getBytes(r.enc_key_length),server_write_key:u.getBytes(r.enc_key_length)};return a&&(c.client_write_IV=u.getBytes(r.fixed_iv_length),c.server_write_IV=u.getBytes(r.fixed_iv_length)),c},s.createConnectionState=function(e){var t=e.entity===s.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},o={read:r(),write:r()};if(o.read.update=function(e,t){return o.read.cipherFunction(t,o.read)?o.read.compressFunction(e,t,o.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_record_mac}}),!e.fail},o.write.update=function(e,t){return o.write.compressFunction(e,t,o.write)?o.write.cipherFunction(t,o.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}),!e.fail},e.session){var a=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(a),a.keys=s.generateKeys(e,a),o.read.macKey=t?a.keys.server_write_MAC_key:a.keys.client_write_MAC_key,o.write.macKey=t?a.keys.client_write_MAC_key:a.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(o,e,a),a.compression_algorithm){case s.CompressionMethod.none:break;case s.CompressionMethod.deflate:o.read.compressFunction=i,o.write.compressFunction=n;break;default:throw new Error("Unsupported compression algorithm.")}}return o},s.createRandom=function(){var t=new Date,r=+t+6e4*t.getTimezoneOffset(),n=e.util.createBuffer();return n.putInt32(r),n.putBytes(e.random.getBytes(28)),n},s.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r},s.createAlert=function(t,r){var n=e.util.createBuffer();return n.putByte(r.level),n.putByte(r.description),s.createRecord(t,{type:s.ContentType.alert,data:n})},s.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var r=e.util.createBuffer(),n=0;n<t.cipherSuites.length;++n){var i=t.cipherSuites[n];r.putByte(i.id[0]),r.putByte(i.id[1])}var o=r.length(),u=e.util.createBuffer();u.putByte(s.CompressionMethod.none);var c=u.length(),l=e.util.createBuffer();if(t.virtualHost){var p=e.util.createBuffer();p.putByte(0),p.putByte(0);var f=e.util.createBuffer();f.putByte(0),a(f,2,e.util.createBuffer(t.virtualHost));var d=e.util.createBuffer();a(d,2,f),a(p,2,d),l.putBuffer(p)}var h=l.length();h>0&&(h+=2);var y=t.session.id,g=y.length+1+2+4+28+2+o+1+c+h,v=e.util.createBuffer();return v.putByte(s.HandshakeType.client_hello),v.putInt24(g),v.putByte(t.version.major),v.putByte(t.version.minor),v.putBytes(t.session.sp.client_random),a(v,1,e.util.createBuffer(y)),a(v,2,r),a(v,1,u),h>0&&a(v,2,l),v},s.createServerHello=function(t){var r=t.session.id,n=r.length+1+2+4+28+2+1,i=e.util.createBuffer();return i.putByte(s.HandshakeType.server_hello),i.putInt24(n),i.putByte(t.version.major),i.putByte(t.version.minor),i.putBytes(t.session.sp.server_random),a(i,1,e.util.createBuffer(r)),i.putByte(t.session.cipherSuite.id[0]),i.putByte(t.session.cipherSuite.id[1]),i.putByte(t.session.compressionMethod),i},s.createCertificate=function(t){var r=t.entity===s.ConnectionEnd.client,n=null;if(t.getCertificate){var i;i=r?t.session.certificateRequest:t.session.extensions.server_name.serverNameList,n=t.getCertificate(t,i)}var o=e.util.createBuffer();if(null!==n)try{e.util.isArray(n)||(n=[n]);for(var u=null,c=0;c<n.length;++c){var l=e.pem.decode(n[c])[0];if("CERTIFICATE"!==l.type&&"X509 CERTIFICATE"!==l.type&&"TRUSTED CERTIFICATE"!==l.type){var p=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw p.headerType=l.type,p}if(l.procType&&"ENCRYPTED"===l.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=e.util.createBuffer(l.body);null===u&&(u=e.asn1.fromDer(f.bytes(),!1));var d=e.util.createBuffer();a(d,3,f),o.putBuffer(d)}n=e.pki.certificateFromAsn1(u),r?t.session.clientCertificate=n:t.session.serverCertificate=n}catch(e){return t.error(t,{message:"Could not send certificate list.",cause:e,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate}})}var h=3+o.length(),y=e.util.createBuffer();return y.putByte(s.HandshakeType.certificate),y.putInt24(h),a(y,3,o),y},s.createClientKeyExchange=function(t){var r=e.util.createBuffer();r.putByte(t.session.clientHelloVersion.major),r.putByte(t.session.clientHelloVersion.minor),r.putBytes(e.random.getBytes(46));var n=t.session.sp;n.pre_master_secret=r.getBytes();var i=t.session.serverCertificate.publicKey;r=i.encrypt(n.pre_master_secret);var o=r.length+2,a=e.util.createBuffer();return a.putByte(s.HandshakeType.client_key_exchange),a.putInt24(o),a.putInt16(r.length),a.putBytes(r),a},s.createServerKeyExchange=function(t){var r=0,n=e.util.createBuffer();return r>0&&(n.putByte(s.HandshakeType.server_key_exchange),n.putInt24(r)),n},s.getClientSignature=function(t,r){var n=e.util.createBuffer();n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest()),n=n.getBytes(),t.getSignature=t.getSignature||function(t,r,n){var i=null;if(t.getPrivateKey)try{i=t.getPrivateKey(t,t.session.clientCertificate),i=e.pki.privateKeyFromPem(i)}catch(e){t.error(t,{message:"Could not get private key.",cause:e,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}})}null===i?t.error(t,{message:"No private key set.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}):r=i.sign(r,null),n(t,r)},t.getSignature(t,n,r)},s.createCertificateVerify=function(t,r){var n=r.length+2,i=e.util.createBuffer();return i.putByte(s.HandshakeType.certificate_verify),i.putInt24(n),i.putInt16(r.length),i.putBytes(r),i},s.createCertificateRequest=function(t){var r=e.util.createBuffer();r.putByte(1);var n=e.util.createBuffer();for(var i in t.caStore.certs){var o=t.caStore.certs[i],u=e.pki.distinguishedNameToAsn1(o.subject),c=e.asn1.toDer(u);n.putInt16(c.length()),n.putBuffer(c)}var l=1+r.length()+2+n.length(),p=e.util.createBuffer();return p.putByte(s.HandshakeType.certificate_request),p.putInt24(l),a(p,1,r),a(p,2,n),p},s.createServerHelloDone=function(t){var r=e.util.createBuffer();return r.putByte(s.HandshakeType.server_hello_done),r.putInt24(0),r},s.createChangeCipherSpec=function(){var t=e.util.createBuffer();return t.putByte(1),t},s.createFinished=function(r){var n=e.util.createBuffer();n.putBuffer(r.session.md5.digest()),n.putBuffer(r.session.sha1.digest());var i=r.entity===s.ConnectionEnd.client,o=r.session.sp,a=12,u=t,c=i?"client finished":"server finished";n=u(o.master_secret,c,n.getBytes(),a);var l=e.util.createBuffer();return l.putByte(s.HandshakeType.finished),l.putInt24(n.length()),l.putBuffer(n),l},s.createHeartbeat=function(t,r,n){"undefined"==typeof n&&(n=r.length);var i=e.util.createBuffer();i.putByte(t),i.putInt16(n),i.putBytes(r);var o=i.length(),a=Math.max(16,o-n-3);return i.putBytes(e.random.getBytes(a)),i},s.queue=function(t,r){if(r&&(0!==r.fragment.length()||r.type!==s.ContentType.handshake&&r.type!==s.ContentType.alert&&r.type!==s.ContentType.change_cipher_spec)){if(r.type===s.ContentType.handshake){var n=r.fragment.bytes();t.session.md5.update(n),t.session.sha1.update(n),n=null}var i;if(r.fragment.length()<=s.MaxFragment)i=[r];else{i=[];for(var o=r.fragment.bytes();o.length>s.MaxFragment;)i.push(s.createRecord(t,{type:r.type,data:e.util.createBuffer(o.slice(0,s.MaxFragment))})),o=o.slice(s.MaxFragment);o.length>0&&i.push(s.createRecord(t,{type:r.type,data:e.util.createBuffer(o)}))}for(var a=0;a<i.length&&!t.fail;++a){var u=i[a],c=t.state.current.write;c.update(t,u)&&t.records.push(u)}}},s.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var K=function(t){switch(t){case!0:return!0;case e.pki.certificateError.bad_certificate:return s.Alert.Description.bad_certificate;case e.pki.certificateError.unsupported_certificate:return s.Alert.Description.unsupported_certificate;case e.pki.certificateError.certificate_revoked:return s.Alert.Description.certificate_revoked;case e.pki.certificateError.certificate_expired:return s.Alert.Description.certificate_expired;case e.pki.certificateError.certificate_unknown:return s.Alert.Description.certificate_unknown;case e.pki.certificateError.unknown_ca:return s.Alert.Description.unknown_ca;default:return s.Alert.Description.bad_certificate}},H=function(t){switch(t){case!0:return!0;case s.Alert.Description.bad_certificate:return e.pki.certificateError.bad_certificate;case s.Alert.Description.unsupported_certificate:return e.pki.certificateError.unsupported_certificate;case s.Alert.Description.certificate_revoked:return e.pki.certificateError.certificate_revoked;case s.Alert.Description.certificate_expired:return e.pki.certificateError.certificate_expired;case s.Alert.Description.certificate_unknown:return e.pki.certificateError.certificate_unknown;case s.Alert.Description.unknown_ca:return e.pki.certificateError.unknown_ca;default:return e.pki.certificateError.bad_certificate}};s.verifyCertificateChain=function(t,r){try{e.pki.verifyCertificateChain(t.caStore,r,function(r,n,i){var o=(K(r),t.verify(t,r,n,i));if(o!==!0){if("object"==typeof o&&!e.util.isArray(o)){var a=new Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate},o.message&&(a.message=o.message),o.alert&&(a.alert.description=o.alert),a}o!==r&&(o=H(o))}return o})}catch(r){var n=r;("object"!=typeof n||e.util.isArray(n))&&(n={send:!0,alert:{level:s.Alert.Level.fatal,description:K(r)}}),"send"in n||(n.send=!0),"alert"in n||(n.alert={level:s.Alert.Level.fatal,description:K(n.error)}),t.error(t,n)}return!t.fail},s.createSessionCache=function(t,r){var n=null;if(t&&t.getSession&&t.setSession&&t.order)n=t;else{n={},n.cache=t||{},n.capacity=Math.max(r||100,1),n.order=[];for(var i in t)n.order.length<=r?n.order.push(i):delete t[i];n.getSession=function(t){var r=null,i=null;if(t?i=e.util.bytesToHex(t):n.order.length>0&&(i=n.order[0]),null!==i&&i in n.cache){r=n.cache[i],delete n.cache[i];for(var o in n.order)if(n.order[o]===i){n.order.splice(o,1);break}}return r},n.setSession=function(t,r){if(n.order.length===n.capacity){var i=n.order.shift();delete n.cache[i]}var i=e.util.bytesToHex(t);n.order.push(i),n.cache[i]=r}}return n},s.createConnection=function(t){var r=null;r=t.caStore?e.util.isArray(t.caStore)?e.pki.createCaStore(t.caStore):t.caStore:e.pki.createCaStore();var n=t.cipherSuites||null;if(null===n){n=[];for(var i in s.CipherSuites)n.push(s.CipherSuites[i])}var o=t.server?s.ConnectionEnd.server:s.ConnectionEnd.client,a=t.sessionCache?s.createSessionCache(t.sessionCache):null,c={version:{major:s.Version.major,minor:s.Version.minor},entity:o,sessionId:t.sessionId,caStore:r,sessionCache:a,cipherSuites:n,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(e,t,r,n){return t},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:e.util.createBuffer(),tlsData:e.util.createBuffer(),data:e.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(e,r){r.origin=r.origin||(e.entity===s.ConnectionEnd.client?"client":"server"),r.send&&(s.queue(e,s.createAlert(e,r.alert)),s.flush(e));var n=r.fatal!==!1;n&&(e.fail=!0),t.error(e,r),n&&e.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null};c.reset=function(e){c.version={major:s.Version.major,minor:s.Version.minor},c.record=null,c.session=null,c.peerCertificate=null,c.state={pending:null,current:null},c.expect=c.entity===s.ConnectionEnd.client?u:v,c.fragmented=null,c.records=[],c.open=!1,c.handshakes=0,c.handshaking=!1,c.isConnected=!1,c.fail=!(e||"undefined"==typeof e),c.input.clear(),c.tlsData.clear(),c.data.clear(),c.state.current=s.createConnectionState(c)},c.reset();var l=function(e,t){var r=t.type-s.ContentType.change_cipher_spec,n=N[e.entity][e.expect];r in n?n[r](e,t):s.handleUnexpected(e,t)},p=function(t){var r=0,n=t.input,i=n.length();if(i<5)r=5-i;else{t.record={type:n.getByte(),version:{major:n.getByte(),minor:n.getByte()},length:n.getInt16(),fragment:e.util.createBuffer(),ready:!1};var o=t.record.version.major===t.version.major;o&&t.session&&t.session.version&&(o=t.record.version.minor===t.version.minor),o||t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}})}return r},f=function(e){var t=0,r=e.input,n=r.length();if(n<e.record.length)t=e.record.length-n;else{e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact();var i=e.state.current.read;i.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unexpected_message}})),e.record.ready=!0)}return t};return c.handshake=function(t){if(c.entity!==s.ConnectionEnd.client)c.error(c,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(c.handshaking)c.error(c,{message:"Handshake already in progress.",fatal:!1});else{c.fail&&!c.open&&0===c.handshakes&&(c.fail=!1),c.handshaking=!0,t=t||"";var r=null;t.length>0&&(c.sessionCache&&(r=c.sessionCache.getSession(t)),null===r&&(t="")),0===t.length&&c.sessionCache&&(r=c.sessionCache.getSession(),null!==r&&(t=r.id)),c.session={id:t,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:e.md.md5.create(),sha1:e.md.sha1.create()},r&&(c.version=r.version,c.session.sp=r.sp),c.session.sp.client_random=s.createRandom().getBytes(),c.open=!0,s.queue(c,s.createRecord(c,{type:s.ContentType.handshake,data:s.createClientHello(c)})),s.flush(c)}},c.process=function(e){var t=0;return e&&c.input.putBytes(e),c.fail||(null!==c.record&&c.record.ready&&c.record.fragment.isEmpty()&&(c.record=null),null===c.record&&(t=p(c)),c.fail||null===c.record||c.record.ready||(t=f(c)),!c.fail&&null!==c.record&&c.record.ready&&l(c,c.record)),t},c.prepare=function(t){return s.queue(c,s.createRecord(c,{type:s.ContentType.application_data,data:e.util.createBuffer(t)})),s.flush(c)},c.prepareHeartbeatRequest=function(t,r){return t instanceof e.util.ByteBuffer&&(t=t.bytes()),"undefined"==typeof r&&(r=t.length),c.expectedHeartbeatPayload=t,s.queue(c,s.createRecord(c,{type:s.ContentType.heartbeat,data:s.createHeartbeat(s.HeartbeatMessageType.heartbeat_request,t,r)})),s.flush(c)},c.close=function(e){if(!c.fail&&c.sessionCache&&c.session){var t={id:c.session.id,version:c.session.version,sp:c.session.sp};t.sp.keys=null,c.sessionCache.setSession(t.id,t)}c.open&&(c.open=!1,c.input.clear(),(c.isConnected||c.handshaking)&&(c.isConnected=c.handshaking=!1,s.queue(c,s.createAlert(c,{level:s.Alert.Level.warning,description:s.Alert.Description.close_notify})),s.flush(c)),c.closed(c)),c.reset(e)},c},e.tls=e.tls||{};for(var q in s)"function"!=typeof s[q]&&(e.tls[q]=s[q]);e.tls.prf_tls1=t,e.tls.hmac_sha1=r,e.tls.createSessionCache=s.createSessionCache,e.tls.createConnection=s.createConnection}var t="tls";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/tls",["require","module","./asn1","./hmac","./md","./pem","./pki","./random","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t,n,i){var a=n.entity===e.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:e.cipher.createDecipher("AES-CBC",a?i.keys.server_write_key:i.keys.client_write_key),iv:a?i.keys.server_write_IV:i.keys.client_write_IV},t.write.cipherState={init:!1,cipher:e.cipher.createCipher("AES-CBC",a?i.keys.client_write_key:i.keys.server_write_key),iv:a?i.keys.client_write_IV:i.keys.server_write_IV},t.read.cipherFunction=o,t.write.cipherFunction=r,t.read.macLength=t.write.macLength=i.mac_length,t.read.macFunction=t.write.macFunction=s.hmac_sha1}function r(t,r){var i=!1,o=r.macFunction(r.macKey,r.sequenceNumber,t);t.fragment.putBytes(o),r.updateSequenceNumber();var a;a=t.version.minor===s.Versions.TLS_1_0.minor?r.cipherState.init?null:r.cipherState.iv:e.random.getBytesSync(16),r.cipherState.init=!0;var u=r.cipherState.cipher;return u.start({iv:a}),t.version.minor>=s.Versions.TLS_1_1.minor&&u.output.putBytes(a),u.update(t.fragment),u.finish(n)&&(t.fragment=u.output,t.length=t.fragment.length(),i=!0),i}function n(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function i(e,t,r){var n=!0;if(r){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)n=n&&t.at(a)==o;n&&t.truncate(o+1)}return n}function o(t,r){var n=!1;++u;var o;o=t.version.minor===s.Versions.TLS_1_0.minor?r.cipherState.init?null:r.cipherState.iv:t.fragment.getBytes(16),r.cipherState.init=!0;var c=r.cipherState.cipher;c.start({iv:o}),c.update(t.fragment),n=c.finish(i);var l=r.macLength,p=e.random.getBytesSync(l),f=c.output.length();f>=l?(t.fragment=c.output.getBytes(f-l),p=c.output.getBytes(l)):t.fragment=c.output.getBytes(),t.fragment=e.util.createBuffer(t.fragment),t.length=t.fragment.length();var d=r.macFunction(r.macKey,r.sequenceNumber,t);return r.updateSequenceNumber(),n=a(r.macKey,p,d)&&n}function a(t,r,n){var i=e.hmac.create();return i.start("SHA1",t),i.update(r),r=i.digest().getBytes(),i.start(null,null),i.update(n),n=i.digest().getBytes(),r===n}var s=e.tls;s.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=s.BulkCipherAlgorithm.aes,e.cipher_type=s.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=s.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:t},s.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=s.BulkCipherAlgorithm.aes,e.cipher_type=s.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=s.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:t};var u=0}var t="aesCipherSuites";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/aesCipherSuites",["require","module","./aes","./tls"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){e.debug=e.debug||{},e.debug.storage={},e.debug.get=function(t,r){var n;return"undefined"==typeof t?n=e.debug.storage:t in e.debug.storage&&(n="undefined"==typeof r?e.debug.storage[t]:e.debug.storage[t][r]),n},e.debug.set=function(t,r,n){t in e.debug.storage||(e.debug.storage[t]={}),e.debug.storage[t][r]=n},e.debug.clear=function(t,r){"undefined"==typeof t?e.debug.storage={}:t in e.debug.storage&&("undefined"==typeof r?delete e.debug.storage[t]:delete e.debug.storage[t][r])}}var t="debug";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/debug",["require","module"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t,r,n,i){t.generate=function(t,o){for(var a=new e.util.ByteBuffer,s=Math.ceil(o/i)+n,u=new e.util.ByteBuffer,c=n;c<s;++c){u.putInt32(c),r.start(),r.update(t+u.getBytes());var l=r.digest();a.putBytes(l.getBytes(i))}return a.truncate(a.length()-o),a.getBytes()}}e.kem=e.kem||{};var BigInteger=e.jsbn.BigInteger;e.kem.rsa={},e.kem.rsa.create=function(t,r){r=r||{};var n=r.prng||e.random,i={};return i.encrypt=function(r,i){var o,a=Math.ceil(r.n.bitLength()/8);do o=new BigInteger(e.util.bytesToHex(n.getBytesSync(a)),16).mod(r.n);while(o.equals(BigInteger.ZERO));o=e.util.hexToBytes(o.toString(16));var s=a-o.length;s>0&&(o=e.util.fillString(String.fromCharCode(0),s)+o);var u=r.encrypt(o,"NONE"),c=t.generate(o,i);return{encapsulation:u,key:c}},i.decrypt=function(e,r,n){var i=e.decrypt(r,"NONE");return t.generate(i,n)},i},e.kem.kdf1=function(e,r){t(this,e,0,r||e.digestLength)},e.kem.kdf2=function(e,r){t(this,e,1,r||e.digestLength)}}var t="kem";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),
r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/kem",["require","module","./util","./random","./jsbn"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){e.log=e.log||{},e.log.levels=["none","error","warning","info","debug","verbose","max"];var t={},r=[],n=null;e.log.LEVEL_LOCKED=2,e.log.NO_LEVEL_CHECK=4,e.log.INTERPOLATE=8;for(var i=0;i<e.log.levels.length;++i){var o=e.log.levels[i];t[o]={index:i,name:o.toUpperCase()}}e.log.logMessage=function(n){for(var i=t[n.level].index,o=0;o<r.length;++o){var a=r[o];if(a.flags&e.log.NO_LEVEL_CHECK)a.f(n);else{var s=t[a.level].index;i<=s&&a.f(a,n)}}},e.log.prepareStandard=function(e){"standard"in e||(e.standard=t[e.level].name+" ["+e.category+"] "+e.message)},e.log.prepareFull=function(t){if(!("full"in t)){var r=[t.message];r=r.concat([]||t.arguments),t.full=e.util.format.apply(this,r)}},e.log.prepareStandardFull=function(t){"standardFull"in t||(e.log.prepareStandard(t),t.standardFull=t.standard)};for(var a=["error","warning","info","debug","verbose"],i=0;i<a.length;++i)!function(t){e.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:r,message:n,arguments:i};e.log.logMessage(o)}}(a[i]);if(e.log.makeLogger=function(t){var r={flags:0,f:t};return e.log.setLevel(r,"none"),r},e.log.setLevel=function(t,r){var n=!1;if(t&&!(t.flags&e.log.LEVEL_LOCKED))for(var i=0;i<e.log.levels.length;++i){var o=e.log.levels[i];if(r==o){t.level=r,n=!0;break}}return n},e.log.lock=function(t,r){"undefined"==typeof r||r?t.flags|=e.log.LEVEL_LOCKED:t.flags&=~e.log.LEVEL_LOCKED},e.log.addLogger=function(e){r.push(e)},"undefined"!=typeof console&&"log"in console){var s;if(console.error&&console.warn&&console.info&&console.debug){var u={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},c=function(t,r){e.log.prepareStandard(r);var n=u[r.level],i=[r.standard];i=i.concat(r.arguments.slice()),n.apply(console,i)};s=e.log.makeLogger(c)}else{var c=function(t,r){e.log.prepareStandardFull(r),console.log(r.standardFull)};s=e.log.makeLogger(c)}e.log.setLevel(s,"debug"),e.log.addLogger(s),n=s}else console={log:function(){}};if(null!==n){var l=e.util.getQueryVariables();if("console.level"in l&&e.log.setLevel(n,l["console.level"].slice(-1)[0]),"console.lock"in l){var p=l["console.lock"].slice(-1)[0];"true"==p&&e.log.lock(n)}}e.log.consoleLogger=n}var t="log";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/log",["require","module","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t){var r={},n=[];if(!p.validate(t,f.asn1.recipientInfoValidator,r,n)){var i=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw i.errors=n,i}return{version:r.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(r.issuer),serialNumber:e.util.createBuffer(r.serial).toHex(),encryptedContent:{algorithm:p.derToOid(r.encAlgorithm),parameter:r.encParameter.value,content:r.encKey}}}function r(t){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(t.version).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:t.issuer}),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,e.util.hexToBytes(t.serialNumber))]),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.encryptedContent.algorithm).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,t.encryptedContent.content)])}function n(e){for(var r=[],n=0;n<e.length;++n)r.push(t(e[n]));return r}function i(e){for(var t=[],n=0;n<e.length;++n)t.push(r(e[n]));return t}function o(t){var r=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(t.version).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:t.issuer}),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,e.util.hexToBytes(t.serialNumber))]),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.digestAlgorithm).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&r.value.push(t.authenticatedAttributesAsn1),r.value.push(p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.signatureAlgorithm).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")])),r.value.push(p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var n=p.create(p.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<t.unauthenticatedAttributes.length;++i){var o=t.unauthenticatedAttributes[i];n.values.push(s(o))}r.value.push(n)}return r}function a(e){for(var t=[],r=0;r<e.length;++r)t.push(o(e[r]));return t}function s(t){var r;if(t.type===e.pki.oids.contentType)r=p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.value).getBytes());else if(t.type===e.pki.oids.messageDigest)r=p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===e.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),o=t.value;if("string"==typeof o){var a=Date.parse(o);o=isNaN(a)?13===o.length?p.utcTimeToDate(o):p.generalizedTimeToDate(o):new Date(a)}r=o>=n&&o<i?p.create(p.Class.UNIVERSAL,p.Type.UTCTIME,!1,p.dateToUtcTime(o)):p.create(p.Class.UNIVERSAL,p.Type.GENERALIZEDTIME,!1,p.dateToGeneralizedTime(o))}return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.type).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SET,!0,[r])])}function u(t){return[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e.pki.oids.data).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.algorithm).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,t.parameter.getBytes())]),p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,t.content.getBytes())])]}function c(t,r,n){var i={},o=[];if(!p.validate(r,n,i,o)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var s=p.derToOid(i.contentType);if(s!==e.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var u="";if(e.util.isArray(i.encryptedContent))for(var c=0;c<i.encryptedContent.length;++c){if(i.encryptedContent[c].type!==p.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");u+=i.encryptedContent[c].value}else u=i.encryptedContent;t.encryptedContent={algorithm:p.derToOid(i.encAlgorithm),parameter:e.util.createBuffer(i.encParameter.value),content:e.util.createBuffer(u)}}if(i.content){var u="";if(e.util.isArray(i.content))for(var c=0;c<i.content.length;++c){if(i.content[c].type!==p.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");u+=i.content[c].value}else u=i.content;t.content=e.util.createBuffer(u)}return t.version=i.version.charCodeAt(0),t.rawCapture=i,i}function l(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var r;switch(t.encryptedContent.algorithm){case e.pki.oids["aes128-CBC"]:case e.pki.oids["aes192-CBC"]:case e.pki.oids["aes256-CBC"]:r=e.aes.createDecryptionCipher(t.encryptedContent.key);break;case e.pki.oids.desCBC:case e.pki.oids["des-EDE3-CBC"]:r=e.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(r.start(t.encryptedContent.parameter),r.update(t.encryptedContent.content),!r.finish())throw new Error("Symmetric decryption failed.");t.content=r.output}}var p=e.asn1,f=e.pkcs7=e.pkcs7||{};f.messageFromPem=function(t){var r=e.pem.decode(t)[0];if("PKCS7"!==r.type){var n=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw n.headerType=r.type,n}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var i=p.fromDer(r.body);return f.messageFromAsn1(i)},f.messageToPem=function(t,r){var n={type:"PKCS7",body:p.toDer(t.toAsn1()).getBytes()};return e.pem.encode(n,{maxline:r})},f.messageFromAsn1=function(t){var r={},n=[];if(!p.validate(t,f.asn1.contentInfoValidator,r,n)){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw i.errors=n,i}var o,a=p.derToOid(r.contentType);switch(a){case e.pki.oids.envelopedData:o=f.createEnvelopedData();break;case e.pki.oids.encryptedData:o=f.createEncryptedData();break;case e.pki.oids.signedData:o=f.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+a+" is not (yet) supported.")}return o.fromAsn1(r.content.value[0]),o},f.createSignedData=function(){function t(){for(var t={},r=0;r<n.signers.length;++r){var i=n.signers[r],o=i.digestAlgorithm;o in t||(t[o]=e.md[e.pki.oids[o]].create()),0===i.authenticatedAttributes.length?i.md=t[o]:i.md=e.md[e.pki.oids[o]].create()}n.digestAlgorithmIdentifiers=[];for(var o in t)n.digestAlgorithmIdentifiers.push(p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(o).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]));return t}function r(t){if(n.contentInfo.value.length<2)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var r=p.derToOid(n.contentInfo.value[0].value),i=n.contentInfo.value[1];i=i.value[0];var o=p.toDer(i);o.getByte(),p.getBerValueLength(o),o=o.getBytes();for(var u in t)t[u].start().update(o);for(var c=new Date,l=0;l<n.signers.length;++l){var f=n.signers[l];if(0===f.authenticatedAttributes.length){if(r!==e.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=p.create(p.Class.UNIVERSAL,p.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var y=f.authenticatedAttributes[h];y.type===e.pki.oids.messageDigest?y.value=t[f.digestAlgorithm].digest():y.type===e.pki.oids.signingTime&&(y.value||(y.value=c)),d.value.push(s(y)),f.authenticatedAttributesAsn1.value.push(s(y))}o=p.toDer(d).getBytes(),f.md.start().update(o)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}n.signerInfos=a(n.signers)}var n=null;return n={type:e.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){c(n,t,f.asn1.signedDataValidator),n.certificates=[],n.crls=[],n.digestAlgorithmIdentifiers=[],n.contentInfo=null,n.signerInfos=[];for(var r=n.rawCapture.certificates.value,i=0;i<r.length;++i)n.certificates.push(e.pki.certificateFromAsn1(r[i]))},toAsn1:function(){n.contentInfo||n.sign();for(var t=[],r=0;r<n.certificates.length;++r)t.push(e.pki.certificateToAsn1(n.certificates[r]));var i=[],o=p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(n.version).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SET,!0,n.digestAlgorithmIdentifiers),n.contentInfo])]);return t.length>0&&o.value[0].value.push(p.create(p.Class.CONTEXT_SPECIFIC,0,!0,t)),i.length>0&&o.value[0].value.push(p.create(p.Class.CONTEXT_SPECIFIC,1,!0,i)),o.value[0].value.push(p.create(p.Class.UNIVERSAL,p.Type.SET,!0,n.signerInfos)),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(n.type).getBytes()),o])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var o=t.certificate;"string"==typeof o&&(o=e.pki.certificateFromPem(o)),r=o.issuer.attributes,i=o.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=e.pki.privateKeyFromPem(a));var s=t.digestAlgorithm||e.pki.oids.sha1;switch(s){case e.pki.oids.sha1:case e.pki.oids.sha256:case e.pki.oids.sha384:case e.pki.oids.sha512:case e.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var u=t.authenticatedAttributes||[];if(u.length>0){for(var c=!1,l=!1,p=0;p<u.length;++p){var f=u[p];if(c||f.type!==e.pki.oids.contentType){if(l||f.type!==e.pki.oids.messageDigest);else if(l=!0,c)break}else if(c=!0,l)break}if(!c||!l)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}n.signers.push({key:a,version:1,issuer:r,serialNumber:i,digestAlgorithm:s,signatureAlgorithm:e.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(){if(("object"!=typeof n.content||null===n.contentInfo)&&(n.contentInfo=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(e.pki.oids.data).getBytes())]),"content"in n)){var i;n.content instanceof e.util.ByteBuffer?i=n.content.bytes():"string"==typeof n.content&&(i=e.util.encodeUtf8(n.content)),n.contentInfo.value.push(p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,i)]))}if(0!==n.signers.length){var o=t();r(o)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=e.pki.certificateFromPem(t)),n.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},f.createEncryptedData=function(){var t=null;return t={type:e.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){c(t,e,f.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),l(t)}}},f.createEnvelopedData=function(){var t=null;return t={type:e.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=c(t,e,f.asn1.envelopedDataValidator);t.recipients=n(r.recipientInfos.value)},toAsn1:function(){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(t.type).getBytes()),p.create(p.Class.CONTEXT_SPECIFIC,0,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(t.version).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SET,!0,i(t.recipients)),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,u(t.encryptedContent))])])])},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],o=i.issuer;if(i.serialNumber===e.serialNumber&&o.length===r.length){for(var a=!0,s=0;s<r.length;++s)if(o[s].type!==r[s].type||o[s].value!==r[s].value){a=!1;break}if(a)return i}}return null},decrypt:function(r,n){if(void 0===t.encryptedContent.key&&void 0!==r&&void 0!==n)switch(r.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:case e.pki.oids.desCBC:var i=n.decrypt(r.encryptedContent.content);t.encryptedContent.key=e.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+r.encryptedContent.algorithm)}l(t)},addRecipient:function(r){t.recipients.push({version:0,issuer:r.issuer.attributes,serialNumber:r.serialNumber,encryptedContent:{algorithm:e.pki.oids.rsaEncryption,key:r.publicKey}})},encrypt:function(r,n){if(void 0===t.encryptedContent.content){n=n||t.encryptedContent.algorithm,r=r||t.encryptedContent.key;var i,o,a;switch(n){case e.pki.oids["aes128-CBC"]:i=16,o=16,a=e.aes.createEncryptionCipher;break;case e.pki.oids["aes192-CBC"]:i=24,o=16,a=e.aes.createEncryptionCipher;break;case e.pki.oids["aes256-CBC"]:i=32,o=16,a=e.aes.createEncryptionCipher;break;case e.pki.oids["des-EDE3-CBC"]:i=24,o=8,a=e.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(void 0===r)r=e.util.createBuffer(e.random.getBytes(i));else if(r.length()!=i)throw new Error("Symmetric key has wrong length; got "+r.length()+" bytes, expected "+i+".");t.encryptedContent.algorithm=n,t.encryptedContent.key=r,t.encryptedContent.parameter=e.util.createBuffer(e.random.getBytes(o));var s=a(r);if(s.start(t.encryptedContent.parameter.copy()),s.update(t.content),!s.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=s.output}for(var u=0;u<t.recipients.length;++u){var c=t.recipients[u];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}}}}var t="pkcs7";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/pkcs7",["require","module","./aes","./asn1","./des","./oids","./pem","./pkcs7asn1","./random","./util","./x509"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){function t(t,r){var n=r.toString(16);n[0]>="8"&&(n="00"+n);var i=e.util.hexToBytes(n);t.putInt32(i.length),t.putBytes(i)}function r(e,t){e.putInt32(t.length),e.putString(t)}function n(){for(var t=e.md.sha1.create(),r=arguments.length,n=0;n<r;++n)t.update(arguments[n]);return t.digest()}var i=e.ssh=e.ssh||{};i.privateKeyToPutty=function(i,o,a){a=a||"",o=o||"";var s="ssh-rsa",u=""===o?"none":"aes256-cbc",c="PuTTY-User-Key-File-2: "+s+"\r\n";c+="Encryption: "+u+"\r\n",c+="Comment: "+a+"\r\n";var l=e.util.createBuffer();r(l,s),t(l,i.e),t(l,i.n);var p=e.util.encode64(l.bytes(),64),f=Math.floor(p.length/66)+1;c+="Public-Lines: "+f+"\r\n",c+=p;var d=e.util.createBuffer();t(d,i.d),t(d,i.p),t(d,i.q),t(d,i.qInv);var h;if(o){var y=d.length()+16-1;y-=y%16;var g=n(d.bytes());g.truncate(g.length()-y+d.length()),d.putBuffer(g);var v=e.util.createBuffer();v.putBuffer(n("\0\0\0\0",o)),v.putBuffer(n("\0\0\0",o));var m=e.aes.createEncryptionCipher(v.truncate(8),"CBC");m.start(e.util.createBuffer().fillWithByte(0,16)),m.update(d.copy()),m.finish();var C=m.output;C.truncate(16),h=e.util.encode64(C.bytes(),64)}else h=e.util.encode64(d.bytes(),64);f=Math.floor(h.length/66)+1,c+="\r\nPrivate-Lines: "+f+"\r\n",c+=h;var E=n("putty-private-key-file-mac-key",o),S=e.util.createBuffer();r(S,s),r(S,u),r(S,a),S.putInt32(l.length()),S.putBuffer(l),S.putInt32(d.length()),S.putBuffer(d);var T=e.hmac.create();return T.start("sha1",E),T.update(S.bytes()),c+="\r\nPrivate-MAC: "+T.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(n,i){var o="ssh-rsa";i=i||"";var a=e.util.createBuffer();return r(a,o),t(a,n.e),t(a,n.n),o+" "+e.util.encode64(a.bytes())+" "+i},i.privateKeyToOpenSSH=function(t,r){return r?e.pki.encryptRsaPrivateKey(t,r,{legacy:!0,algorithm:"aes128"}):e.pki.privateKeyToPem(t)},i.getPublicKeyFingerprint=function(n,i){i=i||{};var o=i.md||e.md.md5.create(),a="ssh-rsa",s=e.util.createBuffer();r(s,a),t(s,n.e),t(s,n.n),o.start(),o.update(s.getBytes());var u=o.digest();if("hex"===i.encoding){var c=u.toHex();return i.delimiter?c.match(/.{2}/g).join(i.delimiter):c}if("binary"===i.encoding)return u.getBytes();if(i.encoding)throw new Error('Unknown encoding "'+i.encoding+'".');return u}}var t="ssh";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/ssh",["require","module","./aes","./hmac","./md5","./sha1","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){function e(e){var t="forge.task",r=0,n={},i=0;e.debug.set(t,"tasks",n);var o={};e.debug.set(t,"queues",o);var a="?",s=30,u=20,c="ready",l="running",p="blocked",f="sleeping",d="done",h="error",y="stop",g="start",v="block",m="unblock",C="sleep",E="wakeup",S="cancel",T="fail",A={};A[c]={},A[c][y]=c,A[c][g]=l,A[c][S]=d,A[c][T]=h,A[l]={},A[l][y]=c,A[l][g]=l,A[l][v]=p,A[l][m]=l,A[l][C]=f,A[l][E]=l,A[l][S]=d,A[l][T]=h,A[p]={},A[p][y]=p,A[p][g]=p,A[p][v]=p,A[p][m]=p,A[p][C]=p,A[p][E]=p,A[p][S]=d,A[p][T]=h,A[f]={},A[f][y]=f,A[f][g]=f,A[f][v]=f,A[f][m]=f,A[f][C]=f,A[f][E]=f,A[f][S]=d,A[f][T]=h,A[d]={},A[d][y]=d,A[d][g]=d,A[d][v]=d,A[d][m]=d,A[d][C]=d,A[d][E]=d,A[d][S]=d,A[d][T]=h,A[h]={},A[h][y]=h,A[h][g]=h,A[h][v]=h,A[h][m]=h,A[h][C]=h,A[h][E]=h,A[h][S]=h,A[h][T]=h;var b=function(o){this.id=-1,this.name=o.name||a,this.parent=o.parent||null,this.run=o.run,this.subtasks=[],this.error=!1,this.state=c,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=i++,n[this.id]=this,r>=1&&e.log.verbose(t,"[%s][%s] init",this.id,this.name,this)};b.prototype.debug=function(r){r=r||"",e.log.debug(t,r,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",o)},b.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new b({run:t,name:e,parent:this});return r.state=l,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},b.prototype.parallel=function(t,r){return e.util.isArray(t)&&(r=t,t=this.name),this.next(t,function(n){var i=n;i.block(r.length);for(var o=function(t,n){e.task.start({type:t,run:function(e){r[n](e)},success:function(e){i.unblock()},failure:function(e){i.unblock()}})},a=0;a<r.length;a++){var s=t+"__parallel-"+n.id+"-"+a,u=a;o(s,u)}})},b.prototype.stop=function(){this.state=A[this.state][y]},b.prototype.start=function(){this.error=!1,this.state=A[this.state][g],this.state===l&&(this.start=new Date,this.run(this),w(this,0))},b.prototype.block=function(e){e="undefined"==typeof e?1:e,this.blocks+=e,this.blocks>0&&(this.state=A[this.state][v])},b.prototype.unblock=function(e){return e="undefined"==typeof e?1:e,this.blocks-=e,0===this.blocks&&this.state!==d&&(this.state=l,w(this,0)),this.blocks},b.prototype.sleep=function(e){e="undefined"==typeof e?0:e,this.state=A[this.state][C];var t=this;this.timeoutId=setTimeout(function(){t.timeoutId=null,t.state=l,w(t,0)},e)},b.prototype.wait=function(e){e.wait(this)},b.prototype.wakeup=function(){this.state===f&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=l,w(this,0))},b.prototype.cancel=function(){this.state=A[this.state][S],this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},b.prototype.fail=function(e){if(this.error=!0,_(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,w(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;_(t,!0)}this.failureCallback&&this.failureCallback(this)}};var I=function(e){e.error=!1,e.state=A[e.state][g],setTimeout(function(){e.state===l&&(e.swapTime=+new Date,e.run(e),w(e,0))},0)},w=function(e,t){var r=t>s||+new Date-e.swapTime>u,n=function(t){if(t++,e.state===l)if(r&&(e.swapTime=+new Date),e.subtasks.length>0){var n=e.subtasks.shift();n.error=e.error,n.swapTime=e.swapTime,n.userData=e.userData,n.run(n),n.error||w(n,t)}else _(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,w(e.parent,t))};r?setTimeout(n,0):n(t)},_=function(i,a){i.state=d,delete n[i.id],r>=1&&e.log.verbose(t,"[%s][%s] finish",i.id,i.name,i),null===i.parent&&(i.type in o?0===o[i.type].length?e.log.error(t,"[%s][%s] task queue empty [%s]",i.id,i.name,i.type):o[i.type][0]!==i?e.log.error(t,"[%s][%s] task not first in queue [%s]",i.id,i.name,i.type):(o[i.type].shift(),0===o[i.type].length?(r>=1&&e.log.verbose(t,"[%s][%s] delete queue [%s]",i.id,i.name,i.type),delete o[i.type]):(r>=1&&e.log.verbose(t,"[%s][%s] queue start next [%s] remain:%s",i.id,i.name,i.type,o[i.type].length),o[i.type][0].start())):e.log.error(t,"[%s][%s] task queue missing [%s]",i.id,i.name,i.type),a||(i.error&&i.failureCallback?i.failureCallback(i):!i.error&&i.successCallback&&i.successCallback(i)))};e.task=e.task||{},e.task.start=function(n){var i=new b({run:n.run,name:n.name||a});i.type=n.type,i.successCallback=n.success||null,i.failureCallback=n.failure||null,i.type in o?o[n.type].push(i):(r>=1&&e.log.verbose(t,"[%s][%s] create queue [%s]",i.id,i.name,i.type),o[i.type]=[i],I(i))},e.task.cancel=function(e){e in o&&(o[e]=[o[e][0]])},e.task.createCondition=function(){var e={tasks:{}};return e.wait=function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},e.notify=function(){var t=e.tasks;e.tasks={};for(var r in t)t[r].unblock()},e}}var t="task";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var r=!0;i=function(e,t){t(n,a)}}var o,s=function(r,n){n.exports=function(n){var i=o.map(function(e){return r(e)}).concat(e);if(n=n||{},n.defined=n.defined||{},n.defined[t])return n[t];n.defined[t]=!0;for(var a=0;a<i.length;++a)i[a](n);return n[t]}},u=i;(i=function(e,t){return o="string"==typeof e?t.slice(2):e.slice(2),r?(delete i,u.apply(null,Array.prototype.slice.call(arguments,0))):(i=u,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/task",["require","module","./debug","./log","./util"],function(){s.apply(null,Array.prototype.slice.call(arguments,0))})}(),function(){var e="forge";if("function"!=typeof i){if("object"!=typeof a||!a.exports)return void("undefined"==typeof forge&&(forge={disableNativeCode:!1}));var t=!0;i=function(e,t){t(n,a)}}var r,o=function(t,n){n.exports=function(n){var i=r.map(function(e){return t(e)});if(n=n||{},n.defined=n.defined||{},n.defined[e])return n[e];n.defined[e]=!0;for(var o=0;o<i.length;++o)"function"==typeof i[o]&&i[o](n);return n},n.exports.disableNativeCode=!1,n.exports(n.exports)},s=i;(i=function(e,n){return r="string"==typeof e?n.slice(2):e.slice(2),t?(delete i,s.apply(null,Array.prototype.slice.call(arguments,0))):(i=s,i.apply(null,Array.prototype.slice.call(arguments,0)))})("js/forge",["require","module","./aes","./aesCipherSuites","./asn1","./cipher","./cipherModes","./debug","./des","./hmac","./kem","./log","./md","./mgf1","./pbkdf2","./pem","./pkcs7","./pkcs1","./pkcs12","./pki","./prime","./prng","./pss","./random","./rc2","./ssh","./task","./tls","./util"],function(){o.apply(null,Array.prototype.slice.call(arguments,0))})}(),n("js/forge")})}).call(t,r(21),r(22).setImmediate,r(24)(e),r(25).Buffer)},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){y&&d&&(y=!1,d.length?h=d.concat(h):g=-1,h.length&&s())}function s(){if(!y){var e=i(a);y=!0;for(var t=h.length;t;){for(d=h,h=[];++g<t;)d&&d[g].run();g=-1,t=h.length}d=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,p,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(e){p=n}}();var d,h=[],y=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new u(e,t)),1!==h.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,r){(function(e){function n(e,t){this._id=e,this._clearFn=t}var i="undefined"!=typeof e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new n(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new n(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(23),t.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(t,function(){return this}())},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return y[h]=n,d(h),h++}function i(e){delete y[e]}function o(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function a(e){if(g)setTimeout(a,0,e);else{var t=y[e];if(t){g=!0;try{o(t)}finally{i(e),g=!1}}}}function s(){d=function(e){t.nextTick(function(){a(e)})}}function u(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}function c(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),d=function(r){e.postMessage(t+r,"*");
}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},d=function(t){e.port2.postMessage(t)}}function p(){var e=v.documentElement;d=function(t){var r=v.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}function f(){d=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var d,h=1,y={},g=!1,v=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?s():u()?c():e.MessageChannel?l():v&&"onreadystatechange"in v.createElement("script")?p():f(),m.setImmediate=n,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),r(21))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,r){(function(e){"use strict";function n(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,t,r)}function s(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,r,n):"string"==typeof t?p(e,t,r):h(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,r,n){return u(t),t<=0?o(e,t):void 0!==r?"string"==typeof n?o(e,t).fill(r,n):o(e,t).fill(r):o(e,t)}function l(e,t){if(u(t),e=o(e,t<0?0:0|y(t)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(t,r);e=o(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function f(e,t){var r=t.length<0?0:0|y(t.length);e=o(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=f(e,t),e}function h(e,t){if(a.isBuffer(t)){var r=0|y(t.length);return e=o(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Q(t.length)?o(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),a.alloc(+e)}function v(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return D(this,t,r);case"base64":return B(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function C(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:S(e,t,r,n,i);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):S(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,r,n,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}var c;if(i){var l=-1;for(c=r;c<s;c++)if(o(e,c)===o(t,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(r+u>s&&(r=s-u),c=r;c>=0;c--){for(var p=!0,f=0;f<u;f++)if(o(e,c+f)!==o(t,f)){p=!1;break}if(p)return c}return-1}function T(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function A(e,t,r,n){return Y(G(t,e.length-r),e,r,n)}function b(e,t,r,n){return Y(W(t),e,r,n)}function I(e,t,r,n){return b(e,t,r,n)}function w(e,t,r,n){return Y(X(t),e,r,n)}function _(e,t,r,n){return Y(z(t,e.length-r),e,r,n)}function B(e,t,r){return 0===t&&r===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u,c,l,p;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(p=(31&o)<<6|63&u,p>127&&(a=p));break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(p=(15&o)<<12|(63&u)<<6|63&c,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(p=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,p>65535&&p<1114112&&(a=p))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return N(n)}function N(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ee));return r}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function D(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=q(e[o]);return i}function L(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function M(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,i){return i||j(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,i){return i||j(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,r,n,52,8),r+8}function K(e){if(e=H(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function z(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function X(e){return $.toByteArray(K(e))}function Y(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Q(e){return e!==e}var $=r(26),J=r(27),Z=r(28);t.Buffer=a,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:n(),t.kMaxLength=i(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,r){return s(null,e,t,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,r){return c(null,e,t,r)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,r,n,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,u=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),p=0;p<u;++p)if(c[p]!==l[p]){o=c[p],s=l[p];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},a.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return T(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return I(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=a.prototype;else{var i=t-e;n=new a(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},a.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),J.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),J.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),J.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),J.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;U(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;U(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:G(new a(e,n).toString()),u=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%u]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function n(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function i(e,t,r){return 3*(t+r)/4-r}function o(e){for(var t,n=r(e),o=n[0],a=n[1],s=new p(i(e,o,a)),u=0,c=a>0?o-4:o,f=0;f<c;f+=4)t=l[e.charCodeAt(f)]<<18|l[e.charCodeAt(f+1)]<<12|l[e.charCodeAt(f+2)]<<6|l[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=l[e.charCodeAt(f)]<<2|l[e.charCodeAt(f+1)]>>4,s[u++]=255&t),1===a&&(t=l[e.charCodeAt(f)]<<10|l[e.charCodeAt(f+1)]<<4|l[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(a(n));return i.join("")}function u(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,u=r-n;a<u;a+=o)i.push(s(e,a,a+o>u?u:a+o));return 1===n?(t=e[r-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}t.byteLength=n,t.toByteArray=o,t.fromByteArray=u;for(var c=[],l=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=f.length;d<h;++d)c[d]=f[d],l[f.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,p=r?i-1:0,f=r?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+p],p+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+p],p+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,h=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+p>=1?f/u:f*Math.pow(2,1-p),t*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=h,a/=256,c-=8);e[r+d-h]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports=["ddcbf893ac1c7777684428b10878138fd53035dfc63b5a543b9118ba301a92da487bd429f7d2f041a44a8d4dad8cb1da9b0d2af040d8154d44a1a0a33c46a46a1c9d8f19bc0df96c4fd4e75c0b77c94972a4d73d88d7346c7774c7c7f798b592bea34286b2dc67f3ba6843c009c5bfcd53c44c9bd8d5cba7a1910aa33ab1bc02207c6fe9bbf20d9a9df5296369da1f2cdc2a","a6e98af6cb7518194a7e0ac47b5576eea64418eee417783558f27dc94351f7a3011ff613d593bb08e500bf7ee0c7f292d05d7bbd1396581415838c814f23c71879e9ce7adf688a1f04b19e7e3155a00122f2a616dbbd521d223aa58ec0b3daf7e7eb2ebeeb961585f31b779a618ee5e21c867bdfa8a0e98b83f07aca6cd4ce71491301cb81d03faaacc604525bf72f1efe57"]},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=[r(31),r(33),r(55),r(60)],i=function(e,t,r,n){var i;return i=function(e){function r(e){null==e&&(e={}),this.setCellphone=o(this.setCellphone,this),this.setCountryCode=o(this.setCountryCode,this),r.__super__.constructor.call(this),this.accountApi=e.accountApi||new t,this.devicesApi=e.devicesApi||new n}return a(r,e),r.prototype.getStorageLocation=function(){return"authy.storage.userinfo"},r.prototype.isMultiDeviceEnabled=function(){return null!=this.model&&this.model.multiDevicesEnabled},r.prototype.getEmail=function(){return this.model.email},r.prototype.getCountryCode=function(){return this.model.countryCode},r.prototype.getCellphone=function(){return this.model.cellphone},r.prototype.getUserId=function(){return this.model.userId},r.prototype.setCountryCode=function(e){return this.model.countryCode=e},r.prototype.setCellphone=function(e){return this.model.cellphone=e},r.prototype.changeEmail=function(e,t,r){return this.accountApi.changeEmail(e,t,r)},r.prototype.changePhone=function(e,t,r,n){return this.accountApi.changePhone(t,e,r,n)},r.prototype.setMultiDevicesEnabled=function(e,t,r){var n;return null==r&&(r=function(){}),n=this,this.devicesApi.setMultiDevicesEnabled(e,function(){return n.model.multiDevicesEnabled=e,n.notifyListeners(),t()},r)},r.prototype.toJson=function(){var e;return e={email:this.model.email,countryCode:this.model.countryCode,cellphone:this.model.cellphone,userId:this.model.userId,multiDevicesEnabled:this.model.multiDevicesEnabled}},r.prototype.fromJson=function(e){var t;return t={email:e.email,countryCode:e.countryCode,cellphone:e.cellphone,userId:e.userId,multiDevicesEnabled:e.multiDevicesEnabled}},r.prototype.fetch=function(e,t){var r;return null==t&&(t=function(){}),r=this,null!=this.model&&this.notifyListeners(),this.accountApi.getUserInfo(function(t){return r.setModel(t),r.save(),r.notifyListeners(),e()},t)},r.prototype.isLoadedToMemory=function(){return null!==this.model},r}(r)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(32)],i=function(e){var t;return t=function(){function t(){}return t.save=function(e,r,n){var i;return null==n&&(n=function(){}),i={},i[""+e]=r,t.getStorage().set(i,function(){return n()})},t.load=function(e,r){var n;return n={},n[""+e]=null,t.getStorage().get(n,function(e){return r(e)})},t.loadObject=function(r,n){var i;return i=e.defer(),t.load(r,function(e){return n(e[r]),i.resolve(e[r])}),i.promise},t.clear=function(){t.getStorage().clear()},t.getStorage=function(){return window.chrome.storage.local},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){(function(t,r){!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else{e.exports=t()}}(function(){"use strict";function e(e){return function(){return Y.apply(e,arguments)}}function n(e){return e===Object(e)}function i(e){return"[object StopIteration]"===ie(e)||e instanceof G}function o(e,t){if(H&&t.stack&&"object"==typeof e&&null!==e&&e.stack){for(var r=[],n=t;n;n=n.source)n.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>n.stackCounter)&&(te(e,"__minimumStackCounter__",{value:n.stackCounter,configurable:!0}),r.unshift(n.stack));r.unshift(e.stack);var i=r.join("\n"+oe+"\n"),o=a(i);te(e,"stack",{value:o,configurable:!0})}}function a(e){for(var t=e.split("\n"),r=[],n=0;n<t.length;++n){var i=t[n];c(i)||s(i)||!i||r.push(i)}return r.join("\n")}function s(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function u(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(e);return n?[n[1],Number(n[2])]:void 0}function c(e){var t=u(e);if(!t)return!1;var r=t[0],n=t[1];return r===q&&n>=W&&n<=pe}function l(){if(H)try{throw new Error}catch(n){var e=n.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],r=u(t);if(!r)return;return q=r[0],r[1]}}function p(e,t,r){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack),e.apply(e,arguments)}}function f(e){return e instanceof g?e:E(e)?k(e):B(e)}function d(){function e(e){t=e,f.longStackSupport&&H&&(o.source=e),$(r,function(t,r){f.nextTick(function(){e.promiseDispatch.apply(e,r)})},void 0),r=void 0,n=void 0}var t,r=[],n=[],i=ee(d.prototype),o=ee(g.prototype);if(o.promiseDispatch=function(e,i,o){var a=Q(arguments);r?(r.push(a),"when"===i&&o[1]&&n.push(o[1])):f.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(r)return o;var e=m(t);return C(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},f.longStackSupport&&H)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1),o.stackCounter=ae++}return i.promise=o,i.resolve=function(r){t||e(f(r))},i.fulfill=function(r){t||e(B(r))},i.reject=function(r){t||e(_(r))},i.notify=function(e){t||$(n,function(t,r){f.nextTick(function(){r(e)})},void 0)},i}function h(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=d();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function y(e){return h(function(t,r){for(var n=0,i=e.length;n<i;n++)f(e[n]).then(t,r)})}function g(e,t,r){void 0===t&&(t=function(e){return _(new Error("Promise does not support operation: "+e))}),void 0===r&&(r=function(){return{state:"unknown"}});var n=ee(g.prototype);if(n.promiseDispatch=function(r,i,o){var a;try{a=e[i]?e[i].apply(n,o):t.call(n,i,o)}catch(e){a=_(e)}r&&r(a)},n.inspect=r,r){var i=r();"rejected"===i.state&&(n.exception=i.reason),n.valueOf=function(){var e=r();return"pending"===e.state||"rejected"===e.state?n:e.value}}return n}function v(e,t,r,n){return f(e).then(t,r,n)}function m(e){if(C(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function C(e){return e instanceof g}function E(e){return n(e)&&"function"==typeof e.then}function S(e){return C(e)&&"pending"===e.inspect().state}function T(e){return!C(e)||"fulfilled"===e.inspect().state}function A(e){return C(e)&&"rejected"===e.inspect().state}function b(){se.length=0,ue.length=0,le||(le=!0)}function I(e,r){le&&("object"==typeof t&&"function"==typeof t.emit&&f.nextTick.runAfter(function(){J(ue,e)!==-1&&(t.emit("unhandledRejection",r,e),ce.push(e))}),ue.push(e),r&&"undefined"!=typeof r.stack?se.push(r.stack):se.push("(no stack) "+r))}function w(e){if(le){var r=J(ue,e);r!==-1&&("object"==typeof t&&"function"==typeof t.emit&&f.nextTick.runAfter(function(){var n=J(ce,e);n!==-1&&(t.emit("rejectionHandled",se[r],e),ce.splice(n,1))}),ue.splice(r,1),se.splice(r,1))}}function _(e){var t=g({when:function(t){return t&&w(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return I(t,e),t}function B(e){return g({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},post:function(t,r){return null===t||void 0===t?e.apply(void 0,r):e[t].apply(e,r)},apply:function(t,r){return e.apply(t,r)},keys:function(){return ne(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function k(e){var t=d();return f.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.promise}function N(e){return g({isDef:function(){}},function(t,r){return U(e,t,r)},function(){return f(e).inspect()})}function R(e,t,r){return f(e).spread(t,r)}function D(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=r[e](t)}catch(e){return _(e)}return a.done?f(a.value):v(a.value,n,o)}try{a=r[e](t)}catch(e){return i(e)?f(e.value):_(e)}return v(a,n,o)}var r=e.apply(this,arguments),n=t.bind(t,"next"),o=t.bind(t,"throw");return n()}}function x(e){f.done(f.async(e)())}function L(e){throw new G(e)}function P(e){return function(){return R([this,O(arguments)],function(t,r){
return e.apply(t,r)})}}function U(e,t,r){return f(e).dispatch(t,r)}function O(e){return v(e,function(e){var t=0,r=d();return $(e,function(n,i,o){var a;C(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,v(i,function(n){e[o]=n,0===--t&&r.resolve(e)},r.reject,function(e){r.notify({index:o,value:e})}))},void 0),0===t&&r.resolve(e),r.promise})}function M(e){if(0===e.length)return f.resolve();var t=f.defer(),r=0;return $(e,function(n,i,o){function a(e){t.resolve(e)}function s(e){if(r--,0===r){var n=e||new Error(""+e);n.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+n.message,t.reject(n)}}function u(e){t.notify({index:o,value:e})}var c=e[o];r++,v(c,a,s,u)},void 0),t.promise}function j(e){return v(e,function(e){return e=Z(e,f),v(O(Z(e,function(e){return v(e,z,z)})),function(){return e})})}function V(e){return f(e).allSettled()}function F(e,t){return f(e).then(void 0,void 0,t)}function K(e,t){return f(e).nodeify(t)}var H=!1;try{throw new Error}catch(e){H=!!e.stack}var q,G,W=l(),z=function(){},X=function(){function e(){for(var e,t;i.next;)i=i.next,e=i.task,i.task=void 0,t=i.domain,t&&(i.domain=void 0,t.enter()),n(e,t);for(;c.length;)e=c.pop(),n(e);a=!1}function n(t,r){try{t()}catch(t){if(u)throw r&&r.exit(),setTimeout(e,0),r&&r.enter(),t;setTimeout(function(){throw t},0)}r&&r.exit()}var i={task:void 0,next:null},o=i,a=!1,s=void 0,u=!1,c=[];if(X=function(e){o=o.next={task:e,domain:u&&t.domain,next:null},a||(a=!0,s())},"object"==typeof t&&"[object process]"===t.toString()&&t.nextTick)u=!0,s=function(){t.nextTick(e)};else if("function"==typeof r)s="undefined"!=typeof window?r.bind(window,e):function(){r(e)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){s=p,l.port1.onmessage=e,e()};var p=function(){l.port2.postMessage(0)};s=function(){setTimeout(e,0),p()}}else s=function(){setTimeout(e,0)};return X.runAfter=function(e){c.push(e),a||(a=!0,s())},X}(),Y=Function.call,Q=e(Array.prototype.slice),$=e(Array.prototype.reduce||function(e,t){var r=0,n=this.length;if(1===arguments.length)for(;;){if(r in this){t=this[r++];break}if(++r>=n)throw new TypeError}for(;r<n;r++)r in this&&(t=e(t,this[r],r));return t}),J=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Z=e(Array.prototype.map||function(e,t){var r=this,n=[];return $(r,function(i,o,a){n.push(e.call(t,o,a,r))},void 0),n}),ee=Object.create||function(e){function t(){}return t.prototype=e,new t},te=Object.defineProperty||function(e,t,r){return e[t]=r.value,e},re=e(Object.prototype.hasOwnProperty),ne=Object.keys||function(e){var t=[];for(var r in e)re(e,r)&&t.push(r);return t},ie=e(Object.prototype.toString);G="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var oe="From previous event:";f.resolve=f,f.nextTick=X,f.longStackSupport=!1;var ae=1;"object"==typeof t&&t&&t.env&&t.env.Q_DEBUG&&(f.longStackSupport=!0),f.defer=d,d.prototype.makeNodeResolver=function(){var e=this;return function(t,r){t?e.reject(t):arguments.length>2?e.resolve(Q(arguments,1)):e.resolve(r)}},f.Promise=h,f.promise=h,h.race=y,h.all=O,h.reject=_,h.resolve=f,f.passByCopy=function(e){return e},g.prototype.passByCopy=function(){return this},f.join=function(e,t){return f(e).join(t)},g.prototype.join=function(e){return f([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},f.race=y,g.prototype.race=function(){return this.then(f.race)},f.makePromise=g,g.prototype.toString=function(){return"[object Promise]"},g.prototype.then=function(e,t,r){function n(t){try{return"function"==typeof e?e(t):t}catch(e){return _(e)}}function i(e){if("function"==typeof t){o(e,s);try{return t(e)}catch(e){return _(e)}}return _(e)}function a(e){return"function"==typeof r?r(e):e}var s=this,u=d(),c=!1;return f.nextTick(function(){s.promiseDispatch(function(e){c||(c=!0,u.resolve(n(e)))},"when",[function(e){c||(c=!0,u.resolve(i(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,r=!1;try{t=a(e)}catch(e){if(r=!0,!f.onerror)throw e;f.onerror(e)}r||u.notify(t)}]),u.promise},f.tap=function(e,t){return f(e).tap(t)},g.prototype.tap=function(e){return e=f(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},f.when=v,g.prototype.thenResolve=function(e){return this.then(function(){return e})},f.thenResolve=function(e,t){return f(e).thenResolve(t)},g.prototype.thenReject=function(e){return this.then(function(){throw e})},f.thenReject=function(e,t){return f(e).thenReject(t)},f.nearer=m,f.isPromise=C,f.isPromiseAlike=E,f.isPending=S,g.prototype.isPending=function(){return"pending"===this.inspect().state},f.isFulfilled=T,g.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},f.isRejected=A,g.prototype.isRejected=function(){return"rejected"===this.inspect().state};var se=[],ue=[],ce=[],le=!0;f.resetUnhandledRejections=b,f.getUnhandledReasons=function(){return se.slice()},f.stopUnhandledRejectionTracking=function(){b(),le=!1},b(),f.reject=_,f.fulfill=B,f.master=N,f.spread=R,g.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},f.async=D,f.spawn=x,f.return=L,f.promised=P,f.dispatch=U,g.prototype.dispatch=function(e,t){var r=this,n=d();return f.nextTick(function(){r.promiseDispatch(n.resolve,e,t)}),n.promise},f.get=function(e,t){return f(e).dispatch("get",[t])},g.prototype.get=function(e){return this.dispatch("get",[e])},f.set=function(e,t,r){return f(e).dispatch("set",[t,r])},g.prototype.set=function(e,t){return this.dispatch("set",[e,t])},f.del=f.delete=function(e,t){return f(e).dispatch("delete",[t])},g.prototype.del=g.prototype.delete=function(e){return this.dispatch("delete",[e])},f.mapply=f.post=function(e,t,r){return f(e).dispatch("post",[t,r])},g.prototype.mapply=g.prototype.post=function(e,t){return this.dispatch("post",[e,t])},f.send=f.mcall=f.invoke=function(e,t){return f(e).dispatch("post",[t,Q(arguments,2)])},g.prototype.send=g.prototype.mcall=g.prototype.invoke=function(e){return this.dispatch("post",[e,Q(arguments,1)])},f.fapply=function(e,t){return f(e).dispatch("apply",[void 0,t])},g.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},f.try=f.fcall=function(e){return f(e).dispatch("apply",[void 0,Q(arguments,1)])},g.prototype.fcall=function(){return this.dispatch("apply",[void 0,Q(arguments)])},f.fbind=function(e){var t=f(e),r=Q(arguments,1);return function(){return t.dispatch("apply",[this,r.concat(Q(arguments))])}},g.prototype.fbind=function(){var e=this,t=Q(arguments);return function(){return e.dispatch("apply",[this,t.concat(Q(arguments))])}},f.keys=function(e){return f(e).dispatch("keys",[])},g.prototype.keys=function(){return this.dispatch("keys",[])},f.all=O,g.prototype.all=function(){return O(this)},f.any=M,g.prototype.any=function(){return M(this)},f.allResolved=p(j,"allResolved","allSettled"),g.prototype.allResolved=function(){return j(this)},f.allSettled=V,g.prototype.allSettled=function(){return this.then(function(e){return O(Z(e,function(e){function t(){return e.inspect()}return e=f(e),e.then(t,t)}))})},f.fail=f.catch=function(e,t){return f(e).then(void 0,t)},g.prototype.fail=g.prototype.catch=function(e){return this.then(void 0,e)},f.progress=F,g.prototype.progress=function(e){return this.then(void 0,void 0,e)},f.fin=f.finally=function(e,t){return f(e).finally(t)},g.prototype.fin=g.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=f(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},f.done=function(e,t,r,n){return f(e).done(t,r,n)},g.prototype.done=function(e,r,n){var i=function(e){f.nextTick(function(){if(o(e,a),!f.onerror)throw e;f.onerror(e)})},a=e||r||n?this.then(e,r,n):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),a.then(void 0,i)},f.timeout=function(e,t,r){return f(e).timeout(t,r)},g.prototype.timeout=function(e,t){var r=d(),n=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),r.reject(t)},e);return this.then(function(e){clearTimeout(n),r.resolve(e)},function(e){clearTimeout(n),r.reject(e)},r.notify),r.promise},f.delay=function(e,t){return void 0===t&&(t=e,e=void 0),f(e).delay(t)},g.prototype.delay=function(e){return this.then(function(t){var r=d();return setTimeout(function(){r.resolve(t)},e),r.promise})},f.nfapply=function(e,t){return f(e).nfapply(t)},g.prototype.nfapply=function(e){var t=d(),r=Q(e);return r.push(t.makeNodeResolver()),this.fapply(r).fail(t.reject),t.promise},f.nfcall=function(e){var t=Q(arguments,1);return f(e).nfapply(t)},g.prototype.nfcall=function(){var e=Q(arguments),t=d();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},f.nfbind=f.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=Q(arguments,1);return function(){var r=t.concat(Q(arguments)),n=d();return r.push(n.makeNodeResolver()),f(e).fapply(r).fail(n.reject),n.promise}},g.prototype.nfbind=g.prototype.denodeify=function(){var e=Q(arguments);return e.unshift(this),f.denodeify.apply(void 0,e)},f.nbind=function(e,t){var r=Q(arguments,2);return function(){function n(){return e.apply(t,arguments)}var i=r.concat(Q(arguments)),o=d();return i.push(o.makeNodeResolver()),f(n).fapply(i).fail(o.reject),o.promise}},g.prototype.nbind=function(){var e=Q(arguments,0);return e.unshift(this),f.nbind.apply(void 0,e)},f.nmapply=f.npost=function(e,t,r){return f(e).npost(t,r)},g.prototype.nmapply=g.prototype.npost=function(e,t){var r=Q(t||[]),n=d();return r.push(n.makeNodeResolver()),this.dispatch("post",[e,r]).fail(n.reject),n.promise},f.nsend=f.nmcall=f.ninvoke=function(e,t){var r=Q(arguments,2),n=d();return r.push(n.makeNodeResolver()),f(e).dispatch("post",[t,r]).fail(n.reject),n.promise},g.prototype.nsend=g.prototype.nmcall=g.prototype.ninvoke=function(e){var t=Q(arguments,1),r=d();return t.push(r.makeNodeResolver()),this.dispatch("post",[e,t]).fail(r.reject),r.promise},f.nodeify=K,g.prototype.nodeify=function(e){return e?void this.then(function(t){f.nextTick(function(){e(null,t)})},function(t){f.nextTick(function(){e(t)})}):this},f.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var pe=l();return f})}).call(t,r(21),r(22).setImmediate)},function(e,t,r){var n,i;n=[r(34),r(35)],i=function(e,t){var r;return r=function(){function r(){}return r.prototype.changePhone=function(r,n,i,o){var a,s;s=t.get().userId,a="/json/users/"+s+"/change_phone/request",e.postAuth(a,{new_cellphone:r,new_country_code:n},function(){return i()},o)},r.prototype.confirmChangePhone=function(r,n,i){var o,a;a=t.get().userId,o="/json/users/"+a+"/change_phone/confirm",e.postAuth(o,{pin:r},n,i)},r.prototype.requestConfirmationPin=function(r,n,i){var o,a;a=t.get().userId,o="/json/users/"+a+"/change_phone/request_pin",e.postAuth(o,{via:r},n,i)},r.prototype.changeEmail=function(r,n,i){var o,a;a=t.get().userId,o="/json/users/"+a+"/change_email/request",e.postAuth(o,{new_email:r},function(){return n()},i)},r.prototype.getUserInfo=function(r,n){var i,o,a;return i=t.get().deviceId,a=t.get().userId,o="/json/users/"+a+"/devices/"+i,e.getAuth(o,function(e){var t;return t={multiDevicesEnabled:e.multidevices_enabled,countryCode:e.country_code,cellphone:e.cellphone,email:e.email,userId:a},r(t)},n)},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(9),r(35),r(54),r(8),r(42),r(58)],i=function(e,t,r,n,i,o){var a;return a=function(){function a(){}return a.COMMON_PARAMS={api_key:e.API_KEY,locale:window.navigator.language},a.HTTP_GET="GET",a.HTTP_PUT="PUT",a.HTTP_POST="POST",a.parseResponse=function(e){var t;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){t=e,n.w(t)}return e},a.get=function(t,r,i,o,s){var u;return null==o&&(o={}),null==s&&(s=function(){}),u=this,a.request({url:e.SERVER_URL+t,params:a.getParams(o),type:a.HTTP_GET,success:function(e){return e=u.parseResponse(e),n.d(e),r(e)},error:function(e){return a.onFailedRequest(e.responseJSON,i)},beforeSend:s})},a.getAuth=function(e,r,n,i,o){var s,u;return null==i&&(i={}),null==o&&(o=function(){}),s=t.get(),u=s.getOtps(),i.otp1=u[0],i.otp2=u[1],i.otp3=u[2],i.device_id=s.deviceId,a.get(e,r,n,i,o)},a.post=function(t,r,i,o){return null==r&&(r={}),a.request({url:e.SERVER_URL+t,params:a.getParams(r),type:a.HTTP_POST,success:function(e){return n.d(e),i(e)},error:function(e){return a.onFailedRequest(e.responseJSON,o)}})},a.postAuth=function(e,r,n,i){var o;return null==r&&(r={}),o=t.get().getOtps(),r.otp1=o[0],r.otp2=o[1],r.otp3=o[2],r.device_id=t.get().deviceId,a.post(e,r,n,i)},a.put=function(t,r,i,o){return null==r&&(r={}),a.request({url:e.SERVER_URL+t,params:a.getParams(r),type:a.HTTP_PUT,success:function(e){return n.d(e),i(e)},error:function(e){return a.onFailedRequest(e.responseJSON,o)}})},a.putAuth=function(e,r,n,i){var o;return null==r&&(r={}),o=t.get().getOtps(),r.otp1=o[0],r.otp2=o[1],r.otp3=o[2],r.device_id=t.get().deviceId,a.put(e,r,n,i)},a.request=function(t){var o,a,s;return a="",o=t.beforeSend||function(){},s="undefined"==typeof t.processData||t.processData,i.ajax({url:t.url,data:t.params||{},type:t.type,processData:s,beforeSend:function(i,s){return a=s.url,n.d(t.type+": "+a),i.setRequestHeader("X-User-Agent",e.USER_AGENT),i.setRequestHeader("X-Authy-Device-App",e.getFlavor()),i.setRequestHeader("X-Authy-Private-IP",e.getPrivateIPS()),i.setRequestHeader("X-Authy-Request-ID",r.get().getSessionUUID()),o(i,s)},success:function(e){return n.d(t.type+" OK for: "+a),t.success(e)},error:function(e,r,i){return n.e(t.type+" FAILED for: "+a+"\nText Status: "+r+"\nError Thrown: "+i),t.error(e)}})},a.getParams=function(e){return i.extend({},a.COMMON_PARAMS,e)},a.camelizeResponse=function(e){var t,r,n;r={};for(t in e)n=e[t],!(n instanceof Object)||n instanceof Array?r[o(t)]=n:r[o(t)]=a.camelizeResponse(n);return r},a.onFailedRequest=function(e,t){return t(null!=e?e:{message:"It looks like there is no internet connection."})},a}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=[r(36),r(49),r(37),r(7),r(53),r(8)],i=function(e,t,r,n,i,a,s){var u;return u=function(){function s(){}var MasterTokenSingleton,u;return u=null,MasterTokenSingleton=function(){function MasterTokenSingleton(e,n,a){this.userId=e,this.deviceId=n,this.secretKey=a,this.cleanUpBeforeClose=o(this.cleanUpBeforeClose,this),this.otpGenerator=new t(this.secretKey,!1),i.subscribeToCloseAppEvent(this),r.addChangePasswordEventListener(this)}return MasterTokenSingleton.prototype.getOtps=function(e){return this.otpGenerator.getOtps(e)},MasterTokenSingleton.prototype.save=function(t){return null==t&&(t=function(){}),null!=this.secretKey&&null!=this.userId&&null!=this.deviceId?e.save("MasterToken",{userId:this.userId,deviceId:this.deviceId,secretKey:this.secretKey},t):(a.w("Skipping save for "+this.constructor.name+" since it hasn't been loaded into memory."),t())},MasterTokenSingleton.prototype.cleanUpBeforeClose=function(e){var t;return t=this,s.save(function(){return t.userId=null,t.deviceId=null,t.secretKey=null,e()})},MasterTokenSingleton}(),s.get=function(){return u},s.initialize=function(e,t,r){return null==u||null==u.secretKey||null==u.userId||null==u.deviceId?u=new MasterTokenSingleton(e,t,r):(u.userId=e,u.deviceId=t,u.secretKey=r)},s.save=function(e){if(null==e&&(e=function(){}),null!==u)return u.save(e)},s.load=function(t){return e.load("MasterToken",function(e){return null!=e&&null!=e.userId&&null!=e.deviceId&&null!=e.secretKey&&(s.initialize(e.userId,e.deviceId,e.secretKey),n.emit("master_token_loaded")),t(u)})},s.hasBeenCreated=function(t){e.hasKey("MasterToken",function(e){return t(e)})},s.setSecretKey=function(e){return u=new MasterTokenSingleton(u.userId,u.deviceId,e),s.save()},s}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(37),r(31),r(20),r(32)],i=function(e,t,r,n){var i;return i=function(){function r(){}return r.verifyEncriptionKeyIsLoaded=function(){if(!e.isLoaded())throw{name:"EncryptionKey not loaded",message:"For this class to function correctly you must call EncryptionKey.load first"}},r.save=function(n,i,o){var a,s,u,c;r.verifyEncriptionKeyIsLoaded(),c=e.get(),u=r.JSON_stringify(i),s=c.encrypt(u),a={crypto:s},t.save(n,a,o)},r.JSON_stringify=function(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})},r.load=function(i,o){var a;return a=n.defer(),t.loadObject(i,function(t){var n,i,s,u;return null==t?(o(null),void a.resolve(null)):(r.verifyEncriptionKeyIsLoaded(),u=e.get(),n=t.crypto,i=u.decrypt(n),s=JSON.parse(i),o(s),void a.resolve(s))}),a.promise},r.hasKey=function(e,r){t.loadObject(e,function(e){return r(null!=e)})},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(38),r(31),r(8),r(39),r(7),r(4)],i=function(e,t,r,n,i,o){var a;return a=function(){function a(){}var s,u;return a.STORAGE_KEY="authy.EncryptionKey",a.CHANGE_PWD_EVENT_LISTENERS=[],a.STORAGE_KEY_HAS_PWD="authy.HasSetPassword",a.USER_HAS_SET_PWD=null,a.DEFAULT_PASSWORD="123qweASD",u=null,s=function(){function n(t,n,i){var o,a;this.salt=n,null==i&&(i={}),o=i.fromData||!1,o?(this.key=i.key,this.verification=i.verification||this.encrypt(this.salt)):(a=i.keyLength||256,r.bm("Generating password"),this.key=e.generatePBKDF2Key(t,this.salt,{iterations:1e3,keySize:a,decodeSalt:!0}),r.bm("Generated"),this.verification=i.verification||this.encrypt(this.salt))}return n.prototype.save=function(e){var r;return null==e&&(e=function(){}),r={salt:this.salt,verification:this.verification},t.save(a.STORAGE_KEY,r,e)},n.prototype.encrypt=function(t){return e.encryptAESWithKey(this.key,t)},n.prototype.decrypt=function(t){return e.decryptAESWithKey(this.key,t)},n.prototype.decryptToHex=function(t){return e.toHex(this.decrypt(t))},n.prototype.cleanUpBeforeClose=function(e){var t;return t=this,this.save(function(){return t.salt=null,t.verification=null,t.key=null,e()})},n}(),a.create=function(t){var r;return r=e.generateSalt(),new s(t,r)},a.createDefaultKey=function(){return a.create(a.DEFAULT_PASSWORD)},a.createFromData=function(e,t,r){return new s("",t,{fromData:!0,verification:r,key:e})},a.isLoaded=function(){return null!=u&&null!=u.key},a.get=function(){return u},a.set=function(e){return u=e},a.hasBeenCreated=function(e){t.loadObject(a.STORAGE_KEY,function(t){return e(null!=t&&null!=t.salt)})},a.load=function(e,n,o){var c;return c=this,t.loadObject(a.STORAGE_KEY,function(t){return null!=t&&null!=t.salt?(r.d("Creating key from local storage"),u=new s(e,t.salt,{verification:t.verification}),o(u)):(r.d("Creating key for first time. Using default password: "+n),u=a.create(e),a.saveKey(u,n),o(u)),i.emit("encryption_key")})},a.saveKey=function(e,r,n){return null==n&&(n=function(){}),e.save(),t.save(a.STORAGE_KEY_HAS_PWD,{isDefaultPassword:r},n)},a.verifyPassword=function(e,t,n){return a.hasBeenCreated(function(i){if(i)return a.load(e,t,function(e){var t;try{return n(e.salt===e.decrypt(e.verification)?!0:!1)}catch(e){return t=e,r.e(t),n(!1)}});throw new o("Can't verify password if it hasn't been set for the first time")})},a.addChangePasswordEventListener=function(e){return a.CHANGE_PWD_EVENT_LISTENERS.push(e)},a.changePassword=function(e,r){return a.USER_HAS_SET_PWD=!0,t.save(a.STORAGE_KEY_HAS_PWD,{userHasSetPassword:a.USER_HAS_SET_PWD},function(){return u=a.create(e),u.save(function(){var e;return n.addCommonParam("hasPassword",!0),(e=function(t){var n;if(t<a.CHANGE_PWD_EVENT_LISTENERS.length){if(n=a.CHANGE_PWD_EVENT_LISTENERS[t],"function"==typeof n.save)return n.save(function(){return e(t+1)});throw new Error("The listener "+n.constructor.name+" must implement the method save")}return r()})(0)})})},a.userHasSetPassword=function(e){null!=a.USER_HAS_SET_PWD?e(a.USER_HAS_SET_PWD):t.loadObject(a.STORAGE_KEY_HAS_PWD,function(r){return null!=r&&null!=r.userHasSetPassword?(a.USER_HAS_SET_PWD=r.userHasSetPassword,e(a.USER_HAS_SET_PWD)):a.hasBeenCreated(function(n){return a.isUserMigrating(n,r)?(a.USER_HAS_SET_PWD=!0,t.save(a.STORAGE_KEY_HAS_PWD,{userHasSetPassword:a.USER_HAS_SET_PWD})):a.USER_HAS_SET_PWD=!1,e(a.USER_HAS_SET_PWD)})})},a.isUserMigrating=function(e,t){return(null==t||null==t.isDefaultPassword||!t.isDefaultPassword)&&!!e},a}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(20)],i=function(e){var t;return t=function(){function t(){}return t.PBKDF2_PARAMS={keySize:8,iterations:1e3},t.IV=e.util.decodeUtf8("\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"),t.encryptAES=function(e,t,r){var n;return n=this.generatePBKDF2Key(t,e,{iterations:1e3,keySize:256,decodeSalt:!1}),this.encryptAESWithKey(n,r)},t.decryptAES=function(e,t,r){var n;return n=this.generatePBKDF2Key(t,e,{iterations:1e3,keySize:256,decodeSalt:!1}),this.decryptAESWithKey(n,r)},t.encryptAESWithKey=function(r,n){var i,o;return o=e.util.createBuffer(r),i=e.aes.createEncryptionCipher(o,"CBC"),i.start(e.util.createBuffer(t.IV)),i.update(e.util.createBuffer(n)),i.finish()?e.util.encode64(i.output.data):null},t.decryptAESWithKey=function(r,n){var i,o,a;return a=e.util.createBuffer(r),i=e.aes.createDecryptionCipher(a,"CBC"),i.start(e.util.createBuffer(t.IV)),o=e.util.createBuffer(e.util.decode64(n)),i.update(o),i.finish()?i.output.data:null},t.generatePBKDF2Key=function(t,r,n){var i,o,a;if(null==n&&(n={}),"string"!=typeof r)throw{name:"Illegal Argument",message:"salt must be a string"};return i=n.iterations||1e3,o=(n.keySize||256)/8,null===n.decodeSalt&&(n.decodeSalt=!0),n.decodeSalt===!0&&(r=e.util.hexToBytes(r)),a=e.pkcs5.pbkdf2(t,r,i,o)},t.generateSHA256=function(t){var r;if("string"!=typeof t)throw new Error("Message must be a string");return r=e.md.sha256.create(),r.update(t),r.digest().toHex()},t.generateSalt=function(t){var r;return null==t&&(t=256),r=e.random.getBytesSync(t/8),e.util.createBuffer(r).toHex()},t.generateHmacSHA1=function(t,r){var n;return n=e.hmac.create(),n.start("sha1",r),n.update(t),n.digest().toHex()},t.generateHmacSHA256=function(t,r){var n;return n=e.hmac.create(),n.start("sha256",r),n.update(t),e.util.encode64(n.digest().getBytes())},t.SHA256withRSA=function(t,r){var n,i,o;return i=e.pki.privateKeyFromPem(r),n=e.md.sha256.create(),n.update(t,"utf8"),o=i.sign(n),e.util.encode64(o)},t.toHex=function(t){return e.util.createBuffer(t).toHex()},t.fromHex=function(t){return e.util.hexToBytes(t)},t.rsaKeyPair=function(t){return e.pki.rsa.generateKeyPair({bits:2048,workers:-1,e:65537},function(e,r){return t(r)})},t.rsaKeyPairJSON=function(r){var n;return n=t.rsaKeyPair(function(t){return r({publicKey:e.pki.publicKeyToPem(t.publicKey),privateKey:e.pki.privateKeyToPem(t.privateKey)})})},t.getNonce=function(){return(new Date).getTime()},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=[r(40),r(41),r(8),r(42),r(10),r(43),r(48)],i=function(e,t,r,n,i,a,s){var u;return u=function(){function r(e){this.where=null!=e?e:"body",this.getCommonParams=o(this.getCommonParams,this),this.render=o(this.render,this),this.template=null,this.output=null,this.partials=null,this.modelClone=null,this.cachingEnabled=!1,this.cacheValid=!0}return r.MUSTACHES_LOCATION="ui/mustaches",r.PARTIALS_CACHE={},r.COMMON_VIEW_PARAMS={},r.prototype.render=function(e,t){var r,i;return null==t&&(t=function(){}),r=this,i=this.getTemplateName(),this.cachingEnabled===!1?null!=r.partials?r.loadPartials(function(n){return r.loadTemplate(function(i){return r.renderMustache(i,e,t,n)})}):r.loadTemplate(function(n){return r.renderMustache(n,e,t)}):this.shouldIgnoreCache(e)?(null!=r.partials?r.loadPartials(function(n){return r.loadTemplate(function(i){return r.renderMustache(i,e,t,n)})}):r.loadTemplate(function(n){return r.renderMustache(n,e,t)}),r.modelClone=n.extend(!0,{},e),r.cacheValid=!0):void 0},r.prototype.renderMustache=function(e,t,r,i){var o,a,u,c,l;if(null==i&&(i={}),u=this.getCommonParams(t),this.output=s.render(e,u,i),n(this.where).html(this.output),null!=this.partials)for(l=this.partials,o=0,a=l.length;o<a;o++)c=l[o],c.update();return this.update(u),r()},r.prototype.getCommonParams=function(e){var t;return t={shouldDisplayNotifIcon:!r.COMMON_VIEW_PARAMS.hasPassword||r.COMMON_VIEW_PARAMS.hasDeviceRequest},n.extend({},e,r.COMMON_VIEW_PARAMS,t)},r.prototype.shouldIgnoreCache=function(e){var t,r;return t=!this.cacheValid,r=i.isEqual(e,this.modelClone),!r||t},r.prototype.invalidateCache=function(){return this.cacheValid=!1},r.prototype.loadFile=function(e,t){return n.get(e,{}).success(function(e){return t(e)})},r.prototype.loadPartials=function(e){var t,n,i;return i=this,n={},(t=function(o){var a,s,u;return o<i.partials.length?(a=i.partials[o].getPartialName(),s=i.partials[o].getPartialLocation(),u=i.partials[o],u.setPartialParent(i.getTemplateName()),u.template&&r.addPartialToCache(a,u.template),r.isPartialLoaded(a)?(n[a]=r.getPartial(a),t(o+1)):i.loadFile(s,function(e){return n[a]=e,r.addPartialToCache(a,e),t(o+1)})):e(n)})(0)},r.prototype.loadTemplate=function(e){var t;return t=this,this.isTemplateLoaded()?e(this.template):this.loadFile(this.getTemplateLocation()+"/"+this.getTemplateName()+".mustache",function(r){return t.template=r,e(r)})},r.prototype.onLoad=function(e){this.isTemplateLoaded()?e():this.loadTemplate(e)},r.prototype.getTemplateLocation=function(){return r.MUSTACHES_LOCATION},r.prototype.update=function(t){throw new e},r.prototype.getTemplateName=function(){return a(this.constructor.name).replace("_view","_screen")},r.prototype.isTemplateLoaded=function(){return null!=this.template},r.prototype.bindClickAndEnterEvents=function(e,r,n,i){var o,a;return null==i&&(i=!1),a=function(i){if(t.isEnter(i))return e.blur(),n(i,e,r,!1,a)},o=function(t){return n(t,e,r,!0,o)},e.on("keyup.clickAndEnter",a),r.on("click.clickAndEnter",o)},r.prototype.unbindClickAndEnterEvents=function(e,t,r){return e.off("keyup.clickAndEnter",r),t.off("click.clickAndEnter",r)},r.prototype.bindEnterEvent=function(e,r){return e.on("keyup",function(e){if(t.isEnter(e))return r(e,this)})},r.addCommonParam=function(e,t){return r.COMMON_VIEW_PARAMS[e]=t},r.isPartialLoaded=function(e){return e in r.PARTIALS_CACHE},r.addPartialToCache=function(e,t){r.PARTIALS_CACHE[e]=t},r.getPartial=function(e){return r.PARTIALS_CACHE[e]},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(4)],i=function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){var e;return e=function(){function e(){}return e.ENTER=13,e.C=67,e.isEnter=function(t){var r;return r=t.keyCode||t.which,r===e.ENTER},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;!function(t,r){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,o){function a(e){var t=!!e&&"length"in e&&e.length,r=ce.type(e);return"function"!==r&&!ce.isWindow(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,r){if(ce.isFunction(t))return ce.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return ce.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(Ce.test(t))return ce.filter(t,e,r);t=ce.filter(t,e)}return ce.grep(e,function(e){return ne.call(t,e)>-1!==r})}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t={};return ce.each(e.match(Ie)||[],function(e,r){t[r]=!0}),t}function l(){Z.removeEventListener("DOMContentLoaded",l),r.removeEventListener("load",l),ce.ready()}function p(){this.expando=ce.expando+p.uid++}function f(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(De,"-$&").toLowerCase(),r=e.getAttribute(n),"string"==typeof r){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:Re.test(r)?ce.parseJSON(r):r)}catch(e){}Ne.set(e,t,r)}else r=void 0;return r}function d(e,t,r,n){var i,o=1,a=20,s=n?function(){return n.cur()}:function(){return ce.css(e,t,"")},u=s(),c=r&&r[3]||(ce.cssNumber[t]?"":"px"),l=(ce.cssNumber[t]||"px"!==c&&+u)&&Le.exec(ce.css(e,t));if(l&&l[3]!==c){c=c||l[3],r=r||[],l=+u||1;do o=o||".5",l/=o,ce.style(e,t,l+c);while(o!==(o=s()/u)&&1!==o&&--a)}return r&&(l=+l||+u||0,i=r[1]?l+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=l,n.end=i)),i}function h(e,t){var r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ce.nodeName(e,t)?ce.merge([e],r):r}function y(e,t){for(var r=0,n=e.length;r<n;r++)ke.set(e[r],"globalEval",!t||ke.get(t[r],"globalEval"))}function g(e,t,r,n,i){for(var o,a,s,u,c,l,p=t.createDocumentFragment(),f=[],d=0,g=e.length;d<g;d++)if(o=e[d],o||0===o)if("object"===ce.type(o))ce.merge(f,o.nodeType?[o]:o);else if(Fe.test(o)){for(a=a||p.appendChild(t.createElement("div")),s=(Me.exec(o)||["",""])[1].toLowerCase(),u=Ve[s]||Ve._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;ce.merge(f,a.childNodes),a=p.firstChild,a.textContent=""}else f.push(t.createTextNode(o));for(p.textContent="",d=0;o=f[d++];)if(n&&ce.inArray(o,n)>-1)i&&i.push(o);else if(c=ce.contains(o.ownerDocument,o),a=h(p.appendChild(o),"script"),c&&y(a),r)for(l=0;o=a[l++];)je.test(o.type||"")&&r.push(o);return p}function v(){return!0}function m(){return!1}function C(){try{return Z.activeElement}catch(e){}}function E(e,t,r,n,i,o){var a,s;if("object"==typeof t){"string"!=typeof r&&(n=n||r,r=void 0);for(s in t)E(e,s,r,n,t[s],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),i===!1)i=m;else if(!i)return e;return 1===o&&(a=i,i=function(e){return ce().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,n,r)})}function S(e,t){return ce.nodeName(e,"table")&&ce.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function T(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){var t=Xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){var r,n,i,o,a,s,u,c;if(1===t.nodeType){if(ke.hasData(e)&&(o=ke.access(e),a=ke.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(r=0,n=c[i].length;r<n;r++)ce.event.add(t,i,c[i][r])}Ne.hasData(e)&&(s=Ne.access(e),u=ce.extend({},s),Ne.set(t,u))}}function I(e,t){var r=t.nodeName.toLowerCase();"input"===r&&Oe.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function w(e,t,r,n){t=te.apply([],t);var i,o,a,s,u,c,l=0,p=e.length,f=p-1,d=t[0],y=ce.isFunction(d);if(y||p>1&&"string"==typeof d&&!se.checkClone&&ze.test(d))return e.each(function(i){var o=e.eq(i);y&&(t[0]=d.call(this,i,o.html())),w(o,t,r,n)});if(p&&(i=g(t,e[0].ownerDocument,!1,e,n),o=i.firstChild,1===i.childNodes.length&&(i=o),o||n)){for(a=ce.map(h(i,"script"),T),s=a.length;l<p;l++)u=i,l!==f&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,h(u,"script"))),r.call(e[l],u,l);if(s)for(c=a[a.length-1].ownerDocument,ce.map(a,A),l=0;l<s;l++)u=a[l],je.test(u.type||"")&&!ke.access(u,"globalEval")&&ce.contains(c,u)&&(u.src?ce._evalUrl&&ce._evalUrl(u.src):ce.globalEval(u.textContent.replace(Ye,"")))}return e}function _(e,t,r){for(var n,i=t?ce.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||ce.cleanData(h(n)),n.parentNode&&(r&&ce.contains(n.ownerDocument,n)&&y(h(n,"script")),
n.parentNode.removeChild(n));return e}function B(e,t){var r=ce(t.createElement(e)).appendTo(t.body),n=ce.css(r[0],"display");return r.detach(),n}function k(e){var t=Z,r=$e[e];return r||(r=B(e,t),"none"!==r&&r||(Qe=(Qe||ce("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Qe[0].contentDocument,t.write(),t.close(),r=B(e,t),Qe.detach()),$e[e]=r),r}function N(e,t,r){var n,i,o,a,s=e.style;return r=r||et(e),a=r?r.getPropertyValue(t)||r[t]:void 0,""!==a&&void 0!==a||ce.contains(e.ownerDocument,e)||(a=ce.style(e,t)),r&&!se.pixelMarginRight()&&Ze.test(a)&&Je.test(t)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e){if(e in st)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=at.length;r--;)if(e=at[r]+t,e in st)return e}function x(e,t,r){var n=Le.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function L(e,t,r,n,i){for(var o=r===(n?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===r&&(a+=ce.css(e,r+Pe[o],!0,i)),n?("content"===r&&(a-=ce.css(e,"padding"+Pe[o],!0,i)),"margin"!==r&&(a-=ce.css(e,"border"+Pe[o]+"Width",!0,i))):(a+=ce.css(e,"padding"+Pe[o],!0,i),"padding"!==r&&(a+=ce.css(e,"border"+Pe[o]+"Width",!0,i)));return a}function P(e,t,r){var n=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),a="border-box"===ce.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=N(e,t,o),(i<0||null==i)&&(i=e.style[t]),Ze.test(i))return i;n=a&&(se.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+L(e,t,r||(a?"border":"content"),n,o)+"px"}function U(e,t){for(var r,n,i,o=[],a=0,s=e.length;a<s;a++)n=e[a],n.style&&(o[a]=ke.get(n,"olddisplay"),r=n.style.display,t?(o[a]||"none"!==r||(n.style.display=""),""===n.style.display&&Ue(n)&&(o[a]=ke.access(n,"olddisplay",k(n.nodeName)))):(i=Ue(n),"none"===r&&i||ke.set(n,"olddisplay",i?r:ce.css(n,"display"))));for(a=0;a<s;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"));return e}function O(e,t,r,n,i){return new O.prototype.init(e,t,r,n,i)}function M(){return r.setTimeout(function(){ut=void 0}),ut=ce.now()}function j(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)r=Pe[n],i["margin"+r]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function V(e,t,r){for(var n,i=(H.tweeners[t]||[]).concat(H.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,t,e))return n}function F(e,t,r){var n,i,o,a,s,u,c,l,p=this,f={},d=e.style,h=e.nodeType&&Ue(e),y=ke.get(e,"fxshow");r.queue||(s=ce._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,ce.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],c=ce.css(e,"display"),l="none"===c?ke.get(e,"olddisplay")||k(e.nodeName):c,"inline"===l&&"none"===ce.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(n in t)if(i=t[n],lt.exec(i)){if(delete t[n],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!y||void 0===y[n])continue;h=!0}f[n]=y&&y[n]||ce.style(e,n)}else c=void 0;if(ce.isEmptyObject(f))"inline"===("none"===c?k(e.nodeName):c)&&(d.display=c);else{y?"hidden"in y&&(h=y.hidden):y=ke.access(e,"fxshow",{}),o&&(y.hidden=!h),h?ce(e).show():p.done(function(){ce(e).hide()}),p.done(function(){var t;ke.remove(e,"fxshow");for(t in f)ce.style(e,t,f[t])});for(n in f)a=V(h?y[n]:0,n,p),n in y||(y[n]=a.start,h&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function K(e,t){var r,n,i,o,a;for(r in e)if(n=ce.camelCase(r),i=t[n],o=e[r],ce.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),a=ce.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete e[n];for(r in o)r in e||(e[r]=o[r],t[r]=i)}else t[n]=i}function H(e,t,r){var n,i,o=0,a=H.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ut||M(),r=Math.max(0,c.startTime+c.duration-t),n=r/c.duration||0,o=1-n,a=0,u=c.tweens.length;a<u;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,r]),o<1&&u?r:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ce.extend({},t),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},r),originalProperties:t,originalOptions:r,startTime:ut||M(),duration:r.duration,tweens:[],createTween:function(t,r){var n=ce.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var r=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)c.tweens[r].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(K(l,c.opts.specialEasing);o<a;o++)if(n=H.prefilters[o].call(c,e,l,c.opts))return ce.isFunction(n.stop)&&(ce._queueHooks(c.elem,c.opts.queue).stop=ce.proxy(n.stop,n)),n;return ce.map(l,V,c),ce.isFunction(c.opts.start)&&c.opts.start.call(e,c),ce.fx.timer(ce.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(Ie)||[];if(ce.isFunction(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function W(e,t,r,n){function i(s){var u;return o[s]=!0,ce.each(e[s]||[],function(e,s){var c=s(t,r,n);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===Nt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function z(e,t){var r,n,i=ce.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ce.extend(!0,e,n),e}function X(e,t,r){for(var n,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){u.unshift(i);break}if(u[0]in r)o=u[0];else{for(i in r){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),r[o]}function Y(e,t,r,n){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Q(e,t,r,n){var i;if(ce.isArray(t))ce.each(t,function(t,i){r||Lt.test(e)?n(e,i):Q(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)});else if(r||"object"!==ce.type(t))n(e,t);else for(i in t)Q(e+"["+i+"]",t[i],r,n)}function $(e){return ce.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],Z=r.document,ee=J.slice,te=J.concat,re=J.push,ne=J.indexOf,ie={},oe=ie.toString,ae=ie.hasOwnProperty,se={},ue="2.2.4",ce=function(e,t){return new ce.fn.init(e,t)},le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,fe=/-([\da-z])/gi,de=function(e,t){return t.toUpperCase()};ce.fn=ce.prototype={jquery:ue,constructor:ce,selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ee.call(this)},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ce.each(this,e)},map:function(e){return this.pushStack(ce.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:J.sort,splice:J.splice},ce.extend=ce.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ce.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],n=e[t],a!==n&&(c&&n&&(ce.isPlainObject(n)||(i=ce.isArray(n)))?(i?(i=!1,o=r&&ce.isArray(r)?r:[]):o=r&&ce.isPlainObject(r)?r:{},a[t]=ce.extend(c,o,n)):void 0!==n&&(a[t]=n));return a},ce.extend({expando:"jQuery"+(ue+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ce.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ce.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ce.type(e)||e.nodeType||ce.isWindow(e))return!1;if(e.constructor&&!ae.call(e,"constructor")&&!ae.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ae.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ie[oe.call(e)]||"object":typeof e},globalEval:function(e){var t,r=eval;e=ce.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):r(e))},camelCase:function(e){return e.replace(pe,"ms-").replace(fe,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,n=0;if(a(e))for(r=e.length;n<r&&t.call(e[n],n,e[n])!==!1;n++);else for(n in e)if(t.call(e[n],n,e[n])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(le,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(a(Object(e))?ce.merge(r,"string"==typeof e?[e]:e):re.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:ne.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n,i=[],o=0,a=e.length,s=!r;o<a;o++)n=!t(e[o],o),n!==s&&i.push(e[o]);return i},map:function(e,t,r){var n,i,o=0,s=[];if(a(e))for(n=e.length;o<n;o++)i=t(e[o],o,r),null!=i&&s.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&s.push(i);return te.apply([],s)},guid:1,proxy:function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),ce.isFunction(e))return n=ee.call(arguments,2),i=function(){return e.apply(t||this,n.concat(ee.call(arguments)))},i.guid=e.guid=e.guid||ce.guid++,i},now:Date.now,support:se}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=J[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ie["[object "+t+"]"]=t.toLowerCase()});var he=function(e){function t(e,t,r,n){var i,o,a,s,u,c,p,d,h=t&&t.ownerDocument,y=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return r;if(!n&&((t?t.ownerDocument||t:V)!==D&&R(t),t=t||D,L)){if(11!==y&&(c=ve.exec(e)))if(i=c[1]){if(9===y){if(!(a=t.getElementById(i)))return r;if(a.id===i)return r.push(a),r}else if(h&&(a=h.getElementById(i))&&M(t,a)&&a.id===i)return r.push(a),r}else{if(c[2])return J.apply(r,t.getElementsByTagName(e)),r;if((i=c[3])&&S.getElementsByClassName&&t.getElementsByClassName)return J.apply(r,t.getElementsByClassName(i)),r}if(S.qsa&&!G[e+" "]&&(!P||!P.test(e))){if(1!==y)h=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(Ce,"\\$&"):t.setAttribute("id",s=j),p=I(e),o=p.length,u=fe.test(s)?"#"+s:"[id='"+s+"']";o--;)p[o]=u+" "+f(p[o]);d=p.join(","),h=me.test(e)&&l(t.parentNode)||t}if(d)try{return J.apply(r,h.querySelectorAll(d)),r}catch(e){}finally{s===j&&t.removeAttribute("id")}}}return _(e.replace(se,"$1"),t,r,n)}function r(){function e(r,n){return t.push(r+" ")>T.cacheLength&&delete e[t.shift()],e[r+" "]=n}var t=[];return e}function n(e){return e[j]=!0,e}function i(e){var t=D.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var r=e.split("|"),n=r.length;n--;)T.attrHandle[r[n]]=t}function a(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function s(e){return function(t){var r=t.nodeName.toLowerCase();return"input"===r&&t.type===e}}function u(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(r,n){for(var i,o=e([],r.length,t),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function f(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function d(e,t,r){var n=t.dir,i=r&&"parentNode"===n,o=K++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||i)return e(t,r,o)}:function(t,r,a){var s,u,c,l=[F,o];if(a){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,r,a))return!0}else for(;t=t[n];)if(1===t.nodeType||i){if(c=t[j]||(t[j]={}),u=c[t.uniqueID]||(c[t.uniqueID]={}),(s=u[n])&&s[0]===F&&s[1]===o)return l[2]=s[2];if(u[n]=l,l[2]=e(t,r,a))return!0}}}function h(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function y(e,r,n){for(var i=0,o=r.length;i<o;i++)t(e,r[i],n);return n}function g(e,t,r,n,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(r&&!r(o,n,i)||(a.push(o),c&&t.push(s)));return a}function v(e,t,r,i,o,a){return i&&!i[j]&&(i=v(i)),o&&!o[j]&&(o=v(o,a)),n(function(n,a,s,u){var c,l,p,f=[],d=[],h=a.length,v=n||y(t||"*",s.nodeType?[s]:s,[]),m=!e||!n&&t?v:g(v,f,e,s,u),C=r?o||(n?e:h||i)?[]:a:m;if(r&&r(m,C,s,u),i)for(c=g(C,d),i(c,[],s,u),l=c.length;l--;)(p=c[l])&&(C[d[l]]=!(m[d[l]]=p));if(n){if(o||e){if(o){for(c=[],l=C.length;l--;)(p=C[l])&&c.push(m[l]=p);o(null,C=[],c,u)}for(l=C.length;l--;)(p=C[l])&&(c=o?ee(n,p):f[l])>-1&&(n[c]=!(a[c]=p))}}else C=g(C===a?C.splice(h,C.length):C),o?o(null,a,C,u):J.apply(a,C)})}function m(e){for(var t,r,n,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),c=d(function(e){return ee(t,e)>-1},a,!0),l=[function(e,r,n){var i=!o&&(n||r!==B)||((t=r).nodeType?u(e,r,n):c(e,r,n));return t=null,i}];s<i;s++)if(r=T.relative[e[s].type])l=[d(h(l),r)];else{if(r=T.filter[e[s].type].apply(null,e[s].matches),r[j]){for(n=++s;n<i&&!T.relative[e[n].type];n++);return v(s>1&&h(l),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),r,s<n&&m(e.slice(s,n)),n<i&&m(e=e.slice(n)),n<i&&f(e))}l.push(r)}return h(l)}function C(e,r){var i=r.length>0,o=e.length>0,a=function(n,a,s,u,c){var l,p,f,d=0,h="0",y=n&&[],v=[],m=B,C=n||o&&T.find.TAG("*",c),E=F+=null==m?1:Math.random()||.1,S=C.length;for(c&&(B=a===D||a||c);h!==S&&null!=(l=C[h]);h++){if(o&&l){for(p=0,a||l.ownerDocument===D||(R(l),s=!L);f=e[p++];)if(f(l,a||D,s)){u.push(l);break}c&&(F=E)}i&&((l=!f&&l)&&d--,n&&y.push(l))}if(d+=h,i&&h!==d){for(p=0;f=r[p++];)f(y,v,a,s);if(n){if(d>0)for(;h--;)y[h]||v[h]||(v[h]=Q.call(u));v=g(v)}J.apply(u,v),c&&!n&&v.length>0&&d+r.length>1&&t.uniqueSort(u)}return c&&(F=E,B=m),y};return i?n(a):a}var E,S,T,A,b,I,w,_,B,k,N,R,D,x,L,P,U,O,M,j="sizzle"+1*new Date,V=e.document,F=0,K=0,H=r(),q=r(),G=r(),W=function(e,t){return e===t&&(N=!0),0},z=1<<31,X={}.hasOwnProperty,Y=[],Q=Y.pop,$=Y.push,J=Y.push,Z=Y.slice,ee=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+re+"*("+ne+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+re+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(re+"+","g"),se=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ue=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),le=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),pe=new RegExp(oe),fe=new RegExp("^"+ne+"$"),de={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,Ce=/'|\\/g,Ee=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Se=function(e,t,r){var n="0x"+t-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Te=function(){R()};try{J.apply(Y=Z.call(V.childNodes),V.childNodes),Y[V.childNodes.length].nodeType}catch(e){J={apply:Y.length?function(e,t){$.apply(e,Z.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}S=t.support={},b=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},R=t.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:V;return n!==D&&9===n.nodeType&&n.documentElement?(D=n,x=D.documentElement,L=!b(D),(r=D.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Te,!1):r.attachEvent&&r.attachEvent("onunload",Te)),S.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=i(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=ge.test(D.getElementsByClassName),S.getById=i(function(e){return x.appendChild(e).id=j,!D.getElementsByName||!D.getElementsByName(j).length}),S.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var r=t.getElementById(e);return r?[r]:[]}},T.filter.ID=function(e){var t=e.replace(Ee,Se);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(Ee,Se);return function(e){var r="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}}),T.find.TAG=S.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):S.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},T.find.CLASS=S.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&L)return t.getElementsByClassName(e)},U=[],P=[],(S.qsa=ge.test(D.querySelectorAll))&&(i(function(e){x.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+re+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(S.matchesSelector=ge.test(O=x.matches||x.webkitMatchesSelector||x.mozMatchesSelector||x.oMatchesSelector||x.msMatchesSelector))&&i(function(e){S.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),U.push("!=",oe)}),P=P.length&&new RegExp(P.join("|")),U=U.length&&new RegExp(U.join("|")),t=ge.test(x.compareDocumentPosition),M=t||ge.test(x.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return N=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!S.sortDetached&&t.compareDocumentPosition(e)===r?e===D||e.ownerDocument===V&&M(V,e)?-1:t===D||t.ownerDocument===V&&M(V,t)?1:k?ee(k,e)-ee(k,t):0:4&r?-1:1)}:function(e,t){if(e===t)return N=!0,0;var r,n=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===D?-1:t===D?1:i?-1:o?1:k?ee(k,e)-ee(k,t):0;if(i===o)return a(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;s[n]===u[n];)n++;return n?a(s[n],u[n]):s[n]===V?-1:u[n]===V?1:0},D):D},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==D&&R(e),r=r.replace(le,"='$1']"),S.matchesSelector&&L&&!G[r+" "]&&(!U||!U.test(r))&&(!P||!P.test(r)))try{var n=O.call(e,r);if(n||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(r,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&R(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&R(e);var r=T.attrHandle[t.toLowerCase()],n=r&&X.call(T.attrHandle,t.toLowerCase())?r(e,t,!L):void 0;return void 0!==n?n:S.attributes||!L?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],n=0,i=0;if(N=!S.detectDuplicates,k=!S.sortStable&&e.slice(0),e.sort(W),N){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)e.splice(r[n],1)}return k=null,e},A=t.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=A(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=A(t);return r},T=t.selectors={cacheLength:50,createPseudo:n,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ee,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(Ee,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&pe.test(r)&&(t=I(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ee,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,n){return function(i){var o=t.attr(i,e);return null==o?"!="===r:!r||(o+="","="===r?o===n:"!="===r?o!==n:"^="===r?n&&0===o.indexOf(n):"*="===r?n&&o.indexOf(n)>-1:"$="===r?n&&o.slice(-n.length)===n:"~="===r?(" "+o.replace(ae," ")+" ").indexOf(n)>-1:"|="===r&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,u){var c,l,p,f,d,h,y=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,C=!1;if(g){if(o){for(;y;){for(f=t;f=f[y];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=y="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&m){for(f=g,p=f[j]||(f[j]={}),l=p[f.uniqueID]||(p[f.uniqueID]={}),c=l[e]||[],d=c[0]===F&&c[1],C=d&&c[2],f=d&&g.childNodes[d];f=++d&&f&&f[y]||(C=d=0)||h.pop();)if(1===f.nodeType&&++C&&f===t){l[e]=[F,d,C];break}}else if(m&&(f=t,p=f[j]||(f[j]={}),l=p[f.uniqueID]||(p[f.uniqueID]={}),c=l[e]||[],d=c[0]===F&&c[1],C=d),C===!1)for(;(f=++d&&f&&f[y]||(C=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++C||(m&&(p=f[j]||(f[j]={}),l=p[f.uniqueID]||(p[f.uniqueID]={}),l[e]=[F,C]),f!==t)););return C-=i,C===n||C%n===0&&C/n>=0}}},PSEUDO:function(e,r){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[j]?o(r):o.length>1?(i=[e,e,"",r],T.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,i=o(e,r),a=i.length;a--;)n=ee(e,i[a]),e[n]=!(t[n]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:n(function(e){var t=[],r=[],i=w(e.replace(se,"$1"));return i[j]?n(function(e,t,r,n){for(var o,a=i(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,n,o){return t[0]=e,i(t,null,o,r),t[0]=null,!r.pop()}}),has:n(function(e){return function(r){return t(e,r).length>0}}),contains:n(function(e){return e=e.replace(Ee,Se),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:n(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ee,Se).toLowerCase(),function(t){var r;do if(r=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return r=r.toLowerCase(),r===e||0===r.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===x},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ye.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,r){return[r<0?r+t:r]}),even:c(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:c(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:c(function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e}),gt:c(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}},T.pseudos.nth=T.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})T.pseudos[E]=u(E);return p.prototype=T.filters=T.pseudos,T.setFilters=new p,I=t.tokenize=function(e,r){var n,i,o,a,s,u,c,l=q[e+" "];if(l)return r?0:l.slice(0);for(s=e,u=[],c=T.preFilter;s;){n&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=ce.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(se," ")}),s=s.slice(n.length));for(a in T.filter)!(i=de[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return r?s.length:s?t.error(e):q(e,u).slice(0)},w=t.compile=function(e,t){var r,n=[],i=[],o=G[e+" "];if(!o){for(t||(t=I(e)),r=t.length;r--;)o=m(t[r]),o[j]?n.push(o):i.push(o);o=G(e,C(i,n)),o.selector=e}return o},_=t.select=function(e,t,r,n){var i,o,a,s,u,c="function"==typeof e&&e,p=!n&&I(e=c.selector||e);if(r=r||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&S.getById&&9===t.nodeType&&L&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(Ee,Se),t)||[])[0],!t)return r;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(n=u(a.matches[0].replace(Ee,Se),me.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),e=n.length&&f(o),!e)return J.apply(r,n),r;break}}return(c||w(e,p))(n,t,!L,r,!t||me.test(e)&&l(t.parentNode)||t),r},S.sortStable=j.split("").sort(W).join("")===j,S.detectDuplicates=!!N,R(),S.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),S.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,r){var n;if(!r)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(r);ce.find=he,ce.expr=he.selectors,ce.expr[":"]=ce.expr.pseudos,ce.uniqueSort=ce.unique=he.uniqueSort,ce.text=he.getText,ce.isXMLDoc=he.isXML,ce.contains=he.contains;var ye=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ce(e).is(r))break;n.push(e)}return n},ge=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},ve=ce.expr.match.needsContext,me=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ce=/^.[^:#\[\.,]*$/;ce.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ce.find.matchesSelector(n,e)?[n]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,r=this.length,n=[],i=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(t=0;t<r;t++)ce.find(e,i[t],n);return n=this.pushStack(r>1?ce.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ve.test(e)?ce(e):e||[],!1).length}});var Ee,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Te=ce.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||Ee,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Se.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),me.test(n[1])&&ce.isPlainObject(t))for(n in t)ce.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Z.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ce.isFunction(e)?void 0!==r.ready?r.ready(e):e(ce):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ce.makeArray(e,this))};Te.prototype=ce.fn,Ee=ce(Z);var Ae=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};ce.fn.extend({has:function(e){var t=ce(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,n=0,i=this.length,o=[],a=ve.test(e)||"string"!=typeof e?ce(e,t||this.context):0;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&ce.find.matchesSelector(r,e))){
o.push(r);break}return this.pushStack(o.length>1?ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ne.call(ce(e),this[0]):ne.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,r){return ye(e,"parentNode",r)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,r){return ye(e,"nextSibling",r)},prevUntil:function(e,t,r){return ye(e,"previousSibling",r)},siblings:function(e){return ge((e.parentNode||{}).firstChild,e)},children:function(e){return ge(e.firstChild)},contents:function(e){return e.contentDocument||ce.merge([],e.childNodes)}},function(e,t){ce.fn[e]=function(r,n){var i=ce.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=ce.filter(n,i)),this.length>1&&(be[e]||ce.uniqueSort(i),Ae.test(e)&&i.reverse()),this.pushStack(i)}});var Ie=/\S+/g;ce.Callbacks=function(e){e="string"==typeof e?c(e):ce.extend({},e);var t,r,n,i,o=[],a=[],s=-1,u=function(){for(i=e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)o[s].apply(r[0],r[1])===!1&&e.stopOnFalse&&(s=o.length,r=!1);e.memory||(r=!1),t=!1,i&&(o=r?[]:"")},l={add:function(){return o&&(r&&!t&&(s=o.length-1,a.push(r)),function t(r){ce.each(r,function(r,n){ce.isFunction(n)?e.unique&&l.has(n)||o.push(n):n&&n.length&&"string"!==ce.type(n)&&t(n)})}(arguments),r&&!t&&u()),this},remove:function(){return ce.each(arguments,function(e,t){for(var r;(r=ce.inArray(t,o,r))>-1;)o.splice(r,1),r<=s&&s--}),this},has:function(e){return e?ce.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||(o=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=r||[],r=[e,r.slice?r.slice():r],a.push(r),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},ce.extend({Deferred:function(e){var t=[["resolve","done",ce.Callbacks("once memory"),"resolved"],["reject","fail",ce.Callbacks("once memory"),"rejected"],["notify","progress",ce.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ce.Deferred(function(r){ce.each(t,function(t,o){var a=ce.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ce.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[o[0]+"With"](this===n?r.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ce.extend(e,n):n}},i={};return n.pipe=n.then,ce.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){r=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?n:this,arguments),this},i[o[0]+"With"]=a.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var t,r,n,i=0,o=ee.call(arguments),a=o.length,s=1!==a||e&&ce.isFunction(e.promise)?a:0,u=1===s?e:ce.Deferred(),c=function(e,r,n){return function(i){r[e]=this,n[e]=arguments.length>1?ee.call(arguments):i,n===t?u.notifyWith(r,n):--s||u.resolveWith(r,n)}};if(a>1)for(t=new Array(a),r=new Array(a),n=new Array(a);i<a;i++)o[i]&&ce.isFunction(o[i].promise)?o[i].promise().progress(c(i,r,t)).done(c(i,n,o)).fail(u.reject):--s;return s||u.resolveWith(n,o),u.promise()}});var we;ce.fn.ready=function(e){return ce.ready.promise().done(e),this},ce.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ce.readyWait++:ce.ready(!0)},ready:function(e){(e===!0?--ce.readyWait:ce.isReady)||(ce.isReady=!0,e!==!0&&--ce.readyWait>0||(we.resolveWith(Z,[ce]),ce.fn.triggerHandler&&(ce(Z).triggerHandler("ready"),ce(Z).off("ready"))))}}),ce.ready.promise=function(e){return we||(we=ce.Deferred(),"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?r.setTimeout(ce.ready):(Z.addEventListener("DOMContentLoaded",l),r.addEventListener("load",l))),we.promise(e)},ce.ready.promise();var _e=function(e,t,r,n,i,o,a){var s=0,u=e.length,c=null==r;if("object"===ce.type(r)){i=!0;for(s in r)_e(e,t,s,r[s],!0,o,a)}else if(void 0!==n&&(i=!0,ce.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,r){return c.call(ce(e),r)})),t))for(;s<u;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:c?t.call(e):u?t(e[0],r):o},Be=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};p.uid=1,p.prototype={register:function(e,t){var r=t||{};return e.nodeType?e[this.expando]=r:Object.defineProperty(e,this.expando,{value:r,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Be(e))return{};var t=e[this.expando];return t||(t={},Be(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[t]=r;else for(n in t)i[n]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,r){var n;return void 0===t||t&&"string"==typeof t&&void 0===r?(n=this.get(e,t),void 0!==n?n:this.get(e,ce.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{ce.isArray(t)?n=t.concat(t.map(ce.camelCase)):(i=ce.camelCase(t),t in o?n=[t,i]:(n=i,n=n in o?[n]:n.match(Ie)||[])),r=n.length;for(;r--;)delete o[n[r]]}(void 0===t||ce.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var ke=new p,Ne=new p,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,De=/[A-Z]/g;ce.extend({hasData:function(e){return Ne.hasData(e)||ke.hasData(e)},data:function(e,t,r){return Ne.access(e,t,r)},removeData:function(e,t){Ne.remove(e,t)},_data:function(e,t,r){return ke.access(e,t,r)},_removeData:function(e,t){ke.remove(e,t)}}),ce.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Ne.get(o),1===o.nodeType&&!ke.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&(n=a[r].name,0===n.indexOf("data-")&&(n=ce.camelCase(n.slice(5)),f(o,n,i[n])));ke.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ne.set(this,e)}):_e(this,function(t){var r,n;if(o&&void 0===t){if(r=Ne.get(o,e)||Ne.get(o,e.replace(De,"-$&").toLowerCase()),void 0!==r)return r;if(n=ce.camelCase(e),r=Ne.get(o,n),void 0!==r)return r;if(r=f(o,n,void 0),void 0!==r)return r}else n=ce.camelCase(e),this.each(function(){var r=Ne.get(this,n);Ne.set(this,n,t),e.indexOf("-")>-1&&void 0!==r&&Ne.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ne.remove(this,e)})}}),ce.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=ke.get(e,t),r&&(!n||ce.isArray(r)?n=ke.access(e,t,ce.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=ce.queue(e,t),n=r.length,i=r.shift(),o=ce._queueHooks(e,t),a=function(){ce.dequeue(e,t)};"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return ke.get(e,r)||ke.access(e,r,{empty:ce.Callbacks("once memory").add(function(){ke.remove(e,[t+"queue",r])})})}}),ce.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?ce.queue(this[0],e):void 0===t?this:this.each(function(){var r=ce.queue(this,e,t);ce._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&ce.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)r=ke.get(o[a],e+"queueHooks"),r&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),Pe=["Top","Right","Bottom","Left"],Ue=function(e,t){return e=t||e,"none"===ce.css(e,"display")||!ce.contains(e.ownerDocument,e)},Oe=/^(?:checkbox|radio)$/i,Me=/<([\w:-]+)/,je=/^$|\/(?:java|ecma)script/i,Ve={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td;var Fe=/<|&#?\w+;/;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),r=Z.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ke=/^key/,He=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qe=/^([^.]*)(?:\.(.+)|)/;ce.event={global:{},add:function(e,t,r,n,i){var o,a,s,u,c,l,p,f,d,h,y,g=ke.get(e);if(g)for(r.handler&&(o=r,r=o.handler,i=o.selector),r.guid||(r.guid=ce.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof ce&&ce.event.triggered!==t.type?ce.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ie)||[""],c=t.length;c--;)s=qe.exec(t[c])||[],d=y=s[1],h=(s[2]||"").split(".").sort(),d&&(p=ce.event.special[d]||{},d=(i?p.delegateType:p.bindType)||d,p=ce.event.special[d]||{},l=ce.extend({type:d,origType:y,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,p.setup&&p.setup.call(e,n,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a)),p.add&&(p.add.call(e,l),l.handler.guid||(l.handler.guid=r.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),ce.event.global[d]=!0)},remove:function(e,t,r,n,i){var o,a,s,u,c,l,p,f,d,h,y,g=ke.hasData(e)&&ke.get(e);if(g&&(u=g.events)){for(t=(t||"").match(Ie)||[""],c=t.length;c--;)if(s=qe.exec(t[c])||[],d=y=s[1],h=(s[2]||"").split(".").sort(),d){for(p=ce.event.special[d]||{},d=(n?p.delegateType:p.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!i&&y!==l.origType||r&&r.guid!==l.guid||s&&!s.test(l.namespace)||n&&n!==l.selector&&("**"!==n||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,p.remove&&p.remove.call(e,l));a&&!f.length&&(p.teardown&&p.teardown.call(e,h,g.handle)!==!1||ce.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[c],r,n,!0);ce.isEmptyObject(u)&&ke.remove(e,"handle events")}},dispatch:function(e){e=ce.event.fix(e);var t,r,n,i,o,a=[],s=ee.call(arguments),u=(ke.get(this,"events")||{})[e.type]||[],c=ce.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=ce.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,n=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,n,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(n=[],r=0;r<s;r++)o=t[r],i=o.selector+" ",void 0===n[i]&&(n[i]=o.needsContext?ce(i,this).index(u)>-1:ce.find(i,this,null,[u]).length),n[i]&&n.push(o);n.length&&a.push({elem:u,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,n,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||Z,n=r.documentElement,i=r.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ce.expando])return e;var t,r,n,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=He.test(i)?this.mouseHooks:Ke.test(i)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new ce.Event(o),t=n.length;t--;)r=n[t],e[r]=o[r];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ce.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ce.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},ce.Event=function(e,t){return this instanceof ce.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?v:m):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||ce.now(),void(this[ce.expando]=!0)):new ce.Event(e,t)},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ce.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===n||ce.contains(n,i))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),ce.fn.extend({on:function(e,t,r,n){return E(this,e,t,r,n)},one:function(e,t,r,n){return E(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ce(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(r=t,t=void 0),r===!1&&(r=m),this.each(function(){ce.event.remove(this,e,r,t)})}});var Ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,We=/<script|<style|<link/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ce.extend({htmlPrefilter:function(e){return e.replace(Ge,"<$1></$2>")},clone:function(e,t,r){var n,i,o,a,s=e.cloneNode(!0),u=ce.contains(e.ownerDocument,e);if(!(se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=h(s),o=h(e),n=0,i=o.length;n<i;n++)I(o[n],a[n]);if(t)if(r)for(o=o||h(e),a=a||h(s),n=0,i=o.length;n<i;n++)b(o[n],a[n]);else b(e,s);return a=h(s,"script"),a.length>0&&y(a,!u&&h(e,"script")),s},cleanData:function(e){for(var t,r,n,i=ce.event.special,o=0;void 0!==(r=e[o]);o++)if(Be(r)){if(t=r[ke.expando]){if(t.events)for(n in t.events)i[n]?ce.event.remove(r,n):ce.removeEvent(r,n,t.handle);r[ke.expando]=void 0}r[Ne.expando]&&(r[Ne.expando]=void 0)}}}),ce.fn.extend({domManip:w,detach:function(e){return _(this,e,!0)},remove:function(e){return _(this,e)},text:function(e){return _e(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return w(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.appendChild(e)}})},prepend:function(){return w(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return w(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return w(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(h(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return _e(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!We.test(e)&&!Ve[(Me.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;r<n;r++)t=this[r]||{},1===t.nodeType&&(ce.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return w(this,arguments,function(t){var r=this.parentNode;ce.inArray(this,e)<0&&(ce.cleanData(h(this)),r&&r.replaceChild(t,this))},e)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ce.fn[e]=function(e){for(var r,n=[],i=ce(e),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),ce(i[a])[t](r),re.apply(n,r.get());return this.pushStack(n)}});var Qe,$e={HTML:"block",BODY:"block"},Je=/^margin/,Ze=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),et=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},tt=function(e,t,r,n){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=r.apply(e,n||[]);for(o in t)e.style[o]=a[o];return i},rt=Z.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",rt.appendChild(a);var e=r.getComputedStyle(s);t="1%"!==e.top,o="2px"===e.marginLeft,n="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,rt.removeChild(a)}var t,n,i,o,a=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ce.extend(se,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),i},reliableMarginLeft:function(){return null==n&&e(),o},reliableMarginRight:function(){var e,t=s.appendChild(Z.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",rt.appendChild(a),e=!parseFloat(r.getComputedStyle(t).marginRight),rt.removeChild(a),s.removeChild(t),e}}))}();var nt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"},at=["Webkit","O","Moz","ms"],st=Z.createElement("div").style;ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=N(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ce.camelCase(t),u=e.style;return t=ce.cssProps[s]||(ce.cssProps[s]=D(s)||s),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===r?a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:u[t]:(o=typeof r,"string"===o&&(i=Le.exec(r))&&i[1]&&(r=d(e,t,i),o="number"),null!=r&&r===r&&("number"===o&&(r+=i&&i[3]||(ce.cssNumber[s]?"":"px")),se.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(u[t]=r)),void 0)}},css:function(e,t,r,n){var i,o,a,s=ce.camelCase(t);return t=ce.cssProps[s]||(ce.cssProps[s]=D(s)||s),a=ce.cssHooks[t]||ce.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,r)),void 0===i&&(i=N(e,t,n)),"normal"===i&&t in ot&&(i=ot[t]),""===r||r?(o=parseFloat(i),r===!0||isFinite(o)?o||0:i):i}}),ce.each(["height","width"],function(e,t){ce.cssHooks[t]={get:function(e,r,n){if(r)return nt.test(ce.css(e,"display"))&&0===e.offsetWidth?tt(e,it,function(){return P(e,t,n)}):P(e,t,n)},set:function(e,r,n){var i,o=n&&et(e),a=n&&L(e,t,n,"border-box"===ce.css(e,"boxSizing",!1,o),o);return a&&(i=Le.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=ce.css(e,t)),x(e,r,a)}}}),ce.cssHooks.marginLeft=R(se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(N(e,"marginLeft"))||e.getBoundingClientRect().left-tt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.cssHooks.marginRight=R(se.reliableMarginRight,function(e,t){if(t)return tt(e,{display:"inline-block"},N,[e,"marginRight"])}),ce.each({margin:"",padding:"",border:"Width"},function(e,t){ce.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+Pe[n]+t]=o[n]||o[n-2]||o[0];return i}},Je.test(e)||(ce.cssHooks[e+t].set=x)}),ce.fn.extend({css:function(e,t){return _e(this,function(e,t,r){var n,i,o={},a=0;if(ce.isArray(t)){for(n=et(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,n);return o}return void 0!==r?ce.style(e,t,r):ce.css(e,t)},e,t,arguments.length>1)},show:function(){return U(this,!0)},hide:function(){return U(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ue(this)?ce(this).show():ce(this).hide()})}}),ce.Tween=O,O.prototype={constructor:O,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ce.cssNumber[r]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,r=O.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ce.cssProps[e.prop]]&&!ce.cssHooks[e.prop]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=O.prototype.init,ce.fx.step={};var ut,ct,lt=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;ce.Animation=ce.extend(H,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return d(r.elem,e,Le.exec(t),r),r}]},tweener:function(e,t){ce.isFunction(e)?(t=e,e=["*"]):e=e.match(Ie);for(var r,n=0,i=e.length;n<i;n++)r=e[n],H.tweeners[r]=H.tweeners[r]||[],H.tweeners[r].unshift(t)},prefilters:[F],prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e)}}),ce.speed=function(e,t,r){var n=e&&"object"==typeof e?ce.extend({},e):{complete:r||!r&&t||ce.isFunction(e)&&e,duration:e,easing:r&&t||t&&!ce.isFunction(t)&&t};return n.duration=ce.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ce.fx.speeds?ce.fx.speeds[n.duration]:ce.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){ce.isFunction(n.old)&&n.old.call(this),n.queue&&ce.dequeue(this,n.queue)},n},ce.fn.extend({fadeTo:function(e,t,r,n){return this.filter(Ue).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=ce.isEmptyObject(e),o=ce.speed(t,r,n),a=function(){var t=H(this,ce.extend({},e),o);(i||ke.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ce.timers,a=ke.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&pt.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));!t&&r||ce.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=ke.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=ce.timers,a=n?n.length:0;for(r.finish=!0,ce.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),ce.each(["toggle","show","hide"],function(e,t){var r=ce.fn[t];ce.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(j(t,!0),e,n,i)}}),ce.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ce.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,r=ce.timers;for(ut=ce.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||ce.fx.stop(),ut=void 0},ce.fx.timer=function(e){ce.timers.push(e),e()?ce.fx.start():ce.timers.pop()},ce.fx.interval=13,ce.fx.start=function(){ct||(ct=r.setInterval(ce.fx.tick,ce.fx.interval))},ce.fx.stop=function(){r.clearInterval(ct),ct=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(e,t){return e=ce.fx?ce.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),r=t.appendChild(Z.createElement("option"));e.type="checkbox",se.checkOn=""!==e.value,se.optSelected=r.selected,t.disabled=!0,se.optDisabled=!r.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",se.radioValue="t"===e.value}();var ft,dt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return _e(this,ce.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ce.prop(e,t,r):(1===o&&ce.isXMLDoc(e)||(t=t.toLowerCase(),i=ce.attrHooks[t]||(ce.expr.match.bool.test(t)?ft:void 0)),void 0!==r?null===r?void ce.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:(n=ce.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&ce.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n,i=0,o=t&&t.match(Ie);if(o&&1===e.nodeType)for(;r=o[i++];)n=ce.propFix[r]||r,ce.expr.match.bool.test(r)&&(e[n]=!1),e.removeAttribute(r)}}),ft={set:function(e,t,r){return t===!1?ce.removeAttr(e,r):e.setAttribute(r,r),r}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var r=dt[t]||ce.find.attr;dt[t]=function(e,t,n){var i,o;return n||(o=dt[t],dt[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,dt[t]=o),i}});var ht=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;ce.fn.extend({prop:function(e,t){return _e(this,ce.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this});var gt=/[\t\r\n\f]/g;ce.fn.extend({addClass:function(e){var t,r,n,i,o,a,s,u=0;if(ce.isFunction(e))return this.each(function(t){ce(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(Ie)||[];r=this[u++];)if(i=q(r),n=1===r.nodeType&&(" "+i+" ").replace(gt," ")){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=ce.trim(n),i!==s&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,i,o,a,s,u=0;if(ce.isFunction(e))return this.each(function(t){ce(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ie)||[];r=this[u++];)if(i=q(r),n=1===r.nodeType&&(" "+i+" ").replace(gt," ")){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");s=ce.trim(n),i!==s&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):ce.isFunction(e)?this.each(function(r){ce(this).toggleClass(e.call(this,r,q(this),t),t)}):this.each(function(){var t,n,i,o;if("string"===r)for(n=0,i=ce(this),o=e.match(Ie)||[];t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==r||(t=q(this),t&&ke.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":ke.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+q(r)+" ").replace(gt," ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g,mt=/[\x20\t\r\n\f]+/g;ce.fn.extend({val:function(e){var t,r,n,i=this[0];{if(arguments.length)return n=ce.isFunction(e),this.each(function(r){var i;1===this.nodeType&&(i=n?e.call(this,r,ce(this).val()):e,null==i?i="":"number"==typeof i?i+="":ce.isArray(i)&&(i=ce.map(i,function(e){return null==e?"":e+""})),t=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i));
});if(i)return t=ce.valHooks[i.type]||ce.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:(r=i.value,"string"==typeof r?r.replace(vt,""):null==r?"":r)}}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:ce.trim(ce.text(e)).replace(mt," ")}},select:{get:function(e){for(var t,r,n=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:n.length,u=i<0?s:o?i:0;u<s;u++)if(r=n[u],(r.selected||u===i)&&(se.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!ce.nodeName(r.parentNode,"optgroup"))){if(t=ce(r).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var r,n,i=e.options,o=ce.makeArray(t),a=i.length;a--;)n=i[a],(n.selected=ce.inArray(ce.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(ce.isArray(t))return e.checked=ce.inArray(ce(e).val(),t)>-1}},se.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ct=/^(?:focusinfocus|focusoutblur)$/;ce.extend(ce.event,{trigger:function(e,t,n,i){var o,a,s,u,c,l,p,f=[n||Z],d=ae.call(e,"type")?e.type:e,h=ae.call(e,"namespace")?e.namespace.split("."):[];if(a=s=n=n||Z,3!==n.nodeType&&8!==n.nodeType&&!Ct.test(d+ce.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),c=d.indexOf(":")<0&&"on"+d,e=e[ce.expando]?e:new ce.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),p=ce.event.special[d]||{},i||!p.trigger||p.trigger.apply(n,t)!==!1)){if(!i&&!p.noBubble&&!ce.isWindow(n)){for(u=p.delegateType||d,Ct.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||Z)&&f.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:p.bindType||d,l=(ke.get(a,"events")||{})[e.type]&&ke.get(a,"handle"),l&&l.apply(a,t),l=c&&a[c],l&&l.apply&&Be(a)&&(e.result=l.apply(a,t),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||p._default&&p._default.apply(f.pop(),t)!==!1||!Be(n)||c&&ce.isFunction(n[d])&&!ce.isWindow(n)&&(s=n[c],s&&(n[c]=null),ce.event.triggered=d,n[d](),ce.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,r){var n=ce.extend(new ce.Event,r,{type:e,isSimulated:!0});ce.event.trigger(n,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return ce.event.trigger(e,t,r,!0)}}),ce.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ce.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),ce.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),se.focusin="onfocusin"in r,se.focusin||ce.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){ce.event.simulate(t,e.target,ce.event.fix(e))};ce.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=ke.access(n,t);i||n.addEventListener(e,r,!0),ke.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=ke.access(n,t)-1;i?ke.access(n,t,i):(n.removeEventListener(e,r,!0),ke.remove(n,t))}}});var Et=r.location,St=ce.now(),Tt=/\?/;ce.parseJSON=function(e){return JSON.parse(e+"")},ce.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ce.error("Invalid XML: "+e),t};var At=/#.*$/,bt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_t=/^(?:GET|HEAD)$/,Bt=/^\/\//,kt={},Nt={},Rt="*/".concat("*"),Dt=Z.createElement("a");Dt.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:wt.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ce.parseJSON,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,ce.ajaxSettings),t):z(ce.ajaxSettings,e)},ajaxPrefilter:G(kt),ajaxTransport:G(Nt),ajax:function(e,t){function n(e,t,n,s){var c,p,m,C,S,A=t;2!==E&&(E=2,u&&r.clearTimeout(u),i=void 0,a=s||"",T.readyState=e>0?4:0,c=e>=200&&e<300||304===e,n&&(C=X(f,T,n)),C=Y(f,C,T,c),c?(f.ifModified&&(S=T.getResponseHeader("Last-Modified"),S&&(ce.lastModified[o]=S),S=T.getResponseHeader("etag"),S&&(ce.etag[o]=S)),204===e||"HEAD"===f.type?A="nocontent":304===e?A="notmodified":(A=C.state,p=C.data,m=C.error,c=!m)):(m=A,!e&&A||(A="error",e<0&&(e=0))),T.status=e,T.statusText=(t||A)+"",c?y.resolveWith(d,[p,A,T]):y.rejectWith(d,[T,A,m]),T.statusCode(v),v=void 0,l&&h.trigger(c?"ajaxSuccess":"ajaxError",[T,f,c?p:m]),g.fireWith(d,[T,A]),l&&(h.trigger("ajaxComplete",[T,f]),--ce.active||ce.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,a,s,u,c,l,p,f=ce.ajaxSetup({},t),d=f.context||f,h=f.context&&(d.nodeType||d.jquery)?ce(d):ce.event,y=ce.Deferred(),g=ce.Callbacks("once memory"),v=f.statusCode||{},m={},C={},E=0,S="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!s)for(s={};t=It.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?a:null},setRequestHeader:function(e,t){var r=e.toLowerCase();return E||(e=C[r]=C[r]||e,m[e]=t),this},overrideMimeType:function(e){return E||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(E<2)for(t in e)v[t]=[v[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||S;return i&&i.abort(t),n(0,t),this}};if(y.promise(T).complete=g.add,T.success=T.done,T.error=T.fail,f.url=((e||f.url||Et.href)+"").replace(At,"").replace(Bt,Et.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=ce.trim(f.dataType||"*").toLowerCase().match(Ie)||[""],null==f.crossDomain){c=Z.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Dt.protocol+"//"+Dt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ce.param(f.data,f.traditional)),W(kt,f,t,T),2===E)return T;l=ce.event&&f.global,l&&0===ce.active++&&ce.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!_t.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(Tt.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=bt.test(o)?o.replace(bt,"$1_="+St++):o+(Tt.test(o)?"&":"?")+"_="+St++)),f.ifModified&&(ce.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[o]),ce.etag[o]&&T.setRequestHeader("If-None-Match",ce.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Rt+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)T.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(f.beforeSend.call(d,T,f)===!1||2===E))return T.abort();S="abort";for(p in{success:1,error:1,complete:1})T[p](f[p]);if(i=W(Nt,f,t,T)){if(T.readyState=1,l&&h.trigger("ajaxSend",[T,f]),2===E)return T;f.async&&f.timeout>0&&(u=r.setTimeout(function(){T.abort("timeout")},f.timeout));try{E=1,i.send(m,n)}catch(e){if(!(E<2))throw e;n(-1,e)}}else n(-1,"No Transport");return T},getJSON:function(e,t,r){return ce.get(e,t,r,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,t){ce[t]=function(e,r,n,i){return ce.isFunction(r)&&(i=i||n,n=r,r=void 0),ce.ajax(ce.extend({url:e,type:t,dataType:i,data:r,success:n},ce.isPlainObject(e)&&e))}}),ce._evalUrl=function(e){return ce.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ce.fn.extend({wrapAll:function(e){var t;return ce.isFunction(e)?this.each(function(t){ce(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ce.isFunction(e)?this.each(function(t){ce(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ce(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=ce.isFunction(e);return this.each(function(r){ce(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){ce.nodeName(this,"body")||ce(this).replaceWith(this.childNodes)}).end()}}),ce.expr.filters.hidden=function(e){return!ce.expr.filters.visible(e)},ce.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var xt=/%20/g,Lt=/\[\]$/,Pt=/\r?\n/g,Ut=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;ce.param=function(e,t){var r,n=[],i=function(e,t){t=ce.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ce.ajaxSettings&&ce.ajaxSettings.traditional),ce.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(r in e)Q(r,e[r],t,i);return n.join("&").replace(xt,"+")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ut.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var r=ce(this).val();return null==r?null:ce.isArray(r)?ce.map(r,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:r.replace(Pt,"\r\n")}}).get()}}),ce.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Mt={0:200,1223:204},jt=ce.ajaxSettings.xhr();se.cors=!!jt&&"withCredentials"in jt,se.ajax=jt=!!jt,ce.ajaxTransport(function(e){var t,n;if(se.cors||jt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Mt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(n,i){t=ce("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Vt=[],Ft=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||ce.expando+"_"+St++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,a,s=e.jsonp!==!1&&(Ft.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ce.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ft,"$1"+i):e.jsonp!==!1&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||ce.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always(function(){void 0===o?ce(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(i)),a&&ce.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ce.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||Z;var n=me.exec(e),i=!r&&[];return n?[t.createElement(n[1])]:(n=g([e],t,i),i&&i.length&&ce(i).remove(),ce.merge([],n.childNodes))};var Kt=ce.fn.load;ce.fn.load=function(e,t,r){if("string"!=typeof e&&Kt)return Kt.apply(this,arguments);var n,i,o,a=this,s=e.indexOf(" ");return s>-1&&(n=ce.trim(e.slice(s)),e=e.slice(0,s)),ce.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?ce("<div>").append(ce.parseHTML(e)).find(n):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,o||[e.responseText,t,e])})}),this},ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.expr.filters.animated=function(e){return ce.grep(ce.timers,function(t){return e===t.elem}).length},ce.offset={setOffset:function(e,t,r){var n,i,o,a,s,u,c,l=ce.css(e,"position"),p=ce(e),f={};"static"===l&&(e.style.position="relative"),s=p.offset(),o=ce.css(e,"top"),u=ce.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(n=p.position(),a=n.top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ce.isFunction(t)&&(t=t.call(e,r,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):p.css(f)}},ce.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ce.offset.setOffset(this,e,t)});var t,r,n=this[0],i={top:0,left:0},o=n&&n.ownerDocument;if(o)return t=o.documentElement,ce.contains(t,n)?(i=n.getBoundingClientRect(),r=$(o),{top:i.top+r.pageYOffset-t.clientTop,left:i.left+r.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,r=this[0],n={top:0,left:0};return"fixed"===ce.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ce.nodeName(e[0],"html")||(n=e.offset()),n.top+=ce.css(e[0],"borderTopWidth",!0),n.left+=ce.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ce.css(r,"marginTop",!0),left:t.left-n.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ce.css(e,"position");)e=e.offsetParent;return e||rt})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;ce.fn[e]=function(n){return _e(this,function(e,n,i){var o=$(e);return void 0===i?o?o[t]:e[n]:void(o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):e[n]=i)},e,n,arguments.length)}}),ce.each(["top","left"],function(e,t){ce.cssHooks[t]=R(se.pixelPosition,function(e,r){if(r)return r=N(e,t),Ze.test(r)?ce(e).position()[t]+"px":r})}),ce.each({Height:"height",Width:"width"},function(e,t){ce.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){ce.fn[n]=function(n,i){var o=arguments.length&&(r||"boolean"!=typeof n),a=r||(n===!0||i===!0?"margin":"border");return _e(this,function(t,r,n){var i;return ce.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?ce.css(t,r,a):ce.style(t,r,n,a)},t,o?n:void 0,o,null)}})}),ce.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},size:function(){return this.length}}),ce.fn.andSelf=ce.fn.addBack,n=[],i=function(){return ce}.apply(t,n),!(void 0!==i&&(e.exports=i));var Ht=r.jQuery,qt=r.$;return ce.noConflict=function(e){return r.$===ce&&(r.$=qt),e&&r.jQuery===ce&&(r.jQuery=Ht),ce},o||(r.jQuery=r.$=ce),ce})},function(e,t,r){var n=r(44);e.exports=function(e){return n(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},function(e,t,r){var n=r(45),i=r(46),o=String.prototype.trim;e.exports=function(e,t){return e=n(e),!t&&o?o.call(e):(t=i(t),e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))}},function(e,t){e.exports=function(e){return null==e?"":""+e}},function(e,t,r){var n=r(47);e.exports=function(e){return null==e?"\\s":e.source?e.source:"["+n(e)+"]"}},function(e,t,r){var n=r(45);e.exports=function(e){return n(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},function(e,t,r){var n,i,o;!function(r,a){"object"==typeof t&&t&&"string"!=typeof t.nodeName?a(t):(i=[t],n=a,o="function"==typeof n?n.apply(t,i):n,!(void 0!==o&&(e.exports=o)))}(this,function(e){function t(e){return"function"==typeof e}function r(e){return y(e)?"array":typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function o(e,t){return g.call(e,t)}function a(e){return!o(v,e)}function s(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return m[e]})}function u(t,r){function i(){if(v&&!m)for(;g.length;)delete h[g.pop()];else g=[];v=!1,m=!1}function o(e){if("string"==typeof e&&(e=e.split(E,2)),!y(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(n(e[0])+"\\s*"),u=new RegExp("\\s*"+n(e[1])),f=new RegExp("\\s*"+n("}"+e[1]))}if(!t)return[];var s,u,f,d=[],h=[],g=[],v=!1,m=!1;o(r||e.tags);for(var b,I,w,_,B,k,N=new p(t);!N.eos();){if(b=N.pos,w=N.scanUntil(s))for(var R=0,D=w.length;R<D;++R)_=w.charAt(R),a(_)?g.push(h.length):m=!0,h.push(["text",_,b,b+1]),b+=1,"\n"===_&&i();if(!N.scan(s))break;if(v=!0,I=N.scan(A)||"name",N.scan(C),"="===I?(w=N.scanUntil(S),N.scan(S),N.scanUntil(u)):"{"===I?(w=N.scanUntil(f),N.scan(T),N.scanUntil(u),I="&"):w=N.scanUntil(u),!N.scan(u))throw new Error("Unclosed tag at "+N.pos);if(B=[I,w,b,N.pos],h.push(B),"#"===I||"^"===I)d.push(B);else if("/"===I){if(k=d.pop(),!k)throw new Error('Unopened section "'+w+'" at '+b);if(k[1]!==w)throw new Error('Unclosed section "'+k[1]+'" at '+b)}else"name"===I||"{"===I||"&"===I?m=!0:"="===I&&o(w)}if(k=d.pop())throw new Error('Unclosed section "'+k[1]+'" at '+N.pos);return l(c(h))}function c(e){for(var t,r,n=[],i=0,o=e.length;i<o;++i)t=e[i],t&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}function l(e){for(var t,r,n=[],i=n,o=[],a=0,s=e.length;a<s;++a)switch(t=e[a],t[0]){case"#":case"^":i.push(t),o.push(t),i=t[4]=[];break;case"/":r=o.pop(),r[5]=t[2],i=o.length>0?o[o.length-1][4]:n;break;default:i.push(t)}return n}function p(e){this.string=e,this.tail=e,this.pos=0}function f(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function d(){this.cache={}}var h=Object.prototype.toString,y=Array.isArray||function(e){return"[object Array]"===h.call(e)},g=RegExp.prototype.test,v=/\S/,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},C=/\s*/,E=/\s+/,S=/\s*=/,T=/\s*\}/,A=/#|\^|\/|>|\{|&|=|!/;p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},p.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},f.prototype.push=function(e){return new f(e,this)},f.prototype.lookup=function(e){var r,n=this.cache;if(n.hasOwnProperty(e))r=n[e];else{for(var o,a,s=this,u=!1;s;){if(e.indexOf(".")>0)for(r=s.view,o=e.split("."),a=0;null!=r&&a<o.length;)a===o.length-1&&(u=i(r,o[a])),r=r[o[a++]];else r=s.view[e],u=i(s.view,e);if(u)break;s=s.parent}n[e]=r}return t(r)&&(r=r.call(this.view)),r},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(e,t){var r=this.cache,n=r[e];return null==n&&(n=r[e]=u(e,t)),n},d.prototype.render=function(e,t,r){var n=this.parse(e),i=t instanceof f?t:new f(t);return this.renderTokens(n,i,r,e)},d.prototype.renderTokens=function(e,t,r,n){for(var i,o,a,s="",u=0,c=e.length;u<c;++u)a=void 0,i=e[u],o=i[0],"#"===o?a=this.renderSection(i,t,r,n):"^"===o?a=this.renderInverted(i,t,r,n):">"===o?a=this.renderPartial(i,t,r,n):"&"===o?a=this.unescapedValue(i,t):"name"===o?a=this.escapedValue(i,t):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(s+=a);return s},d.prototype.renderSection=function(e,r,n,i){function o(e){return a.render(e,r,n)}var a=this,s="",u=r.lookup(e[1]);if(u){if(y(u))for(var c=0,l=u.length;c<l;++c)s+=this.renderTokens(e[4],r.push(u[c]),n,i);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(e[4],r.push(u),n,i);else if(t(u)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");u=u.call(r.view,i.slice(e[3],e[5]),o),null!=u&&(s+=u)}else s+=this.renderTokens(e[4],r,n,i);return s}},d.prototype.renderInverted=function(e,t,r,n){var i=t.lookup(e[1]);if(!i||y(i)&&0===i.length)return this.renderTokens(e[4],t,r,n)},d.prototype.renderPartial=function(e,r,n){if(n){var i=t(n)?n(e[1]):n[e[1]];return null!=i?this.renderTokens(this.parse(i),r,n,i):void 0}},d.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(null!=r)return r},d.prototype.escapedValue=function(t,r){var n=r.lookup(t[1]);if(null!=n)return e.escape(n)},d.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var b=new d;return e.clearCache=function(){return b.clearCache()},e.parse=function(e,t){return b.parse(e,t)},e.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+r(e)+'" was given as the first argument for mustache#render(template, view, partials)');return b.render(e,t,n)},e.to_html=function(r,n,i,o){var a=e.render(r,n,i);return t(o)?void o(a):a},e.escape=s,e.Scanner=p,e.Context=f,e.Writer=d,e})},function(e,t,r){var n,i;n=[r(50),r(51)],i=function(e,t){var r;return r=function(){function r(t,r){this.secret=t,null==r&&(r=!0),r&&(this.secret=e.base32tohex(this.secret))}return r.DEFAULT_OTP_LENGTH=7,r.TIME_STEP=10,r.prototype.getOtp=function(e){var n,i;return null==e&&(e=this.DEFAULT_OTP_LENGTH),i=t.getUnixTime(),n=t.time(i,0,r.TIME_STEP),t.totp(this.secret,n,e)},r.prototype.getOtps=function(e){var n,i,o,a,s,u,c,l,p,f;return null==e&&(e=this.DEFAULT_OTP_LENGTH),f=t.getUnixTime(),c=f,l=c+r.TIME_STEP,p=c+2*r.TIME_STEP,a=t.time(c,0,r.TIME_STEP),s=t.time(l,0,r.TIME_STEP),u=t.time(p,0,r.TIME_STEP),n=t.totp(this.secret,a,e),i=t.totp(this.secret,s,e),o=t.totp(this.secret,u,e),[n,i,o]},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){var e;return e=function(){function e(){}var t,r,n;return n=2,r=8,t=5,e.base32tohex=function(t){var n,i,o;for(t=t.replace(/\W/g,""),n=e.chunk(t,r),i="",o=0;o<n.length;)i+=e.decode(n[o]).join(""),o++;return i},e.decode=function(i){var o,a,s,u,c,l,p,f,d;for(o="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",f=Math.floor(i.length*t/r),d=0,i.length<r&&(d=t-f*r%t),a=0,a=i.split("").reduce(function(r,n,i,a){var s,u;return u=e.lShift(r,t),s=o.indexOf(n.toUpperCase()),u+s},0),a=e.rShift(a,d),c=[],p=f-1;p>=0;)s=e.rShift(a,p*r),u=255&s,l=e.lpad(u.toString(16),"0",n),c.push(l),p--;return c},e.lpad=function(e,t,r){for(;e.length<r;)e=t+e;return e},e.lShift=function(e,t){return e*Math.pow(2,t)},e.rShift=function(e,t){return Math.floor(e/Math.pow(2,t))},e.chunk=function(e,t){return[].concat.apply([],e.split("").map(function(r,n){return n%t?[]:e.slice(n,n+t)},e))},e.leftpad=function(e,t,r){return t+1>=e.length&&(e=Array(t+1-e.length).join(r)+e),e},e.isBase32=function(e){var t,r;return null!=e&&(r=e.replace(/-|\s/g,""),t=r.match(/^[a-zA-Z2-7]+=*$/),null!==t&&1===t.length)},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(52),r(14)],i=function(e,t){var r;return r=function(){function r(){}return r.DEFAULT_TIME_STEPS=10,r.OTP_LENGTH=7,r.MOVING_FACTOR_CORRECTION=0,r.time=function(e,t,n,i){var o;return null==e&&(e=this.getUnixTime()),null==t&&(t=0),null==n&&(n=r.DEFAULT_TIME_STEPS),null==i&&(i=!0),o=Math.floor((e-t)/n).toString(16),i&&(o=r.padTime(o)),o},r.padTime=function(e,t){for(null==t&&(t=16),e+="";e.length<t;)e="0"+e;return e},r.totp=function(t,n,i){var o;return null==i&&(i=r.OTP_LENGTH),o=e.hotp(t,n).toString(),o.substring(o.length-i,o.length)},r.getUnixTime=function(){return t.getTimestampSeconds()+r.MOVING_FACTOR_CORRECTION},r.getLocalMovingFactor=function(){return parseInt(r.time(),16)},r.setMovingFactorCorrection=function(e){return r.MOVING_FACTOR_CORRECTION=e},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8),r(38),r(20)],i=function(e,t,r){var n;return n=function(){function n(){}return n.DEBUG=!1,n.hmac=function(e,n){var i,o;return o=r.util.hexToBytes(n),i=r.util.hexToBytes(e),t.generateHmacSHA1(o,i)},n.hotp=function(t,r){var i,o;return i=n.hmac(t,r),o=n.truncate(i),n.DEBUG&&(e.d("Calculating HOTP"),e.d("secret: "+t+", counter: "+r),e.d("hmac-sha-1: "+i),e.d("truncate result: "+o)),o},n.truncate=function(e){var t,r,n;return r=e[39],t=2*parseInt(r,16),n=parseInt(e.substring(t,t+8),16),2147483647&n},n}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=[r(6),r(8),r(37),r(15)],i=function(e,t,r,n){var i;return i=function(){function i(){}var a,s;return i.IDLE_DETECTION_SECONDS=300,i.LOCKING=!1,i.LOCKED=!0,s=null,a=function(){function e(e){this.closeAppEventSubscribers=null!=e?e:[],this.cleanUpEncryptionKey=o(this.cleanUpEncryptionKey,this),this.notifySusbscribers=o(this.notifySusbscribers,this)}return e.prototype.addSubscriber=function(e){return this.closeAppEventSubscribers.push(e)},e.prototype.clearSusbscribers=function(){return this.closeAppEventSubscribers=[]},e.prototype.notifySusbscribers=function(e){var t,r;return r=this,(t=function(n){var i;if(n<r.closeAppEventSubscribers.length){if(i=r.closeAppEventSubscribers[n],0===i.constructor.name.indexOf("EncryptionKey"))throw new Error("EncryptionKey should not subscribe as a listener. It must be destroyed last");if("function"==typeof i.cleanUpBeforeClose)return i.cleanUpBeforeClose(function(){return t(n+1)});throw new Error("The subscriber "+i.constructor.name+" must implement the method cleanUpBeforeClose")}return e()})(0)},e.prototype.cleanUpEncryptionKey=function(e){if("function"==typeof r.get().cleanUpBeforeClose)return r.get().cleanUpBeforeClose(e);throw new Error("The EncryptionKey must implement the method cleanUpBeforeClose")},e}(),i.truncate=function(e){var t;return t=new RegExp("(.{"+e.length+"})(.+)","i"),e.name.replace(t,"$1...")},i.closeApp=function(){i.LOCKING=!0,i.getPubSubInstance().notifySusbscribers(function(){return i.getPubSubInstance().cleanUpEncryptionKey(function(){return i.removeCloseAppEventListener(),e.get().goTo("UnblockController"),i.LOCKING=!1})})},i.addCloseAppEventListener=function(){return chrome.idle.onStateChanged.hasListeners()?t.d("Did not add close app event listener. A listener already exists."):(chrome.idle.setDetectionInterval(i.IDLE_DETECTION_SECONDS),chrome.idle.onStateChanged.addListener(i.onCloseAppEvent),t.d("Added close app event listener")),i.LOCKED=!1},i.removeCloseAppEventListener=function(){return chrome.idle.onStateChanged.removeListener(i.onCloseAppEvent),t.d("Removed close app event listener"),i.LOCKED=!0},i.onCloseAppEvent=function(e){if(t.d("Entered a new state "+e),!("idle"!==e&&"locked"!==e||i.LOCKING||i.LOCKED))return i.closeApp()},i.subscribeToCloseAppEvent=function(e){return i.getPubSubInstance().addSubscriber(e)},i.getPubSubInstance=function(){return null==s&&(s=new a),s},i.deleteAssets=function(){return chrome.storage.local.get("authy.storage.assetManifest",function(e){var t,r,n;if(null!=e&&null!=e["authy.storage.assetManifest"])return n=e["authy.storage.assetManifest"].md5s,t=function(){var e;e=[];for(r in n)e.push("asset-account-"+r);return e}(),chrome.storage.local.remove(t)})},i.update=function(e){var t;return"install"===e.reason&&chrome.storage.local.clear(),t=n.chromeExtensionId,chrome.runtime.sendMessage(t,{action:"onInstalled",params:{}},function(){})},i}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=[r(55),r(7),r(56)],i=function(e,t,r){var n;return n=function(e){function n(){this.isLoadedToMemory=o(this.isLoadedToMemory,this),this.getSessionUUID=o(this.getSessionUUID,this),this.genSessionUUID=o(this.genSessionUUID,this),n.__super__.constructor.call(this),this.model={uuid:""},this.sessionUUID=null,this.initialize(),t.on("window.focus",this.genSessionUUID),i=this}var i;return a(n,e),i=null,n.prototype.initialize=function(){var e;return e=this,this.genSessionUUID(),this.loadLocal(function(){return e.model.uuid?e.notifyListeners():e.genID()})},n.prototype.genID=function(){return this.model.uuid=r.v4(),this.save(this.notifyListeners.bind(this)),this.model},n.prototype.getID=function(){return this.model.uuid},n.prototype.genSessionUUID=function(){return this.sessionUUID=r.v4()},n.prototype.getSessionUUID=function(){return this.sessionUUID},n.prototype.toJson=function(){return{uuid:this.model.uuid}},n.prototype.fromJson=function(e){return{uuid:e.uuid}},n.prototype.getStorageLocation=function(){return"authy.storage.anonymoususerinfo"},n.prototype.isLoadedToMemory=function(){return this.loadedToMemory||this.model.uuid},n.get=function(){return i?i:new n},n}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=[r(31),r(8)],i=function(e,t){var r;return r=function(){function r(){this.isLoadedToMemory=o(this.isLoadedToMemory,this),this.loadedToMemory=!1,this.model=null,this.listeners=[]}return r.prototype.load=function(e,t){var r;return null==t&&(t=function(){}),r=this,this.loadLocal(function(){return r.fetch(e,t)})},r.prototype.loadLocal=function(t){var r;return r=this,e.loadObject(this.getStorageLocation(),function(e){var n;return null!=e&&(n=r.fromJson(e),r.setModel(n),r.loadedToMemory=!0,r.notifyListeners()),t()})},r.prototype.save=function(r){return null==r&&(r=function(){}),this.isLoadedToMemory()?(this.loadedToMemory=!0,e.save(this.getStorageLocation(),this.toJson(),r)):(t.w("Skipping save for "+this.constructor.name+" since it hasn't been loaded into memory."),r())},r.prototype.setModel=function(e){return this.model=e},r.prototype.getModel=function(){return this.model},r.prototype.addListener=function(e){var t,r,n,i;for(i=this.listeners,t=0,n=i.length;t<n;t++)if(r=i[t],r===e)return;this.listeners.push(e)},r.prototype.notifyListeners=function(e){var t,r,n,i;for(null==e&&(e={}),i=this.listeners,t=0,r=i.length;t<r;t++)(n=i[t])(e);
},r.prototype.removeListener=function(e){var t;t=this.listeners.indexOf(e),t>-1&&this.listeners.splice(t,1)},r.prototype.getListeners=function(){return this.listeners},r.prototype.isLoadedToMemory=function(){throw new Error("You have not provided an implementation for the isLoadedToMemory method")},r.prototype.getStorageLocation=function(){throw new Error("you must provide a storage location")},r.prototype.toJson=function(){throw new Error("You have not provided an implementation for the toJson method")},r.prototype.fromJson=function(e){throw new Error("You have not provided an implementation for the fromJson method")},r.prototype.fetch=function(e,t){throw new Error("You have not provided an implementation for the fetch method")},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){function n(e,t,r){var n=t&&r||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[n+i++]=c[e])});i<16;)t[n+i++]=0;return t}function i(e,t){var r=t||0,n=u;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}function o(e,t,r){var n=t&&r||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:d,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:y+1,c=s-h+(u-y)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||s>h)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=s,y=u,d=a,s+=122192928e5;var l=(1e4*(268435455&s)+u)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=255&l;var p=s/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=255&p,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var g=e.node||f,v=0;v<6;v++)o[n+v]=g[v];return t?t:i(o)}function a(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[n+a]=o[a];return t||i(o)}for(var s=r(57),u=[],c={},l=0;l<256;l++)u[l]=(l+256).toString(16).substr(1),c[u[l]]=l;var p=s(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],d=16383&(p[6]<<8|p[7]),h=0,y=0,g=a;g.v1=o,g.v4=a,g.parse=n,g.unparse=i,e.exports=g},function(e,t){(function(t){var r,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var i=new Uint8Array(16);r=function(){return n.getRandomValues(i),i}}if(!r){var o=new Array(16);r=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=r}).call(t,function(){return this}())},function(e,t,r){var n=r(44),i=r(59);e.exports=function(e,t){return e=n(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),t===!0?i(e):e}},function(e,t,r){var n=r(45);e.exports=function(e){return e=n(e),e.charAt(0).toLowerCase()+e.slice(1)}},function(e,t,r){var n,i;n=[r(34),r(35),r(61),r(8),r(32)],i=function(e,t,r,n,i){var o;return o=function(){function o(){}return o.prototype.getDevices=function(i,o){var a,s;a=t.get(),s="/json/users/"+a.userId+"/devices",e.getAuth(s,function(e){var t,o,a,s,u,c;for(c=[],u=e.devices,a=0,s=u.length;a<s;a++)o=u[a],t=r.create(o),c.push(t);return n.d(c),i(c)},o)},o.prototype.removeDevice=function(r,n,i){var o,a;return o=t.get(),a="/json/users/"+o.userId+"/devices/"+r+"/delete",e.postAuth(a,{},n,i)},o.prototype.setMultiDevicesEnabled=function(r,n,i){var o,a;return o=t.get(),a="/json/users/"+o.userId+"/devices/",a+=r?"enable":"disable",e.postAuth(a,{},n,i)},o.prototype.getAddDeviceRequestInfo=function(r,n){var o,a,s;return o=i.defer(),(a=t.get())?(s="/json/users/"+a.userId+"/devices/"+a.deviceId+"/registration/pending",e.getAuth(s,function(t){return r(e.camelizeResponse(t))},n)):(o.reject("No master token loaded in Memory"),o.promise)},o.prototype.acceptMultiDeviceRequest=function(r,n,i,o){var a,s;return a=t.get(),s="/json/users/"+a.userId+"/devices/"+a.deviceId+"/registration/"+r+"/confirm",e.postAuth(s,{pin:n},i,o)},o.prototype.rejectMultiDeviceRequest=function(r,n,i,o){var a,s;return a=t.get(),s="/json/users/"+a.userId+"/devices/"+a.deviceId+"/registration/"+r+"/reject",e.postAuth(s,{pin:n},i,o)},o}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){var e;return e=function(){function e(e){this.city=e.city,this.country=e.country,this.deviceType=e.deviceType,this.ip=e.ip,this.lastSyncAt=e.lastSyncAt,this.masterTokenId=e.masterTokenId,this.name=e.name,this.needsHealthCheck=e.needsHealthCheck,this.region=e.region,this.registered=e.registered,this.id=e.masterTokenId}return e.create=function(t){var r;return r={city:t.city,country:t.country,deviceType:t.device_type,ip:t.ip,lastSyncAt:t.last_sync_at,masterTokenId:t.master_token_id,name:t.name,needsHealthCheck:t.needs_health_check,region:t.region,registered:t.registered},new e(r)},e.prototype.icon=function(){return"android"===this.deviceType?"img/settings-screen/android_phone_icon.png":"android_tablet"===this.deviceType?"img/settings-screen/android_tablet_icon.png":"iphone"===this.deviceType||"ipod"===this.deviceType?"img/settings-screen/iphone_icon.png":"ipad"===this.deviceType?"img/settings-screen/ipad_icon.png":"img/settings-screen/android_phone_icon.png"},e.prototype.toJson=function(){var e;return e={city:this.city,country:this.country,deviceType:this.deviceType,ip:this.ip,lastSyncAt:this.lastSyncAt,masterTokenId:this.masterTokenId,name:this.name,needsHealthCheck:this.needsHealthCheck,region:this.region,registered:this.registered,id:this.masterTokenId}},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){return{level:{INFO:"info",ERROR:"error",WARNING:"warning"}}}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=[r(15),r(8),r(31),r(64),r(32),r(7)],i=function(e,t,r,n,i,a){var s;return s=function(){function s(){this.setDeviceUDID=o(this.setDeviceUDID,this),u=this,this.platformInfo=this.getPlatformInfo(),this.setDeviceUDID(null),this.setDeviceFingerprint(function(e){return function(){return a.emit("device_info_helper_initialized")}}(this))}var u;return u=null,s.prototype.CHROMEVERSIONREGEX=/Chrome\/([0-9]+)\./,s.prototype.DEVICENAME="Chrome",s.prototype.getOSVersion=function(){var e;return e=navigator.userAgent.match(this.CHROMEVERSIONREGEX),e?e[1]:""},s.prototype.getOS=function(){return this.DEVICENAME},s.prototype.getAppVersion=function(){return"undefined"!=typeof chrome&&null!==chrome&&null!=chrome.runtime&&null!=chrome.runtime.getManifest?chrome.runtime.getManifest().version:""},s.prototype.getPlatformInfo=function(){var e;return e={},"undefined"!=typeof chrome&&null!==chrome&&null!=chrome.runtime&&null!=chrome.runtime.getManifest?(chrome.runtime.getPlatformInfo(function(t){return e.arch=t.arch,e.os=t.os,e.nacl_arch=t.nacl_arch}),e):e},s.prototype.getFlavor=function(){return e.flavor},s.prototype.getModelName=function(){return navigator.platform},s.prototype.getManufacturer=function(){return navigator.vendor},s.prototype.getUserAgent=function(){var t;return t=[],e.analytics.product&&t.push("<"+e.analytics.product+">"),this.getAppVersion()&&t.push("<app_version_"+this.getAppVersion()+">"),this.getOS()&&t.push("<os_version_"+this.getOS()+">"),this.platformInfo.arch&&t.push("<processor_architecture_"+this.platformInfo.arch+">"),t.join(" ")},s.prototype.getStorageLocation=function(){return"browser.unique.ids"},s.prototype.generateDeviceFingerprint=function(){var e,t;e=i.defer();try{(new n).get(function(t){return e.resolve(t)})}catch(r){if(t=r)return e.reject(new Error(t))}return e.promise},s.prototype.setDeviceFingerprint=function(e){return null==e&&(e=function(){}),r.loadObject(this.getStorageLocation(),function(){}).then(function(e){return function(t){return t?t:e.generateDeviceFingerprint().then(function(t){return r.save(e.getStorageLocation(),t),t})}}(this)).then(function(r){return function(n){var i;return null!=(null!=(i=n.canvas)?i.signature:void 0)?(r.setDeviceUDID(n.canvas.signature),e(),n.canvas.signature):"string"==typeof n?(r.setDeviceUDID(n),e(),n):(e(),t.e("Not able to get device fingerprint"))}}(this)).fail(function(e){return t.e("Fail getting device fingerprint")})},s.prototype.setDeviceUDID=function(t){return this.deviceUDID=null!=t?""+e.uuidPrefix+t:t},s.prototype.getDeviceUDID=function(){return this.deviceUDID},s.prototype.getInfo=function(){return{os_version:this.getOSVersion(),operating_system:this.getOS(),app_version:this.getAppVersion(),flavor:this.getFlavor(),model_name:this.getModelName(),manufacturer:this.getManufacturer(),processor_architecture:this.platformInfo.arch,device_udid:this.getDeviceUDID()}},s.get=function(){return u?u:new s},s}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;!function(o,a,s){"use strict";n=s,i="function"==typeof n?n.call(t,r,t,e):n,!(void 0!==i&&(e.exports=i))}("Fingerprint2",this,function(){"use strict";var e=function(t){if(!(this instanceof e))return new e(t);var r={swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[]};this.options=this.extend(t,r),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return e.prototype={extend:function(e,t){if(null==e)return t;for(var r in e)null!=e[r]&&t[r]!==e[r]&&(t[r]=e[r]);return t},get:function(e){var t=[];t=this.userAgentKey(t),t=this.languageKey(t),t=this.colorDepthKey(t),t=this.pixelRatioKey(t),t=this.hardwareConcurrencyKey(t),t=this.screenResolutionKey(t),t=this.availableScreenResolutionKey(t),t=this.timezoneOffsetKey(t),t=this.sessionStorageKey(t),t=this.localStorageKey(t),t=this.indexedDbKey(t),t=this.addBehaviorKey(t),t=this.openDatabaseKey(t),t=this.cpuClassKey(t),t=this.platformKey(t),t=this.doNotTrackKey(t),t=this.pluginsKey(t),t=this.canvasKey(t),t=this.webglKey(t),t=this.adBlockKey(t),t=this.hasLiedLanguagesKey(t),t=this.hasLiedResolutionKey(t),t=this.hasLiedOsKey(t),t=this.hasLiedBrowserKey(t),t=this.touchSupportKey(t),t=this.customEntropyFunction(t);var r=this;this.fontsKey(t,function(t){var n=[];r.each(t,function(e){var t=e.value;"undefined"!=typeof e.value.join&&(t=e.value.join(";")),n.push(t)});var i=r.x64hash128(n.join("~~~"),31);return e(i,t)})},customEntropyFunction:function(e){return"function"==typeof this.options.customFunction&&e.push({key:"custom",value:this.options.customFunction()}),e},userAgentKey:function(e){return this.options.excludeUserAgent||e.push({key:"user_agent",value:this.getUserAgent()}),e},getUserAgent:function(){return navigator.userAgent},languageKey:function(e){return this.options.excludeLanguage||e.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),e},colorDepthKey:function(e){return this.options.excludeColorDepth||e.push({key:"color_depth",value:screen.colorDepth||-1}),e},pixelRatioKey:function(e){return this.options.excludePixelRatio||e.push({key:"pixel_ratio",value:this.getPixelRatio()}),e},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)},getScreenResolution:function(e){var t;return t=this.options.detectScreenOrientation&&screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height],"undefined"!=typeof t&&e.push({key:"resolution",value:t}),e},availableScreenResolutionKey:function(e){return this.options.excludeAvailableScreenResolution?e:this.getAvailableScreenResolution(e)},getAvailableScreenResolution:function(e){var t;return screen.availWidth&&screen.availHeight&&(t=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),"undefined"!=typeof t&&e.push({key:"available_resolution",value:t}),e},timezoneOffsetKey:function(e){return this.options.excludeTimezoneOffset||e.push({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),e},sessionStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.push({key:"session_storage",value:1}),e},localStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.push({key:"local_storage",value:1}),e},indexedDbKey:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.push({key:"indexed_db",value:1}),e},addBehaviorKey:function(e){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&e.push({key:"add_behavior",value:1}),e},openDatabaseKey:function(e){return!this.options.excludeOpenDatabase&&window.openDatabase&&e.push({key:"open_database",value:1}),e},cpuClassKey:function(e){return this.options.excludeCpuClass||e.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),e},platformKey:function(e){return this.options.excludePlatform||e.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),e},doNotTrackKey:function(e){return this.options.excludeDoNotTrack||e.push({key:"do_not_track",value:this.getDoNotTrack()}),e},canvasKey:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.push({key:"canvas",value:this.getCanvasFp()}),e},webglKey:function(e){return this.options.excludeWebGL?e:this.isWebGlSupported()?(e.push({key:"webgl",value:this.getWebglFp()}),e):e},adBlockKey:function(e){return this.options.excludeAdBlock||e.push({key:"adblock",value:this.getAdBlock()}),e},hasLiedLanguagesKey:function(e){return this.options.excludeHasLiedLanguages||e.push({key:"has_lied_languages",value:this.getHasLiedLanguages()}),e},hasLiedResolutionKey:function(e){return this.options.excludeHasLiedResolution||e.push({key:"has_lied_resolution",value:this.getHasLiedResolution()}),e},hasLiedOsKey:function(e){return this.options.excludeHasLiedOs||e.push({key:"has_lied_os",value:this.getHasLiedOs()}),e},hasLiedBrowserKey:function(e){return this.options.excludeHasLiedBrowser||e.push({key:"has_lied_browser",value:this.getHasLiedBrowser()}),e},fontsKey:function(e,t){return this.options.excludeJsFonts?this.flashFontsKey(e,t):this.jsFontsKey(e,t)},flashFontsKey:function(e,t){return this.options.excludeFlashFonts?t(e):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?"undefined"==typeof this.options.swfPath?t(e):void this.loadSwfAndDetectFonts(function(r){e.push({key:"swf_fonts",value:r.join(";")}),t(e)}):t(e)},jsFontsKey:function(e,t){var r=this;return setTimeout(function(){var n=["monospace","sans-serif","serif"],i=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],o=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"];r.options.extendedJsFonts&&(i=i.concat(o)),i=i.concat(r.options.userDefinedFonts);var a="mmmmmmmmmmlli",s="72px",u=document.getElementsByTagName("body")[0],c=document.createElement("div"),l=document.createElement("div"),p={},f={},d=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize=s,e.style.lineHeight="normal",e.innerHTML=a,e},h=function(e,t){var r=d();return r.style.fontFamily="'"+e+"',"+t,r},y=function(){for(var e=[],t=0,r=n.length;t<r;t++){var i=d();i.style.fontFamily=n[t],c.appendChild(i),e.push(i)}return e},g=function(){for(var e={},t=0,r=i.length;t<r;t++){for(var o=[],a=0,s=n.length;a<s;a++){var u=h(i[t],n[a]);l.appendChild(u),o.push(u)}e[i[t]]=o}return e},v=function(e){for(var t=!1,r=0;r<n.length;r++)if(t=e[r].offsetWidth!==p[n[r]]||e[r].offsetHeight!==f[n[r]])return t;return t},m=y();u.appendChild(c);for(var C=0,E=n.length;C<E;C++)p[n[C]]=m[C].offsetWidth,f[n[C]]=m[C].offsetHeight;var S=g();u.appendChild(l);for(var T=[],A=0,b=i.length;A<b;A++)v(S[i[A]])&&T.push(i[A]);u.removeChild(l),u.removeChild(c),e.push({key:"js_fonts",value:T}),t(e)},1)},pluginsKey:function(e){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||e.push({key:"ie_plugins",value:this.getIEPlugins()}):e.push({key:"regular_plugins",value:this.getRegularPlugins()})),e},getRegularPlugins:function(){for(var e=[],t=0,r=navigator.plugins.length;t<r;t++)e.push(navigator.plugins[t]);return this.pluginsShouldBeSorted()&&(e=e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(e,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this)},getIEPlugins:function(){var e=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){var t=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"];e=this.map(t,function(e){try{return new ActiveXObject(e),e}catch(e){return null}})}return navigator.plugins&&(e=e.concat(this.getRegularPlugins())),e},pluginsShouldBeSorted:function(){for(var e=!1,t=0,r=this.options.sortPluginsFor.length;t<r;t++){var n=this.options.sortPluginsFor[t];if(navigator.userAgent.match(n)){e=!0;break}}return e},touchSupportKey:function(e){return this.options.excludeTouchSupport||e.push({key:"touch_support",value:this.getTouchSupport()}),e},hardwareConcurrencyKey:function(e){return this.options.excludeHardwareConcurrency||e.push({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),e},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(e){return!0}},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var e=0,t=!1;"undefined"!=typeof navigator.maxTouchPoints?e=navigator.maxTouchPoints:"undefined"!=typeof navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){}var r="ontouchstart"in window;return[e,t,r]},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var r=t.getContext("2d");return r.rect(0,0,10,10),r.rect(2,2,6,6),e.push("canvas winding:"+(r.isPointInPath(5,5,"evenodd")===!1?"yes":"no")),r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",this.options.dontUseFakeFontInCanvas?r.font="11pt Arial":r.font="11pt no-real-font-123",r.fillText("Cwm fjordbank glyphs vext quiz, ",2,15),r.fillStyle="rgba(102, 204, 0, 0.2)",r.font="18pt Arial",r.fillText("Cwm fjordbank glyphs vext quiz, ",4,45),r.globalCompositeOperation="multiply",r.fillStyle="rgb(255,0,255)",r.beginPath(),r.arc(50,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(0,255,255)",r.beginPath(),r.arc(100,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,255,0)",r.beginPath(),r.arc(75,100,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,0,255)",r.arc(75,75,75,0,2*Math.PI,!0),r.arc(75,75,25,0,2*Math.PI,!0),r.fill("evenodd"),e.push("canvas fp:"+t.toDataURL()),e.join("~")},getWebglFp:function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"},r=function(e){var t,r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");return r?(t=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===t&&(t=2),t):null};if(e=this.getWebglCanvas(),!e)return null;var n=[],i="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",o="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a);var s=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),a.itemSize=3,a.numItems=3;var u=e.createProgram(),c=e.createShader(e.VERTEX_SHADER);e.shaderSource(c,i),e.compileShader(c);var l=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(l,o),e.compileShader(l),e.attachShader(u,c),e.attachShader(u,l),e.linkProgram(u),e.useProgram(u),u.vertexPosAttrib=e.getAttribLocation(u,"attrVertex"),u.offsetUniform=e.getUniformLocation(u,"uniformOffset"),e.enableVertexAttribArray(u.vertexPosArray),e.vertexAttribPointer(u.vertexPosAttrib,a.itemSize,e.FLOAT,!1,0,0),e.uniform2f(u.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,a.numItems),null!=e.canvas&&n.push(e.canvas.toDataURL()),n.push("extensions:"+e.getSupportedExtensions().join(";")),n.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),n.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),n.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),n.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),n.push("webgl max anisotropy:"+r(e)),n.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+e.getParameter(e.RED_BITS)),n.push("webgl renderer:"+e.getParameter(e.RENDERER)),n.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),n.push("webgl vendor:"+e.getParameter(e.VENDOR)),n.push("webgl version:"+e.getParameter(e.VERSION));try{var p=e.getExtension("WEBGL_debug_renderer_info");p&&(n.push("webgl unmasked vendor:"+e.getParameter(p.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+e.getParameter(p.UNMASKED_RENDERER_WEBGL)))}catch(e){}return e.getShaderPrecisionFormat?(n.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),n.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),n.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),n.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),n.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),n.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),n.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),n.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),n.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),n.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),n.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),n.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),n.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),
n.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),n.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),n.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),n.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),n.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),n.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),n.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),n.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),n.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),n.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),n.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),n.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),n.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),n.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),n.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),n.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),n.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),n.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),n.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),n.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),n.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),n.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),n.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax),n.join("~")):n.join("~")},getAdBlock:function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t},getHasLiedLanguages:function(){if("undefined"!=typeof navigator.languages)try{var e=navigator.languages[0].substr(0,2);if(e!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth||screen.height<screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.oscpu,n=navigator.platform.toLowerCase();e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("win")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?"iOS":t.indexOf("mac")>=0?"Mac":"Other";var i;if(i="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,i&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if("undefined"!=typeof r){if(r=r.toLowerCase(),r.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(r.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(r.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if(0===r.indexOf("win")&&0===r.indexOf("linux")&&r.indexOf("mac")>=0&&"other"!==e)return!0}return n.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||(n.indexOf("linux")>=0||n.indexOf("android")>=0||n.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||(n.indexOf("mac")>=0||n.indexOf("ipad")>=0||n.indexOf("ipod")>=0||n.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||0===n.indexOf("win")&&0===n.indexOf("linux")&&n.indexOf("mac")>=0&&"other"!==e||"undefined"==typeof navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.productSub;if(e=t.indexOf("firefox")>=0?"Firefox":t.indexOf("opera")>=0||t.indexOf("opr")>=0?"Opera":t.indexOf("chrome")>=0?"Chrome":t.indexOf("safari")>=0?"Safari":t.indexOf("trident")>=0?"Internet Explorer":"Other",("Chrome"===e||"Safari"===e||"Opera"===e)&&"20030107"!==r)return!0;var n=eval.toString().length;if(37===n&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===n&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===n&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;var i;try{throw"a"}catch(e){try{e.toSource(),i=!0}catch(e){i=!1}}return!(!i||"Firefox"===e||"Other"===e)},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e,t=document.createElement("canvas");try{e=t.getContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){e=!1}return!!window.WebGLRenderingContext&&!!e},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return"undefined"!=typeof window.swfobject},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var e=document.createElement("div");e.setAttribute("id",this.options.swfContainerId),document.body.appendChild(e)},loadSwfAndDetectFonts:function(e){var t="___fp_swf_loaded";window[t]=function(t){e(t)};var r=this.options.swfContainerId;this.addFlashDivNode();var n={onReady:t},i={allowScriptAccess:"always",menu:"false"};swfobject.embedSWF(this.options.swfPath,r,"1","1","9.0.0",!1,n,i,{})},getWebglCanvas:function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},each:function(e,t,r){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e)==={})return}else for(var o in e)if(e.hasOwnProperty(o)&&t.call(r,e[o],o,e)==={})return},map:function(e,t,r){var n=[];return null==e?n:this.nativeMap&&e.map===this.nativeMap?e.map(t,r):(this.each(e,function(e,i,o){n[n.length]=t.call(r,e,i,o)}),n)},x64Add:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},x64Multiply:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},x64Rotl:function(e,t){return t%=64,32===t?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},x64LeftShift:function(e,t){return t%=64,0===t?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},x64Xor:function(e,t){return[e[0]^t[0],e[1]^t[1]]},x64Fmix:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),e=this.x64Xor(e,[0,e[0]>>>1])},x64hash128:function(e,t){e=e||"",t=t||0;for(var r=e.length%16,n=e.length-r,i=[0,t],o=[0,t],a=[0,0],s=[0,0],u=[2277735313,289559509],c=[1291169091,658871167],l=0;l<n;l+=16)a=[255&e.charCodeAt(l+4)|(255&e.charCodeAt(l+5))<<8|(255&e.charCodeAt(l+6))<<16|(255&e.charCodeAt(l+7))<<24,255&e.charCodeAt(l)|(255&e.charCodeAt(l+1))<<8|(255&e.charCodeAt(l+2))<<16|(255&e.charCodeAt(l+3))<<24],s=[255&e.charCodeAt(l+12)|(255&e.charCodeAt(l+13))<<8|(255&e.charCodeAt(l+14))<<16|(255&e.charCodeAt(l+15))<<24,255&e.charCodeAt(l+8)|(255&e.charCodeAt(l+9))<<8|(255&e.charCodeAt(l+10))<<16|(255&e.charCodeAt(l+11))<<24],a=this.x64Multiply(a,u),a=this.x64Rotl(a,31),a=this.x64Multiply(a,c),i=this.x64Xor(i,a),i=this.x64Rotl(i,27),i=this.x64Add(i,o),i=this.x64Add(this.x64Multiply(i,[0,5]),[0,1390208809]),s=this.x64Multiply(s,c),s=this.x64Rotl(s,33),s=this.x64Multiply(s,u),o=this.x64Xor(o,s),o=this.x64Rotl(o,31),o=this.x64Add(o,i),o=this.x64Add(this.x64Multiply(o,[0,5]),[0,944331445]);switch(a=[0,0],s=[0,0],r){case 15:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+9)],8));case 9:s=this.x64Xor(s,[0,e.charCodeAt(l+8)]),s=this.x64Multiply(s,c),s=this.x64Rotl(s,33),s=this.x64Multiply(s,u),o=this.x64Xor(o,s);case 8:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(l+7)],56));case 7:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(l+6)],48));case 6:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(l+5)],40));case 5:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(l+4)],32));case 4:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(l+3)],24));case 3:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(l+2)],16));case 2:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(l+1)],8));case 1:a=this.x64Xor(a,[0,e.charCodeAt(l)]),a=this.x64Multiply(a,u),a=this.x64Rotl(a,31),a=this.x64Multiply(a,c),i=this.x64Xor(i,a)}return i=this.x64Xor(i,[0,e.length]),o=this.x64Xor(o,[0,e.length]),i=this.x64Add(i,o),o=this.x64Add(o,i),i=this.x64Fmix(i),o=this.x64Fmix(o),i=this.x64Add(i,o),o=this.x64Add(o,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}},e.VERSION="1.5.1",e})},function(e,t,r){var n,i;n=[r(15),r(30),r(35),r(66),r(67),r(8),r(63),r(32),r(89),r(37)],i=function(e,t,r,n,i,o,a,s,u,c){var l;return l=function(){function e(){l=this,this.initialize()}var l;return l=null,e.prototype.initialize=function(){return this.userInfoModel=new t,this.devicesModel=new n,this.masterToken=r.get(),this.appManager=i.get(),this.deviceInfoHelper=a.get(),this.backupsPasswordModel=u.get()},e.prototype.getInfo=function(e){var t;return null==e&&(e=function(){}),this.initialize(),t=[this.userInfoModel.loadLocal(function(){}),this.devicesModel.loadLocal(function(){})],c.isLoaded()&&t.push(this.backupsPasswordModel.loadLocal(function(){})),s.all(t).then(function(t){return function(r){return e({user:t.userInfoModel,masterToken:t.masterToken,devices:t.devicesModel,apps:t.appManager,deviceUDID:t.deviceInfoHelper.getDeviceUDID(),backupsPasswordModel:c.isLoaded()?t.backupsPasswordModel:void 0})}}(this)).fail(function(e){return o.e("Fail using UserInfoHelper.getInfo")})},e.get=function(){return l?l:new e},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=[r(55),r(60),r(31),r(61),r(35),r(10)],i=function(e,t,r,n,i,s){var u;return u=function(e){function r(e){null==e&&(e={}),this.isLoadedToMemory=o(this.isLoadedToMemory,this),r.__super__.constructor.call(this),this.model=[],this.devicesApi=e.devicesApi||new t}return a(r,e),r.prototype.removeDevice=function(e,t,r){var n;return null==r&&(r=function(){}),n=this,this.devicesApi.removeDevice(e,function(){return n.removeById(e),t()},r)},r.prototype.getDevices=function(){return this.getModel()},r.prototype.getOtherDevices=function(){return s.filter(this.getDevices(),function(e){return i.get().deviceId!==e.id})},r.prototype.removeById=function(e){var t,r,n,i,o,a;for(n=-1,a=this.model,r=i=0,o=a.length;i<o;r=++i)t=a[r],e===t.id&&(n=r);return n!==-1&&this.model.splice(n,1),this.save(),this.notifyListeners()},r.prototype.addAll=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(this.model.push(t));return i},r.prototype.contains=function(e){var t,r,n,i,o;for(t=!1,o=this.model,n=0,i=o.length;n<i;n++)r=o[n],r===e&&(t=!0);return t},r.prototype.size=function(){return this.model.length},r.prototype.fetch=function(e,t){var r;r=this,null!=this.model&&this.notifyListeners(),this.devicesApi.getDevices(function(t){return r.setModel(t),r.notifyListeners(),r.save(),e()},t)},r.prototype.getStorageLocation=function(){return"authy.storage.devices"},r.prototype.toJson=function(){var e,t,r,n,i;for(r=[],i=this.model,t=0,n=i.length;t<n;t++)e=i[t],r.push(e.toJson());return r},r.prototype.fromJson=function(e){var t,r,i,o;for(t=[],r=0,i=e.length;r<i;r++)o=e[r],t.push(new n(o));return t},r.prototype.isLoadedToMemory=function(){return null!=this.model&&(this.loadedToMemory||this.model.length>0)},r}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty,u=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};n=[r(68),r(87),r(69),r(70),r(81),r(85),r(53),r(37),r(89),r(8),r(14),r(10)],i=function(e,t,r,n,i,s,c,l,p,f,d,h){var y;return y=function(){function y(){}var g,v;return v=null,g=function(e){function y(){this.isLoadedToMemory=o(this.isLoadedToMemory,this),this.updateAppsBackupsState=o(this.updateAppsBackupsState,this),this.updateAuthenticatorAppsPasswordTimestamp=o(this.updateAuthenticatorAppsPasswordTimestamp,this),this.syncApps=o(this.syncApps,this),this.removeAppsMarkedForDeletion=o(this.removeAppsMarkedForDeletion,this),this.deleteApp=o(this.deleteApp,this),this.deleteAppOrMarkForDeletion=o(this.deleteAppOrMarkForDeletion,this);var e;y.__super__.constructor.call(this),this.model=[],this.appsApi=new r,e=this,c.subscribeToCloseAppEvent(this),l.addChangePasswordEventListener(this),p.setAppManager(this),p.get().addListener(function(t){return e.updateAppsBackupsState(t.enabled)})}return a(y,e),y.prototype.filterName=function(e){return this.filter(function(t){return t.getName().toLowerCase().indexOf(e)>-1})},y.prototype.getAuthenticatorApps=function(){return this.filter(function(e){return e.isAuthenticatorAccount()})},y.prototype.getAuthenticatorTypeAppsWithOriginalName=function(){return this.filter(function(e){return("function"==typeof e.isAuthenticatorAccountType?e.isAuthenticatorAccountType():void 0)&&("function"==typeof e.getOriginalName?e.getOriginalName():void 0)})},y.prototype.getAuthyApps=function(){return this.filter(function(e){return!e.isAuthenticatorAccount()})},y.prototype.getAuthyAppsIDs=function(){return this.getAuthyApps().map(function(e){return e._id})},y.prototype.getEncryptedApps=function(){return this.filter(function(e){return e.isEncrypted()})},y.prototype.getMarkedForDeletionApps=function(){return this.filter(function(e){return e.isMarkedForDeletion()&&e.isAuthenticatorAccount()})},y.prototype.getNotMarkedForDeletionApps=function(){var e;return e=this.filter(function(e){return!e.isMarkedForDeletion()}),e.sort(this.compareApps),e},y.prototype.getNotMarkedForDeletionAuthApps=function(){return this.filter(function(e){return!e.isMarkedForDeletion()&&e.isAuthenticatorAccount()})},y.prototype.getDecryptedApps=function(){return this.filter(function(e){return!e.isEncrypted()})},y.prototype.getAuthyAppIds=function(){return this.filterIds(function(e){return!e.isAuthenticatorAccount()})},y.prototype.getAuthyAppServerIds=function(){return this.filterServerIds(function(e){return!e.isAuthenticatorAccount()})},y.prototype.getAuthenticatorAppIds=function(){return this.filterIds(function(e){return e.isAuthenticatorAccount()})},y.prototype.getAuthyAppAssetGroups=function(){var e,t,r,n,i,o;for(o=[],i=this.getAuthyApps(),r=0,n=i.length;r<n;r++)e=i[r],t=e.assetsGroup,null!=t&&o.indexOf(t)===-1&&o.push(t);return o},y.prototype.getApps=function(){return this.getModel()},y.prototype.size=function(){return this.getModel().length},y.prototype.sizeVisibleAccounts=function(){return this.getModel().length-this.getMarkedForDeletionApps().length},y.prototype.sizeAuthyAccounts=function(){return this.getAuthyAppIds().length},y.prototype.sizeAuthenticatorAccounts=function(){return this.getAuthenticatorAppIds().length},y.prototype.areAllAppsDecrypted=function(){return 0===this.getEncryptedApps().length},y.prototype.areThereAnyAuthyAccount=function(){return this.sizeAuthyAccounts()>0},y.prototype.find=function(e){var t;return t=this.filter(function(t){return t.getId()===e}),t.length>0?t[0]:null},y.prototype.findByServerId=function(e){var t;return t=this.filter(function(t){return!t.isAuthenticatorAccount()&&t.getServerId()===e}),t.length>0?t[0]:null},y.prototype.filter=function(e){var t,r,n,i,o;for(o=[],i=this.model,r=0,n=i.length;r<n;r++)t=i[r],e(t)&&o.push(t);return o},y.prototype.filterIds=function(e){var t,r,n,i,o;for(o=[],i=this.model,r=0,n=i.length;r<n;r++)t=i[r],e(t)&&o.push(t.getId());return o},y.prototype.filterServerIds=function(e){var t,r,n,i,o;for(o=[],i=this.model,r=0,n=i.length;r<n;r++)t=i[r],e(t)&&"_id"in t&&o.push(t._id);return o},y.prototype.addApp=function(e){if(!this.contains(e.getId()))return this.model.push(e)},y.prototype.addAll=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(this.addApp(t));return i},y.prototype.contains=function(e){return this.indexOf(e)!==-1},y.prototype.indexOf=function(e){var t,r,n,i,o;for(o=this.model,r=n=0,i=o.length;n<i;r=++n)if(t=o[r],t.getId()===e)return r;return-1},y.prototype.remove=function(e){var t;return t=this.indexOf(e),t!==-1&&(this.model.splice(t,1),!0)},y.prototype.removeAllEncryptedApps=function(){var e,t,r,n,i;for(n=this.getEncryptedApps(),i=[],t=0,r=n.length;t<r;t++)e=n[t],i.push(this.remove(e.getId()));return i},y.prototype.removeAll=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(this.remove(t));return i},y.prototype.clear=function(){return this.model=[]},y.prototype.createAuthenticatorApp=function(e,t){var r;return this.areAllAppsDecrypted()?(r=i.fromSecret(e,t),r.setPasswordTimestamp(this.getPasswordTimestamp()),this.updateEncryptedSeed(r),this.addApp(r),r.getId()):(f.w("User tried to add authenticator account without decrypting all apps"),null)},y.prototype.deleteAppOrMarkForDeletion=function(e,r,n,i){var o,a;return null==i&&(i=function(){}),a=this,o=this.find(e),null!=o?o.isDecrypted()?(this.markAppForDeletion(o,!0),r(!1)):t.show(t.LIGHT,"Since this account is encrypted it will be deleted immediatly. Do you want to proceed?",function(){return a.deleteApp(o,function(){return r(!0)},function(){return a.markAppForDeletion(o,!0),o.setDeleteDate(new Date),a.saveAndNotifyListeners(),f.w("The encrypted app "+e+" could not be deleted and has been marked for immediate deletion."),n()})}):(f.e("Could not delete app: App "+e+" does not exist."),i())},y.prototype.markAppForDeletion=function(e,t){var r;return null!=e?(e.setMarkedForDeletion(t),this.saveAndNotifyListeners({type:"auth-app-mark-for-deletion",app:e}),!0):(r=t?"mark":"unmark",f.e("Could not "+r+" app for deletion: App "+e.getId()+" does not exist."),!1)},y.prototype.deleteApp=function(e,t,r){var n;if(null==r&&(r=function(){}),n=this,null!=e)return this.appsApi.deleteAuthenticatorApp(e.uniqueId,function(){return n.remove(e.getId()),n.saveAndNotifyListeners({type:"auth-app-removed",app:e}),t()},function(t){return f.w("Could not delete app "+e.getId()+": "+t.message),r()})},y.prototype.removeAppsMarkedForDeletion=function(){var e,t,r,n,i,o;for(n=(new Date).getTime(),o=!1,i=this.getMarkedForDeletionApps(),t=0,r=i.length;t<r;t++)e=i[t],n>=e.deleteDate&&(this.deleteApp(e,function(){return f.d("Successfully deleted and removed app "+e.getId()+" at "+n)}),o=!0);if(o)return this.saveAndNotifyListeners()},y.prototype.syncApps=function(e){var t;return null==e&&(e={}),t=this,this.isLoadedToMemory()?this.performSync(e):this.loadLocal(function(){return t.performSync(e)})},y.prototype.performSync=function(e){var t,r,n,i,o,a,s;return null==e&&(e={}),s=this,a=e.onSuccess||function(){},o=e.onFail||function(){},i=!1,r=!1,n=!1,t=!1,this.syncAuthyApps({onSuccess:function(){if(i=!0,i&&r)return s.saveAndNotifyListeners({synced:!0}),a()},onFail:function(){if(n=!0,!t)return o()}}),this.syncAuthenticatorApps({onSuccess:function(){if(r=!0,i&&r)return s.saveAndNotifyListeners({synced:!0}),a()},onFail:function(){if(t=!0,!n)return o()}})},y.prototype.saveAndNotifyListeners=function(e){return this.save(function(){}),this.notifyListeners(e)},y.prototype.syncAuthyApps=function(e){var t,r,i;return i=this,r=e.onSuccess||function(){},t=e.onFail||function(){},this.appsApi.syncAuthyApps(this.getAuthyApps(),function(e,t){var o,a,s,c,l,p,f;for(s=[],a=i.getAuthyAppServerIds(),c=0,l=e.length;c<l;c++)f=e[c],p=f._id,u.call(a,p)>=0?(o=i.findByServerId(f._id),o.update(f),null!=f.secret_seed&&(o.setSecretSeed(f.secret_seed),o.validateAndLock())):(o=n.create(f),o.validateAndLock()),s.push(o);return i.addAll(s),i.removeAll(t.map(function(e){return n.getLocalId(e)})),r()},t)},y.prototype.syncAuthenticatorApps=function(e){var t,r,n,o,a,s,u,c,l,f;for(f=this,l=e.onSuccess||function(){},c=e.onFail||function(){},u=e.onDecryptSuccess||function(){},s=e.onDecryptFail||function(){},n=this.getAuthenticatorApps(),r=[],o=0,a=n.length;o<a;o++)t=n[o],r.push(t.uniqueId);return this.appsApi.syncAuthenticatorApps(r,function(e,r){var n,o;for(r=f.getAppsToRemoveFromSync(r),f.removeAll(r),n=0,o=e.length;n<o;n++)t=e[n],t.setUploadState(i.UPLOADED);return f.addAll(e),p.whenPasswordLoaded(function(e){return f.decryptApps(e,function(){return f.saveAndNotifyListeners({invalidateCache:!0}),u()},s)}),l()},c)},y.prototype.getAppsToRemoveFromSync=function(e){var t,r,n;return n=this,t=e.map(function(e){return i.getLocalId(e)}),r=t.map(function(e){return n.find(e)}),r=h.filter(r,function(e){return null!=e&&e.isUploaded&&e.isUploaded()}),r.map(function(e){return e.getId()})},y.prototype.getPasswordTimestamp=function(){var e,t;return e=this.getAuthenticatorApps(),e&&e.length>0?(t=h.max(e,function(e){return e.passwordTimestamp||0}),t.passwordTimestamp||d.getTimestampSeconds()):null},y.prototype.getAnyPasswordTimestamp=function(){var e,t,r,n;for(n=this.getAuthenticatorApps(),t=0,r=n.length;t<r;t++)if(e=n[t],null!=e.passwordTimestamp)return e.passwordTimestamp;return null},y.prototype.isAnyPasswordTimestampNull=function(){var e,t,r,n;for(n=this.getAuthenticatorApps(),t=0,r=n.length;t<r;t++)if(e=n[t],null==e.passwordTimestamp)return!0;return!1},y.prototype.areAllPasswordTimestampsNull=function(){var e,t,r,n;for(n=this.getAuthenticatorApps(),t=0,r=n.length;t<r;t++)if(e=n[t],e.passwordTimestamp)return!1;return!0},y.prototype.updateAuthenticatorAppsPasswordTimestamp=function(e){var t,r,n,i,o;for(i=this.getAuthenticatorApps(),o=[],r=0,n=i.length;r<n;r++)t=i[r],o.push(t.setPasswordTimestamp(e));return o},y.prototype.uploadAuthenticatorApps=function(){var e,t,r,n,i,o;for(o=this,this.areAllPasswordTimestampsNull()&&this.updateAuthenticatorAppsPasswordTimestamp(d.getTimestampSeconds()),this.isAnyPasswordTimestampNull()&&this.updateAuthenticatorAppsPasswordTimestamp(this.getAnyPasswordTimestamp()),n=o.getNotMarkedForDeletionAuthApps(),i=[],t=0,r=n.length;t<r;t++)e=n[t],e.isDecrypted()?i.push(o.uploadAuthenticatorApp(e)):i.push(void 0);return i},y.prototype.uploadAuthenticatorApp=function(e){var t;return t=this,e.setUploadState(i.UPLOADING),p.areBackupsEnabled(function(r){return r?t.appsApi.uploadAuthenticatorApp(e,function(){return e.setUploadState(i.UPLOADED),t.notifyListeners({onlyImages:!0}),t.save()}):(e.setUploadState(i.NOT_UPLOADED),t.save())})},y.prototype.updateAppsBackupsState=function(e){var t,r,n,o;for(o=this.getAuthenticatorApps(),r=0,n=o.length;r<n;r++)t=o[r],e===!1&&t.setUploadState(i.NOT_UPLOADED);return this.save()},y.prototype.decryptApps=function(e,t,r){var n,i;return i=this,n=this.getEncryptedApps(),new s(e,n,function(e,n){var o,a,s,u;if(null!=e)r();else{for(s=0,u=n.length;s<u;s++)a=n[s],o=i.find(a.id),o.setDecryptedSeed(a.decryptedSeed);t()}})},y.prototype.updateEncryptedSeeds=function(){var e,t;if(t=this,e=this.getAuthenticatorApps(),this.areAllAppsDecrypted())return p.isPasswordSet(function(r){var n,i,o,a;if(r){for(a=p.get().model.password,i=0,o=e.length;i<o;i++)n=e[i],n.setEncryptedSeed(a);return t.saveAndNotifyListeners()}})},y.prototype.updateEncryptedSeed=function(e){return p.isPasswordSet(function(t){var r;if(t)return r=p.get().model.password,e.setEncryptedSeed(r)})},y.prototype.compareApps=function(e,t){return e.getName().toLowerCase()<t.getName().toLowerCase()?-1:e.getName().toLowerCase()>t.getName().toLowerCase()?1:0},y.prototype.getStorageLocation=function(){return"authy.storage.AppManager"},y.prototype.toJson=function(){var e,t,r,n,i,o,a,s,u;for(r=[],t=[],s=this.getAuthenticatorApps(),n=0,o=s.length;n<o;n++)e=s[n],t.push(e.toJson());for(u=this.getAuthyApps(),i=0,a=u.length;i<a;i++)e=u[i],r.push(e.toJson());return{authyApps:r,authenticatorApps:t}},y.prototype.fromJson=function(e){var t,r,o,a,s,u,c,l;for(o=e.authyApps,r=e.authenticatorApps,t=[],a=0,c=o.length;a<c;a++)s=o[a],t.push(n.fromJson(s));for(u=0,l=r.length;u<l;u++)s=r[u],t.push(i.fromJson(s));return t},y.prototype.isLoadedToMemory=function(){return null!=this.model&&(this.loadedToMemory||this.model.length>0)},y.prototype.cleanUpBeforeClose=function(e){var t;return t=this,this.save(function(){return t.clear(),t.loadedToMemory=!1,e()})},y}(e),y.get=function(){return null!=v?v:v=new g},y.create=function(){return new g},window.appManager=y.get(),y}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=[r(55),r(36),r(8)],i=function(e,t,r){var n;return n=function(e){function n(){return this.save=o(this.save,this),n.__super__.constructor.apply(this,arguments)}return a(n,e),n.prototype.save=function(e){return null==e&&(e=function(){}),this.isLoadedToMemory()?(this.loadedToMemory=!0,t.save(this.getStorageLocation(),this.toJson(),e)):(r.w("Skipping save for "+this.constructor.name+" since it hasn't been loaded into memory."),e())},n.prototype.loadLocal=function(e){var r;return r=this,t.load(this.getStorageLocation(),function(t){var n;return null!=t&&(n=r.fromJson(t),r.setModel(n),r.loadedToMemory=!0,r.notifyListeners()),e()})},n}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(34),r(35),r(9),r(70),r(81)],i=function(e,t,r,n,i){var o;return o=function(){function r(){}return r.prototype.syncAuthenticatorApps=function(r,n,o){var a,s,u,c;return s=t.get(),c=s.userId,a=r.join(),u="/json/users/"+c+"/authenticator_tokens",e.getAuth(u,function(e){var t,r,o,a,s;for(s=e.authenticator_tokens,t=[],r=0,o=s.length;r<o;r++)a=s[r],t.push(i.create(a));return n(t,e.deleted)},o,{apps:a})},r.prototype.syncAuthyApps=function(r,n,i){var o,a,s,u,c,l,p,f;for(c=t.get(),f=c.userId,a=c.deviceId,p="/json/users/"+f+"/devices/"+a+"/apps/sync",l={},s=0,u=r.length;s<u;s++)o=r[s],l["vs"+o._id]=o.version;e.postAuth(p,l,function(e){return n(e.apps,e.deleted)},i)},r.prototype.deleteAuthenticatorApp=function(r,n,i){var o,a,s;return o=t.get(),s=o.userId,a="/json/users/"+s+"/authenticator_tokens/delete",e.postAuth(a,{token_id:r},function(){return n()},i)},r.prototype.uploadAuthenticatorApp=function(r,n,i){var o,a,s,u;return null==i&&(i=function(){}),o=t.get(),u=o.userId,s="/json/users/"+u+"/authenticator_tokens/update",a={name:r.getName(),original_name:r.getOriginalName(),digits:r.getDigits(),token_id:r.uniqueId,account_type:r.accountType,encrypted_seed:r.encryptedSeed,salt:r.salt,password_timestamp:r.passwordTimestamp},e.postAuth(s,a,function(){return n()},i)},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=[r(49),r(71),r(8),r(76),r(38),r(77),r(35),r(78),r(79)],i=function(e,t,r,n,i,s,u,c,l){var p;return p=function(s){function p(){this.getAccountName=o(this.getAccountName,this),this.needsHealthCheck=o(this.needsHealthCheck,this),this.validateAndLock=o(this.validateAndLock,this),p.__super__.constructor.apply(this,arguments),this.regApi=new n,this.lastCheck=null}return a(p,s),p.ID_PREFIX="AuthyApp-",p.getLocalId=function(e){return""+p.ID_PREFIX+e},p.create=function(e){var t;return t=new p,t.setId(e._id),t.setAssetsGroup(e.assets_group),t.setBackgroundColor(e.background_color),t.setCircleBackground(e.circle_background),t.setCircleColor(e.circle_color),t.setLabelsColor(e.labels_color),t.setLabelsShadowColor(e.labels_shadow_color),t.setName(e.name),t.setSerialId(e.serial_id),t.setTimerColor(e.timer_color),t.setVersion(e.version),t.setAuthyId(e.authy_id),t.setSecretSeed(e.secret_seed),t.setDigits(e.digits),t},p.prototype.update=function(e){return this.setName(e.name),this.setAssetsGroup(e.assets_group),this.setBackgroundColor(e.background_color),this.setCircleBackground(e.circle_background),this.setCircleColor(e.circle_color),this.setLabelsColor(e.labels_color),this.setLabelsShadowColor(e.labels_shadow_color),this.setTimerColor(e.timer_color),this.setVersion(e.version),this.setDigits(e.digits)},p.prototype.setLastCheckDate=function(e){return this.lastCheck=e},p.prototype.isValid=function(){return null==this.serialId?(r.w("The secret key is wrong because the id is not set."),!1):null!=this.secretSeed||(r.w("The secret key is wrong because the secretKey is empty."),!1)},p.prototype.validateAndLock=function(){var e,t;return e=this,this.isValid()?(t=i.generateSHA256(this.secretSeed),this.regApi.checkSecretSeed(u.get().deviceId,this.authyId,t,function(t){return r.d("Secret seed verified for "+e.name+": "+t.message),e.setLastCheckDate(new Date)},function(t){return r.e("Secret seed verification failed for "+e.name+": "+t.message)})):r.w("Cannot perform health check on "+e.name)},p.prototype.needsHealthCheck=function(){var e;return null===this.lastCheck||(e=parseInt(""+((new Date).getTime()-this.lastCheck.getTime())/1e3/86400,10),e>=30?(r.d("Performing health check. Days since the last check: "+e),!0):(r.d("Skipping health check. Days since the last check: "+e),!1))},p.prototype.getName=function(){return this.name},p.prototype.getDigits=function(){return this.digits},p.prototype.getOtp=function(){return this.otpGenerator.getOtp(this.digits)},p.prototype.getServerId=function(){return this._id},p.prototype.isDecrypted=function(){
return!0},p.prototype.isMarkedForDeletion=function(){return!1},p.prototype.isAuthenticatorAccount=function(){return!1},p.prototype.getMenuImage=function(){return t.get().getMenuItemUrl(this.assetsGroup)},p.prototype.setId=function(e){return this._id=e},p.prototype.setSerialId=function(e){return this.serialId=e},p.prototype.getSerialId=function(){return this.serialId},p.prototype.getTokenId=function(){return this._id},p.prototype.setSecretSeed=function(t){return this.secretSeed=t,this.otpGenerator=new e(this.secretSeed,!1)},p.prototype.setVersion=function(e){return this.version=e},p.prototype.setName=function(e){return this.name=e,this.accountType=e},p.prototype.setAuthyId=function(e){return this.authyId=e},p.prototype.setDigits=function(e){return this.digits=e},p.prototype.setAssetsGroup=function(e){return this.assetsGroup=e},p.prototype.setBackgroundColor=function(e){return this.backgroundColor=e},p.prototype.setCircleBackground=function(e){return this.circleBackground=e},p.prototype.setCircleColor=function(e){return this.circleColor=e},p.prototype.setLabelsColor=function(e){return this.labelsColor=e},p.prototype.setLabelsShadowColor=function(e){return this.labelsShadowColor=e},p.prototype.setTimerColor=function(e){return this.timerColor=e},p.prototype.setTokenColor=function(e){return this.tokenColor=e},p.prototype.toJson=function(){return{type:"AuthyApp",_id:this._id,serialId:this.serialId,authyId:this.authyId,secretSeed:this.secretSeed,version:this.version,name:this.name,digits:this.digits,assetsGroup:this.assetsGroup,backgroundColor:this.backgroundColor,circleBackground:this.circleBackground,circleColor:this.circleColor,labelsColor:this.labelsColor,labelsShadowColor:this.labelsShadowColor,timerColor:this.timerColor,tokenColor:this.tokenColor,createdDate:this.createdDate}},p.fromJson=function(e){var t;return t=new p,t.setId(e._id),t.setSerialId(e.serialId),t.setAuthyId(e.authyId),t.setSecretSeed(e.secretSeed),t.setVersion(e.version),t.setDigits(e.digits),t.setName(e.name),t.createdDate=e.createdDate,t.setAssetsGroup(e.assetsGroup),t.setBackgroundColor(e.backgroundColor),t.setCircleBackground(e.circleBackground),t.setCircleColor(e.circleColor),t.setLabelsColor(e.labelsColor),t.setLabelsShadowColor(e.labelsShadowColor),t.setTimerColor(e.timerColor),t.setTokenColor(e.tokenColor),t},p.prototype.getAccountName=function(){return c(l(this.getName()))},p.prototype.getId=function(){return""+p.ID_PREFIX+this._id},p.prototype.getAppId=function(){return this.getSerialId()},p}(s)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=[r(72),r(73),r(31),r(8),r(42)],i=function(e,t,r,n,i){var a;return a=function(){function a(){}var s,u;return a.ASSET_MANIFEST_STORAGE="authy.storage.assetManifest",u=null,s=function(){function s(){this.onAssetManifestDownloaded=o(this.onAssetManifestDownloaded,this),this.allAccountsIncluded=o(this.allAccountsIncluded,this),this.saveAssetManifest=o(this.saveAssetManifest,this),this.updateDownloaded=o(this.updateDownloaded,this),this.whenManifestDownloaded=o(this.whenManifestDownloaded,this),this.downloaded=!1,this.downloadedCallback=null,this.assetsApi=new e,this.assetAccounts={}}return s.prototype.invalidateDownloadedCallback=function(){return this.downloaded=!1,this.downloadedCallback=null},s.prototype.whenManifestDownloaded=function(e){return this.downloaded?e():this.downloadedCallback=e},s.prototype.updateDownloaded=function(){if(this.downloaded=!0,null!=this.downloadedCallback)return this.downloadedCallback()},s.prototype.downloadAssets=function(e,t){var i,o;return null==e&&(e=[]),null==t&&(t=function(){}),o=this,i=function(t,r){return o.assetsApi.getAssetsManifest(function(e){return o.onAssetManifestDownloaded(e,function(n){return o.saveAssetManifest(t,e),r(n)})},function(){return o.updateDownloaded(),n.w("Could not download asset manifest from server. Using version stored in disk.")},e.join())},r.loadObject(a.ASSET_MANIFEST_STORAGE,function(e){return null!==e?o.onAssetManifestDownloaded(e,function(){return i(e,t)}):i(e,t)})},s.prototype.saveAssetManifest=function(e,t){return null!=e?(i.extend(e.urls,t.urls),i.extend(e.md5s,t.md5s),i.extend(t.urls,e.urls),i.extend(t.md5s,e.md5s),t.count=Object.keys(t.urls).length,r.save(a.ASSET_MANIFEST_STORAGE,t)):r.save(a.ASSET_MANIFEST_STORAGE,t)},s.prototype.allAccountsIncluded=function(e){var t,r,n;for(t=0,r=e.length;t<r;t++)if(n=e[t],!(n in this.assetAccounts))return!1;return!0},s.prototype.onAssetManifestDownloaded=function(e,r){var n,i,o,a,s,u;return null==r&&(r=function(){}),s=this,this.downloaded=!1,u=e.urls,a=e.md5s,n=Object.keys(u),i=!1,(o=function(e){var c,l,p,f;return e<n.length?(c=n[e],l=c,f=u[l].menu_item_url,p=a[l].menu_item_url,new t(l,f,p,function(t){return s.assetAccounts[l]=t,t.wasUpdated()&&(i=!0),o(e+1)})):(r(i),s.updateDownloaded())})(0)},s.prototype.getMenuItemUrl=function(e){return e in this.assetAccounts?this.assetAccounts[e].getMenuImage():t.MENU_ITEM_PLACEHOLDER},s.prototype.getAssetAccounts=function(){var e,t;return function(){var r,n;r=this.assetAccounts,n=[];for(t in r)e=r[t],n.push(e);return n}.call(this)},s}(),a.get=function(){return null!=u?u:u=new s},a}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(34),r(9)],i=function(e,t){var r;return r=function(){function t(){}return t.prototype.getAssetsManifest=function(t,r,n){return null==n&&(n=""),e.get("/assets/chrome/high",function(e){return t(e)},r,{app_ids:n})},t.prototype.getAuthenticatorConfig=function(t,r){return e.get("/json/authenticator_tokens/config",function(e){return t(e)},r)},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}};n=[r(31),r(74),r(75),r(8)],i=function(e,t,r,n){var i;return i=function(){function i(i,a,s,u){var c;this.accountName=i,this.menuItemUrl=a,this.menuItemMd5=s,null==u&&(u=function(){}),this.setUpdated=o(this.setUpdated,this),this.wasUpdated=o(this.wasUpdated,this),c=this,this.assetUpdated=!1,this.menuItemLoaded=!1,this.listeners=[],e.loadObject(this.getStorageLocation(),function(e){return null===e||null===e.menuItemMd5||e.menuItemMd5!==c.menuItemMd5?t.loadImage(c.menuItemUrl,function(e){return c.onMenuImageLoaded(e,u)}):r.getFile(e.accountName,function(t){return c.setMenuItemUrl(e.menuItemUrl,u)},function(){return n.d("Downloading the assets for "+e.accountName+" because not found on FileSystem"),t.loadImage(c.menuItemUrl,function(e){return c.onMenuImageLoaded(e,u)})})})}return i.MENU_ITEM_PLACEHOLDER="img/default-menu-image.png",i.prototype.setMenuItemUrl=function(e,t){return null==t&&(t=function(){}),this.menuItemBlobUrl=e,this.menuItemLoaded=!0,this.notifyListeners(),t(this)},i.prototype.onMenuImageLoaded=function(t,i){var o;return null==i&&(i=function(){}),o=this,n.d(t),r.writeBlobToFile(this.accountName,t,function(t){return o.setUpdated(!0),o.setMenuItemUrl(t,i),e.save(o.getStorageLocation(),{accountName:o.accountName,menuItemUrl:t,menuItemMd5:o.menuItemMd5})},function(){})},i.prototype.getMenuImage=function(){return this.menuItemLoaded?this.menuItemBlobUrl:this.MENU_ITEM_PLACEHOLDER},i.prototype.registerListener=function(e){return this.listeners.push(e)},i.prototype.notifyListeners=function(){var e,t,r,n,i;for(n=this.listeners,i=[],e=0,t=n.length;e<t;e++)r=n[e],i.push(r(this));return i},i.prototype.getStorageLocation=function(){return"asset-account-"+this.accountName},i.prototype.wasUpdated=function(){return this.assetUpdated},i.prototype.setUpdated=function(e){return this.assetUpdated=e},i.load=function(e){},i}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(42)],i=function(e){var t;return t=function(){function t(){}return t.loadImage=function(t,r){var n;return t+="?"+e.param({r:Math.floor(1001*Math.random())}),n=new XMLHttpRequest,n.responseType="blob",n.onload=function(){return r(n.response,t,n)},n.open("GET",t,!0),n.send(),n},t.setImage=function(e,r){return t.loadImage(e,function(t,r){return e.attr("src",t)})},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(8)],i=function(e){var t;return t=function(){function t(){}return t.fs=null,t.initialize=function(r,n){var i;return i=this,null===t.fs?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.PERSISTENT,1073741824,function(e){return t.fs=e,r()},function(t){return e.e("Unable to load filesystem "),e.e(t)})):r()},t.createDirectory=function(r,n,i){return t.initialize(function(){return t.fs.root.getDirectory(r,{create:!0},function(t){return e.d(t),n(t)},i)},i)},t.writeBlobToFile=function(r,n,i,o){return t.initialize(function(){return t.fs.root.getFile(r,{create:!0},function(t){return t.createWriter(function(r){return r.onwriteend=function(r){return e.d(t.toURL()),i(t.toURL())},r.onerror=o,r.write(n)},o)},o)},o)},t.getFile=function(e,r,n){return t.initialize(function(){return t.fs.root.getFile(e,{},function(e){return e.file(function(e){var t;return t=new FileReader,t.onloadend=function(e){return r(this.result)},t.onerror=n,t.readAsText(e)},n)},n)},n)},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(34),r(9),r(63)],i=function(e,t,r){var n;return n=function(){function n(){}return n.prototype.createAccount=function(t,r,n,i,o){return e.post("/json/users/new",{email:n,cellphone:r,country_code:t},function(e){return i(e.authy_id)},o)},n.prototype.getDeviceStatus=function(t,n,i,o){var a;return a={},r.get().getDeviceUDID()&&(a.uuid=r.get().getDeviceUDID()),e.get("/json/users/"+t+"-"+n+"/status",function(e){return i(e.devices_count,e.message,e.authy_id,e.force_ott)},o,a)},n.prototype.createNewDeviceRequest=function(r,n,i,o,a){return e.post("/json/users/"+r+"/devices/registration/start",{via:i,signature:n,api_key:t.API_KEY,device_app:t.getFlavor()},function(e){return o(e.message,e.request_id,e.approval_pin,e.provider)},a)},n.prototype.getNewDeviceRequestStatus=function(t,r,n,i,o){return e.get("/json/users/"+t+"/devices/registration/"+r+"/status",function(e){return i(e.status,e.pin)},o,{signature:n})},n.prototype.recoverAccount=function(t,r,n){return e.post("/json/users/"+t+"/request_reset",{},function(e){return r(e.message)},function(e){return n(e)})},n.prototype.registerNewDevice=function(n,i,o,a){var s;return s={pin:i,device_app:t.getFlavor()},r.get().getDeviceUDID()&&(s.uuid=r.get().getDeviceUDID()),e.post("/json/users/"+n+"/devices/registration/complete",s,function(e){return o(e.authy_id,e.device.id,e.device.secret_seed,e.device.reinstall)},function(e){return a(e)})},n.prototype.checkSecretSeed=function(t,r,n,i,o){return e.get("/json/devices/"+t+"/soft_tokens/"+r+"/check",i,o,{sha:n})},n}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(40)],i=function(e){var t;return t=function(){function t(){this.createdDate=(new Date).getTime(),this.accountType="unknown",this.DEFAULT_AUTHY_LOGO_TYPE="authy",this.AUTHY_TYPE="authy",this.AUTHENTICATOR_TYPE="authenticator"}return t.prototype.isEncrypted=function(){return!this.isDecrypted()},t.prototype.getName=function(){throw new e},t.prototype.getAppId=function(){throw new e},t.prototype.getTokenId=function(){throw new e},t.prototype.getOtp=function(){throw new e},t.prototype.isDecrypted=function(){throw new e},t.prototype.isMarkedForDeletion=function(){throw new e},t.prototype.isAuthenticatorAccount=function(){throw new e},t.prototype.getMenuImage=function(){throw new e},t.prototype.toJson=function(){throw new e},t.prototype.getAccountName=function(){throw new e},t.prototype.getId=function(){throw new e},t.prototype.formatToken=function(){return function(e,t){switch(e=null!=t?t(e):e,e.length){case 6:return e.slice(0,3)+'<span class="tokenCodeSpace"> </span>'+e.slice(3,6);case 7:return e.slice(0,2)+'<span class="tokenCodeSpaceSmall"> </span><strong>'+e.slice(2,5)+'</strong><span class="tokenCodeSpaceSmall"> </span>'+e.slice(5,7);case 8:return e.slice(0,3)+'<span class="tokenCodeSpaceSmall"> </span><strong>'+e.slice(3,5)+'</strong><span class="tokenCodeSpaceSmall"> </span>'+e.slice(5,8);default:return e}}},t.prototype.getLogoType=function(){return this.isAuthenticatorAccount()?this.accountType:this.DEFAULT_AUTHY_LOGO_TYPE},t.prototype.getAccountType=function(){return this.isAuthenticatorAccount()?this.AUTHENTICATOR_TYPE:this.AUTHY_TYPE},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n=r(45);e.exports=function(e){return n(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}},function(e,t,r){var n=r(80),i=r(43),o=r(44);e.exports=function(e){return n(o(i(e).replace(/_id$/,"").replace(/_/g," ")))}},function(e,t,r){var n=r(45);e.exports=function(e,t){e=n(e);var r=t?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+r}},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=[r(82),r(71),r(77),r(38),r(14),r(50),r(78),r(79),r(83)],i=function(e,t,r,n,i,s,u,c,l){var p;return p=function(r){function p(){this.getAccountName=o(this.getAccountName,this),this.setMarkedForDeletion=o(this.setMarkedForDeletion,this),this.isDecrypted=o(this.isDecrypted,this),this.setPasswordTimestamp=o(this.setPasswordTimestamp,this),this.setEncryptedSeed=o(this.setEncryptedSeed,this),this.setDecryptedSeed=o(this.setDecryptedSeed,this),p.__super__.constructor.apply(this,arguments),this.otpGenerator=new e,this.setUploadState(p.NOT_UPLOADED)}return a(p,r),p.UPLOADING="uploading",p.UPLOADED="uploaded",p.NOT_UPLOADED="not_uploaded",p.STATES=[p.UPLOADING,p.UPLOADED,p.NOT_UPLOADED],p.HOURS_BEFORE_DELETION=48,p.ID_PREFIX="GoogleAuthApp-",p.DEFAULT_ACCOUNT_TYPE="authenticator",p.getLocalId=function(e){return""+p.ID_PREFIX+e},p.create=function(e){var t;return t=new p,t.accountType=e.account_type,t.encryptedSeed=e.encrypted_seed,t.name=e.name,t.originalName=e.original_name,t.passwordTimestamp=e.password_timestamp,t.salt=e.salt,t.uniqueId=e.unique_id,t.markedForDeletion=!1,t.deleteDate=null,t.digits=e.digits,t},p.prototype.setDecryptedSeed=function(e){return this.decryptedSeed=e},p.prototype.setEncryptedSeed=function(e){return this.salt||(this.salt=n.generateSalt()),this.encryptedSeed=n.encryptAES(this.salt,e,this.decryptedSeed)},p.prototype.setPasswordTimestamp=function(e){return this.passwordTimestamp=e},p.prototype.getUploadState=function(){return this.uploadState},p.prototype.isUploaded=function(){return this.uploadState===p.UPLOADED},p.prototype.setUploadState=function(e){var t,r,n,i,o;for(t=!1,i=p.STATES,r=0,n=i.length;r<n;r++)o=i[r],o===e&&(t=!0);if(t===!1)throw Error("state "+e+" is not in STATES");return this.uploadState=e},p.prototype.getBackingUpImage=function(){return this.getUploadState()===p.UPLOADED?"img/settings-screen/backups_green_icon.png":this.getUploadState()===p.UPLOADING?"img/settings-screen/backups_gray_icon.png":"img/settings-screen/backups_red_icon.png"},p.prototype.setName=function(e){return this.name=e},p.prototype.setAccountType=function(e){return this.accountType=e},p.prototype.setDigits=function(e){return this.digits=e},p.prototype.getName=function(){return this.name},p.prototype.getDigits=function(){return this.digits},p.prototype.getOriginalName=function(){return this.originalName},p.prototype.getOtp=function(){return this.isEncrypted()?"------":this.otpGenerator.getOtp(this.decryptedSeed,this.digits)},p.prototype.isDecrypted=function(){return null!=this.decryptedSeed},p.prototype.isMarkedForDeletion=function(){return this.markedForDeletion===!0},p.prototype.setMarkedForDeletion=function(e){var t;return e?(t=new Date,t.setHours(t.getHours()+p.HOURS_BEFORE_DELETION),this.setDeleteDate(t)):this.deleteDate=null,this.markedForDeletion=e},p.prototype.setDeleteDate=function(e){return this.deleteDate=e.getTime()},p.prototype.isAuthenticatorAccount=function(){return!0},p.prototype.isAuthenticatorAccountType=function(){return l(this.accountType,p.DEFAULT_ACCOUNT_TYPE)},p.prototype.getMenuImage=function(){return t.get().getMenuItemUrl(this.accountType)},p.prototype.toJson=function(){return{type:"GoogleAuthApp",account_type:this.accountType,encrypted_seed:this.encryptedSeed,name:this.getName(),original_name:this.originalName,password_timestamp:this.passwordTimestamp,salt:this.salt,unique_id:this.uniqueId,decrypted_seed:this.decryptedSeed,upload_state:this.uploadState,marked_for_deletion:this.markedForDeletion,delete_date:this.deleteDate,createdDate:this.createdDate,digits:this.digits}},p.fromJson=function(e){var t;return t=new p,t.uniqueId=e.unique_id,t.name=e.name,t.originalName=e.original_name,t.accountType=e.account_type,t.salt=e.salt,t.encryptedSeed=e.encrypted_seed,t.decryptedSeed=e.decrypted_seed,t.passwordTimestamp=e.password_timestamp,t.setUploadState(e.upload_state),t.markedForDeletion=e.marked_for_deletion,t.deleteDate=parseInt(e.delete_date,10),t.createdDate=e.createdDate,t.digits=e.digits,s.isBase32(t.decryptedSeed)||(t.decryptedSeed=null),t},p.fromSecret=function(e,t){var r,n;return null==t&&(t=6),n=i.getTimestampSeconds(),r=new p,r.uniqueId=n,r.name="",r.originalName="",r.accountType="unknown",r.salt=null,r.encryptedSeed=null,r.decryptedSeed=e,r.passwordTimestamp=null,r.setUploadState(p.NOT_UPLOADED),r.markedForDeletion=!1,r.deleteDate=null,r.digits=t,r},p.prototype.getAccountName=function(){var e;return e=this.accountType?this.accountType:this.getName(),u(c(e))},p.prototype.getId=function(){return""+p.ID_PREFIX+this.uniqueId},p.prototype.getAppId=function(){return null},p.prototype.getTokenId=function(){return this.uniqueId},p.prototype.toString=function(){return"name:"+this.getName()+", uploadState:"+this.getUploadState()+", uniqueId:"+this.unique_id},p}(r)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(51),r(50)],i=function(e,t){var r;return r=function(){function r(){}return r.TIME_STEP=30,r.prototype.getOtp=function(n,i){var o,a;return null==i&&(i=6),n=t.base32tohex(n).toUpperCase(),a=e.getUnixTime(),o=e.time(a,0,r.TIME_STEP),e.totp(n,o,i)},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n=r(45),i=r(84);e.exports=function(e,t,r){return e=n(e),t=""+t,r=null==r?0:Math.min(i(r),e.length),e.lastIndexOf(t,r)===r}},function(e,t){e.exports=function(e){return e<0?0:+e||0}},function(e,t,r){var n,i;n=[r(8),r(86)],i=function(e,t){var r;return r=function(){function r(r,n,i){var o;o=this,this.worker=new t,this.worker.addEventListener("message",function(t){var a;return a=t.data,"decryption-successful"===a.cmd?i(null,a.result):"decryption-failed"===a.cmd?(i(a.result,null),e.e(a.result.message)):"ready"===a.cmd?o.run(r,n):void 0})}return r.prototype.run=function(e,t){this.postPasswordMessage(e),this.postDecryptAppsMessage(t)},r.prototype.postPasswordMessage=function(e){return this.worker.postMessage({cmd:"password",password:e})},r.prototype.postDecryptAppsMessage=function(e){return this.worker.postMessage({cmd:"apps",apps:this.serializeApps(e)})},r.prototype.serializeApps=function(e){return e.map(function(e){return{id:e.getId(),salt:e.salt,encryptedSeed:e.encryptedSeed}})},r}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){e.exports=function(){return new Worker(r.p+"67dc0e2d1d3dff2ed400.worker.js")}},function(e,t,r){var n,i;n=[r(88),r(5),r(42),r(48)],i=function(e,t,r,n){var i;return i=function(){function i(){}return i.DARK="dark",i.LIGHT="light",i.BTN_POSITIVE_ID="btnPositive",i.BTN_POSITIVE_SELECTOR="#"+i.BTN_POSITIVE_ID,i.BTN_NEGATIVE_ID="btnNegative",i.BTN_NEGATIVE_SELECTOR="#"+i.BTN_NEGATIVE_ID,i.DIALOG_TEMPLATE='<div id="simpleDialog" class="dialog reveal-modal simple-dialog-{{tone}} dialog-{{type}}" data-reveal>\n    {{#title}}<p class="dialog-title">{{title}}</p>{{/title}}\n    {{#titleImg}}<img src="/img/preloader.gif">{{/titleImg}}\n    <p class="dialog-message">{{{text}}}</p>\n    {{#hasInput}}<input type="text" id="dialogInput" placeholder="{{placeholder}}" class="{{inputClass}}">{{/hasInput}}\n    <div class="button-container">\n        {{#hasPositive}}<button id="'+i.BTN_POSITIVE_ID+'" class="button-positive button-modal">{{positive}}</button>{{/hasPositive}}\n        {{#hasNegative}}<button id="'+i.BTN_NEGATIVE_ID+'" class="button-negative button-modal">{{negative}}</button>{{/hasNegative}}\n    </div>\n</div>',i.simple=function(e,t,r){var n;return n=i.displayDialog({message:t,tone:e,actions:{onPositive:{selector:i.BTN_POSITIVE_SELECTOR,callback:r}}})},i.show=function(e,t,r,n,o,a){var s;return s=i.displayDialog({message:t,tone:e,hasNegative:!0,display_bg:"block",positiveMsg:null!=o?o:void 0,negativeMsg:null!=a?a:void 0,actions:{onPositive:{selector:i.BTN_POSITIVE_SELECTOR,callback:r},onNegative:{selector:i.BTN_NEGATIVE_SELECTOR,callback:n}}})},i.error=function(e,t,r,n){var o;return null==r&&(r="Error!"),null==n&&(n=function(){}),o=i.displayDialog({title:r,message:t,tone:e,actions:{onPositive:{selector:i.BTN_POSITIVE_SELECTOR,callback:n}}})},i.simpleWithTitle=function(e,t,r,n){var o;return o=i.displayDialog({title:r,message:t,tone:e,actions:{onPositive:{selector:i.BTN_POSITIVE_SELECTOR,callback:n}}})},i.progress=function(e,t,r,n,o){var a;return null==n&&(n="Loading..."),null==o&&(o=!1),a=i.displayDialog({title:n,message:t,tone:e,hasPositive:!1,titleImg:o,onShowCb:r||function(){}})},i.input=function(e,t,r,n,o,a){var s;return null==a&&(a=function(){}),s=i.displayDialog({message:t,tone:e,hasPositive:!0,hasNegative:!0,display_bg:"block",hasInput:!0,placeholder:n,actions:{onPositive:{selector:i.BTN_POSITIVE_SELECTOR,callback:o,notClose:!0},onNegative:{selector:i.BTN_NEGATIVE_SELECTOR,callback:a}}})},i.simpleWithoutButtons=function(e,t,r){var n;return null==r&&(r=""),n=i.displayDialog({title:r,message:t,tone:e,hasPositive:!1})},i.displayDialog=function(e){var n,o,a,s,u,c,l,p,f,d,h,y,g,v;if(null==e.tone||(d=e.tone)!==i.DARK&&d!==i.LIGHT)throw new Error("Tone must be specified");return h=e.selector||"#simpleDialog",y=e.template||i.DIALOG_TEMPLATE,g=e.title,c=e.message,o=e.hasInput||!1,p=e.placeholder||"",u=e.tone===i.LIGHT?"white":i.DARK,a=null==e.hasPositive||e.hasPositive,f=e.positiveMsg||"Accept",l=e.negativeMsg||"Cancel",v=t.getCurrentWindowType(),s=i.renderTemplate(y,{title:g,text:c,hasPositive:a,positive:f,hasNegative:e.hasNegative,negative:l,tone:e.tone,type:v,hasInput:o,placeholder:p,inputClass:u,titleImg:e.titleImg}),n=i.getDialogElement(h,s),i.bindDialogActions(n,e.actions),i.open(n,e.tone,e.onShowCb),null!=e.actions&&null!=e.actions.onPositive.selector&&r(e.actions.onPositive.selector).focus(),n},i.getDialogElement=function(e,t){var n;return n=r(e),0!==n.length&&n.remove(),r(".dialog").remove(),r("body").append(t),n=r(e)},i.bindDialogActions=function(e,t){if(null!=t&&(null!=t.onPositive&&null!=t.onPositive.selector&&e.find(t.onPositive.selector).on("click keyup",function(){if(null!=t.onPositive.notClose?t.onPositive.notClose||i.close(e):i.close(e),null!=t.onPositive.callback)return t.onPositive.callback(r("#dialogInput").val())}).keydown(function(e){return e.preventDefault()}),null!=t.onNegative&&null!=t.onNegative.selector))return e.find(t.onNegative.selector).click(function(){if(null!=t.onNegative.notClose?t.onNegative.notClose||i.close(e):i.close(e),null!=t.onNegative.callback)return t.onNegative.callback()})},i.renderTemplate=function(e,t){return n.render(e,t)},i.open=function(t,r,n){return null==n&&(n=function(){}),e.displayOverlay(r,function(){return t.css("visibility","visible"),t.show(50,n)})},i.close=function(t){var r;return t.css("visibility","hidden"),t.hide(),r=t.hasClass("simple-dialog-light")?i.LIGHT:i.DARK,e.hideOverlay(r)},i}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(42)],i=function(e){var t;return t=function(){function t(){}var r;return t.OVERLAY_TEMPLATE="<div id='overlay'>\n</div>",r=null,t.displayOverlay=function(e,r){return null==r&&(r=function(){}),t.getOverlay(e).show(0,r)},t.hideOverlay=function(e,r){return null==r&&(r=function(){}),t.getOverlay(e).hide(0,r)},t.getOverlay=function(n){var i;return i="overlay-"+n,0!==e("#overlay-"+n).length&&null!=r||(r=e(t.OVERLAY_TEMPLATE),r.attr("id",i),r.height(e("body").height()),e("body").append(r)),r},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=[r(68),r(53),r(37),r(8),r(14)],i=function(e,t,r,n,i){var s;return s=function(){function s(){}var u,c,l;return l=null,c=null,u=function(e){function i(){this.cleanUpBeforeClose=o(this.cleanUpBeforeClose,this),this.isLoadedToMemory=o(this.isLoadedToMemory,this),this.areBackupsEnabled=o(this.areBackupsEnabled,this),i.__super__.constructor.call(this),t.subscribeToCloseAppEvent(this),r.addChangePasswordEventListener(this)}return a(i,e),i.prototype.areBackupsEnabled=function(){return this.model?this.model.enabled:null},i.prototype.setPassword=function(e,t){return null==t&&(t=function(){}),null==this.model&&(this.model={}),this.prev=this.toJson(),this.model.password=e,this.model.enabled=!0,this.save(function(e){return function(){return e.notifyListeners({enabled:e.model.enabled,type:"enabled"}),n.d("New backups password saved"),t()}}(this))},i.prototype.isPasswordSet=function(){return null!=this.model.password},i.prototype.setEnabled=function(e,t){return null==t&&(t=function(){}),this.prev=this.toJson(),this.model.enabled=e,e||(this.model.password=null),this.save(function(r){return function(){return r.notifyListeners({enabled:r.model.enabled,type:"enabled"}),n.d("Backups password enabled is now set to "+e+" and saved"),t()}}(this))},i.prototype.getStorageLocation=function(){return"authy.storage.backupspassword"},i.prototype.toJson=function(){var e;return e={password:this.model.password,enabled:this.model.enabled}},i.prototype.fromJson=function(e){return e},i.prototype.fetch=function(e,t){return e()},i.prototype.isLoadedToMemory=function(){return this.loadedToMemory||null!=this.model},i.prototype.cleanUpBeforeClose=function(e){var t;return t=this,this.save(function(){return t.model=null,t.loadedToMemory=!1,e()})},i}(e),s.get=function(){return null==l&&(l=new u),l},s.getAppManager=function(){return c},s.setAppManager=function(e){return c=e},s.areBackupsEnabled=function(e){var t;return t=s.get(),t.isLoadedToMemory()?e(t.areBackupsEnabled()):t.loadLocal(function(){return e(t.isLoadedToMemory()?t.areBackupsEnabled():!1)})},s.whenPasswordLoaded=function(e){return s.isPasswordSet(function(t){var r;if(t)return r=s.get().model.password,e(r)})},s.setPassword=function(e,t){var r;return null==t&&(t=function(){}),r=s.get(),r.isLoadedToMemory()?r.setPassword(e,t):r.loadLocal(function(){return r.setPassword(e,t)})},s.setEnabled=function(e,t){var r;return null==t&&(t=function(){}),r=s.get(),r.isLoadedToMemory()&&r.isPasswordSet()?r.setEnabled(e,t):r.loadLocal(function(){if(r.isLoadedToMemory()&&r.isPasswordSet())return r.setEnabled(e,t);throw new Error("Can not set enabled flag. Backups Password has not been set")})},s.isPasswordSet=function(e){var t;return t=s.get(),t.isLoadedToMemory()&&t.isPasswordSet()?e(!0):t.loadLocal(function(){return e(t.isLoadedToMemory()&&t.isPasswordSet()?!0:!1)})},s.changePassword=function(e,t){var r,n,o;return null==t&&(t={}),o=t.timestamp||i.getTimestampSeconds(),r=t.cb||function(){},n=t.onFail||function(){},s.setPassword(e,function(){return c.removeAllEncryptedApps(),c.syncAuthenticatorApps({onDecryptSuccess:function(){return c.updateAuthenticatorAppsPasswordTimestamp(o),c.updateEncryptedSeeds(),c.uploadAuthenticatorApps(),c.save(),r()},onDecryptFail:function(){return n()}})})},s.getPassword=function(e){return s.isPasswordSet(function(t){return e(t?s.get().model.password:null)})},s.createNew=function(){return l=new u},s}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[],i=function(){var e;return e=function(){function e(){}var t,r;return t=function(){return navigator.language||navigator.userLanguage||""},r=function(){return t().split("-")[0]},e.get=function(){return r()},e}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13),r(62)],i=function(e,t){var r;return r=function(e){function r(e,t){var n,i;null==t&&(t={}),r.__super__.constructor.call(this,e,t),this.setAppCommonParams(),(null!=(n=t.data)?n.message:void 0)&&this.setErrorMessage(t.data.message),(null!=(i=t.data)?i.stack:void 0)&&this.setStackTrace(t.data.stack)}return o(r,e),r.prototype.events={app_crashed:{message:"When the app crashes unexpectedly.",name:"app_crashed",level:t.level.ERROR},app_error_logged:{message:"When the app logs an error in the console.",name:"app_error_logged",level:t.level.ERROR}},r.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},r}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13),r(54)],i=function(e,t){var r;return r=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams(),r.sessionTimeInSeconds&&this.setSessionTimeInSeconds(r.sessionTimeInSeconds)}return o(t,e),t.prototype.events={app_init:{message:"User opens the app",name:"app_session_initialized"},app_session:{message:"Session time user spends using the app",name:"app_session_finished"}},t.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13)],i=function(e){var t;return t=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams(),r.authBackMode&&this.setAuthenticatorBackupsEnableMode(r.authBackMode)}return o(t,e),t.prototype.events={authenticator_backups_enable:{message:"Users that enable/disable backups",name:"authenticator_backups_enabled"},authenticator_backups_disable:{message:"Users that enable/disable backups",name:"authenticator_backups_disabled"},authenticator_backups_change_password:{message:"Users that change their backups password",name:"authenticator_backups_password_changed"},authenticator_backups_skip:{message:"Users that do not have backups enabled and then click on the 'Skip' button",name:"authenticator_backups_skipped"},authenticator_backups_skip_ignore:{message:"Users that do not have backups enabled and then click on the 'Skip' button and also click on the 'Ignore' button on the dialog that encourages to enable backup passwords",name:"authenticator_backups_skip_ignored"},authenticator_backups_skip_enable:{message:"Users that do not have backups enabled and then click on the 'Skip' button and then click on the 'Enable' button on the dialog that encourages to enable backup passwords",name:"authenticator_backups_skip_enabled"},authenticator_backups_reminder_shown:{message:"Users that do not have backups enabled and are shown the backup reminder dialog",name:"authenticator_backups_reminder_shown"},authenticator_backups_reminder_enable:{message:"Users that do not have backups enabled and are shown the backup reminder dialog and then click on the 'Enable' button",name:"authenticator_backups_reminder_enabled"}},t.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},t.prototype.validate=function(){
if(t.__super__.validate.call(this),!this.getUserId())throw new Error("User id should be set")},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13),r(54)],i=function(e,t){var r;return r=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams()}return o(t,e),t.prototype.events={installation_app_re_installed:{message:"User reinstalls the app",name:"installation_app_re_installed"},installation_app_first_time_installed:{message:"User installs the app for the first time",name:"installation_app_first_time_installed"}},t.prototype.validate=function(){if(t.__super__.validate.call(this),!this.getAnonymousUserId())throw new Error("Anonymous user id should be set")},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13)],i=function(e){var t;return t=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams()}return o(t,e),t.prototype.events={master_token_change:{message:"Users that changes the master token",name:"master_token_changed"},master_token_view:{message:"Users that see the master token view",name:"master_token_view_shown"},master_token_success:{message:"Users that enter the master token successfully",name:"master_token_app_unlocked"},master_token_fail:{message:"Users that enter a wrong master token",name:"master_token_unlock_failed"},master_token_set_first_time:{message:"Users that set the master token for first time",name:"master_token_first_time_set"}},t.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13)],i=function(e){var t;return t=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams(),r.previousLogo&&this.setPreviousLogo(r.previousLogo),r.app&&this.setAccountInfoCommonParams(r.app),null!=r.accountRow&&this.setAccountRow(r.accountRow),null!=r.accountColumn&&this.setAccountColumn(r.accountColumn),r.viewMode&&this.setViewMode(r.viewMode)}return o(t,e),t.prototype.events={account_add:{message:"When users add an account",name:"account_added"},account_select:{message:"Users selecting account from account list/grid in app",name:"account_selected"},account_authy_hide:{message:"Users that hide an Authy account",name:"account_authy_hidden"},account_authenticator_delete:{message:"Users that delete an authenticator account. When the account is not encrypted it is automatically removed after 48 hours",name:"account_authenticator_deleted"},account_authenticator_hide:{message:"Users that hide a GA account",name:"account_authenticator_hidden"},account_authenticator_undelete:{message:"Users that undelete a GA account",name:"account_authenticator_undeleted"},account_authy_revealed:{message:"Users that reveal an Authy account",name:"account_authy_revealed"},account_change_logo:{message:"User that changes an account logo",name:"account_logo_changed"},account_copy:{message:"Users that use the copy button",name:"account_copied"},account_corrupted:{message:"When an account gets corrupted",name:"account_corrupted"}},t.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},t.prototype.validate=function(){if(t.__super__.validate.call(this),!this.getUserId())throw new Error("User id should be set")},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13)],i=function(e){var t;return t=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams(),r.app&&this.setAccountInfoCommonParams(r.app)}return o(t,e),t.prototype.events={onetouch_enable:{message:"The public key for the account was uploaded",name:"onetouch_public_key_uploaded"},onetouch_approve_transaction:{message:"User approves a OneTouch request",name:"onetouch_request_approved"},onetouch_deny_transaction:{message:"User denies a OneTouch transaction",name:"onetouch_request_denied"},onetouch_button_clicked:{message:"User clicks on the 'OneTouch' button on the main view",name:"onetouch_button_clicked"}},t.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13)],i=function(e){var t;return t=function(e){function t(e,r){var n,i;null==r&&(r={}),t.__super__.constructor.call(this,e,r),r.payload instanceof Object&&((null!=(n=r.payload)?n.type:void 0)&&this.setPushNotificationType(r.payload.type),(null!=(i=r.payload)?i.twi_message_id:void 0)&&this.setPushNotificationTwiMessageId(r.payload.twi_message_id)),this.setAppCommonParams()}return o(t,e),t.prototype.events={push_notification_receive:{message:"User receives a push notification",name:"push_notification_received"},push_notification_open:{message:"User opens a push notification",name:"push_notification_opened"}},t.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13),r(54)],i=function(e,t){var r;return r=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams()}return o(t,e),t.prototype.events={registration_init:{message:"Users arriving at the registration view",name:"registration_initialized"},registration_cellphone:{message:"User enters the country code and cellphone number in the registration view",name:"registration_cellphone_entered"},registration_email:{message:"Users that fill the email field",name:"registration_email_entered"},registration_verification:{message:"Users that select a verification method (sms, call or device)",name:"registration_verification_method_selected"},registration_account_recovery_started:{message:"Users that start a recovery from the app",name:"registration_account_recovery_started"},registration_finish:{message:"User finishes registration, after a successful call to registration-finish endpoint",name:"registration_finished"}},t.prototype.validate=function(){if(t.__super__.validate.call(this),!this.getAnonymousUserId())throw new Error("Anonymous user id should be set")},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(13)],i=function(e){var t;return t=function(e){function t(e,r){null==r&&(r={}),t.__super__.constructor.call(this,e,r),this.setAppCommonParams()}return o(t,e),t.prototype.events={user_account_change_email_success:{message:"Email changing process is started successfully in the client side.",name:"user_account_change_email_started"},user_account_change_cellphone:{message:"Phone changing process is started successfully in the client side.",name:"user_account_change_cellphone_started"}},t.prototype.beforeSend=function(e){return null==e&&(e=function(){}),this.setUserInfoCommonParams(e)},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n,i;n=[r(157),r(158),r(5),r(8),r(11),r(15),r(42)],i=function(e,t,r,n,i,o,a){var s;return s=function(){function s(){}var u,c,l;return s.LEARN_MORE="https://authy.com/learn-more#phishing",l={},u=0,c=!1,s.phishing=function(e){var t,r,n,i,o,u,c;return null==e&&(e={}),o=e.notification||chrome.notifications,i=e.logo||"img/logos/icon48.png",r=e.createListener||function(){},t=e.appName,u=e.onButtonClicked||function(e,t){return a('<a target="_blank" href="'+s.LEARN_MORE+'"></a>')[0].click()},c={type:"basic",title:"Phishing Alert",message:"You're attempting to use a "+t+" token but "+t+" is not open.",iconUrl:i,buttons:[{title:"Learn more about phishing."}]},n="phishing-"+(new Date).getTime(),o.onButtonClicked.hasListeners()||o.onButtonClicked.addListener(u),s.create(n,c,r,e),n},s.send=function(i){var a,p,f,d,h,y,g,v,m,C,E;return null==i&&(i={}),i.message||i.response.data.type?(h=i.notification||chrome.notifications,p=i.logo||"img/logos/icon48.png",a=i.createListener||function(){},f=i.message||(null!=(m=i.response)?m.data.alert:void 0),v=i.payload||(null!=(C=i.response)?C.data:void 0),E=i.response||!1,y=i.onClicked||function(n,i){return h.clear(n),E=l[n],E&&(E.force=!0),!r.areThereWindowsCreated()&&E?e.setNext(E,r.open):(r.open(),E&&t.get().send(E)),s.trackEvent("push_notification_open",{payload:v})},E&&t.get().send(E),g={type:"basic",title:i.title||o.appName,message:""+f,iconUrl:p},u++,d="notification-"+(new Date).getTime()+"-"+u,c===!1&&(h.onClicked.addListener(y),c=!0),l[d]=E,s.create(d,g,a,i,v),d):void n.e("Message or response type attributes are required to create a notification")},s.create=function(e,t,r,n,i){var o,a;return null==n&&(n={}),a=n.notification||chrome.notifications,(o=n.create||a.create)(e,t,function(){var e;return e=Array.prototype.slice.call(arguments),r.apply(r,e),s.trackEvent("push_notification_receive",{payload:i})})},s.trackEvent=function(e,t){return null==t&&(t={}),i.event(e,t)},s}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=[r(55),r(7),r(6)],i=function(e,t,r){var n;return n=function(e){function t(){t.__super__.constructor.call(this),t.instance=this}return o(t,e),t.instance=null,t.controllersMap={onetouch_approval_request:"ApprovalRequestController",open_token:"TokensController",add_device:"DeviceRequestController",change_phone:"",show_devices:"DevicesController"},t.prototype.toJson=function(){return{controller:this.model.controller,response:this.model.response}},t.prototype.fromJson=function(e){return e},t.prototype.getStorageLocation=function(){return"authy.storage.redirect"},t.prototype.isLoadedToMemory=function(){return null!=this.model},t.setNext=function(e,r){var n,i;return null==r&&(r=function(){}),i=t.get(),n=t.controllersMap,i.loadLocal(function(){return n[e.data.type]?(i.model={},i.model.controller=n[e.data.type],i.model.response=e,i.save(r)):r()})},t.redirect=function(e){var n,i;if(e.data&&(e.force||"ApprovalRequestController"!==r.get().getCurrentRoute()))return i=t.controllersMap,n=i[e.data.type],n?r.get().goTo(n,e):void 0},t.next=function(e){var n;return null==e&&(e=!0),n=t.get(),n.loadLocal(function(){return n.isLoadedToMemory()&&n.model.controller?(t.redirect(n.model.response),n.model={},n.save()):e?r.get().goTo("TokensController"):void 0})},t.get=function(){return t.instance?t.instance:new t},t}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r(7)],i=function(e){var t;return t=function(){function t(){t.instance=this,this.addListener(this.listen)}return t.instance=null,t.prototype.listen=function(t,r,n){return e.emit("runtime_message_received",{message:t,sender:r,sendResponse:n})},t.prototype.addListener=function(e){return chrome.runtime.onMessage.addListener(e)},t.prototype.send=chrome.runtime.sendMessage,t.get=function(){return t.instance?t.instance:new t},t}()}.apply(t,n),!(void 0!==i&&(e.exports=i))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=[r(68),r(15),r(7),r(36),r(37),r(157),r(8),r(156)],i=function(e,t,r,n,i,s,u,c){var l;return l=function(e){function n(e){null==e&&(e={}),this.isLoadedToMemory=o(this.isLoadedToMemory,this),n.__super__.constructor.call(this),l=this,this.model={registrationId:e.registrationId,registered:e.registered||!1},i.addChangePasswordEventListener(this),r.on("runtime_message_received",function(e){if(e)return i.isLoaded()?s.redirect(e.message):s.setNext(e.message)})}var l,p;return a(n,e),l=null,p=!1,n.prototype.registrationId=null,n.prototype.registered=!1,n.prototype.toJson=function(){return{registrationId:this.model.registrationId,registered:this.model.registered}},n.prototype.fromJson=function(e){return e},n.prototype.getStorageLocation=function(){return"pushnotification"},n.prototype.isLoadedToMemory=function(){return this.loadedToMemory||null!=this.model},n.prototype.register=function(e){var n;return null==e&&(e=function(){}),n=this,chrome.gcm.register(t.GCMSenders,function(t){return n.model.registrationId=t,n.save(function(){return e(n)}),r.emit("push_notification_register",n)})},n.prototype.unregister=function(e){return chrome.gcm.unregister(e)},n.prototype.send=function(e,t){return chrome.gcm.send(e,t)},n.onMessage=function(e){return c.send({response:e}),r.emit("push_notification_message",e)},n.onMessagesDeleted=function(){return r.emit("push_notification_message_deleted")},n.onSendError=function(e){return r.emit("push_notification_send_error",e)},n.load=function(e,t){var r;return e=e||function(){},t=t||function(){},r=n.get(),r.loadLocal(function(){return null!=r.model&&null!=r.model.registrationId?void e(r):t(r)})},n.initializeListeners=function(){if(!p)return chrome.gcm.onMessage.addListener(n.onMessage),chrome.gcm.onMessagesDeleted.addListener(n.onMessagesDeleted),u.d("GCM listeners initialized"),p=!0},n.get=function(e){return null==e&&(e={}),null!=l?l:new n(e)},n}(e)}.apply(t,n),!(void 0!==i&&(e.exports=i))}]);