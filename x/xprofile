# From arch wiki:
# An xprofile file, ~/.xprofile and /etc/xprofile, allows you to execute commands at the beginning of the X user session - before the window manager is started.

# The xprofile file is similar in style to xinitrc.

# make caps behave like esc and control
# this can also be made in bashrc, but will only work for each bash session
# The trailing & puts the xcape command into the background so that it doesn't block your session. The setxkbmap makes its change immediately.
setxkbmap -option 'caps:ctrl_modifier' && xcape -e 'Caps_Lock=Escape' -t 40 &
# Notice the part -t 100, if you don't set it, you may notice a delay in Esc if you use vim.


# if above fails, try this
# source: https://gist.github.com/tanyuan/55bca522bf50363ae4573d4bdcf06e2e
# # make CapsLock behave like Ctrl:
# setxkbmap -option ctrl:nocaps

# # make short-pressed Ctrl behave like Escape:
# xcape -e 'Control_L=Escape'